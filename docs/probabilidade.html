<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 13 Probabilidade | Introdução à Ciência de Dados</title>
  <meta name="description" content="Este livro apresenta conceitos e habilidades que ajudarão você a enfrentar os desafios da vida real em análise de dados. Ele abrange conceitos de probabilidade, inferência estatística, regressão linear e aprendizado de máquina. Além disso, permitirá que você desenvolva habilidades como programação em R, manipulação de dados com dplyr, visualização de dados com ggplot2, organização de arquivos no ambiente UNIX/Linux, controle de versão com GitHub e elaboração de documentos reprodutíveis com Rmarkdown." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 13 Probabilidade | Introdução à Ciência de Dados" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este livro apresenta conceitos e habilidades que ajudarão você a enfrentar os desafios da vida real em análise de dados. Ele abrange conceitos de probabilidade, inferência estatística, regressão linear e aprendizado de máquina. Além disso, permitirá que você desenvolva habilidades como programação em R, manipulação de dados com dplyr, visualização de dados com ggplot2, organização de arquivos no ambiente UNIX/Linux, controle de versão com GitHub e elaboração de documentos reprodutíveis com Rmarkdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 13 Probabilidade | Introdução à Ciência de Dados" />
  
  <meta name="twitter:description" content="Este livro apresenta conceitos e habilidades que ajudarão você a enfrentar os desafios da vida real em análise de dados. Ele abrange conceitos de probabilidade, inferência estatística, regressão linear e aprendizado de máquina. Além disso, permitirá que você desenvolva habilidades como programação em R, manipulação de dados com dplyr, visualização de dados com ggplot2, organização de arquivos no ambiente UNIX/Linux, controle de versão com GitHub e elaboração de documentos reprodutíveis com Rmarkdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2020-06-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introdução-às-estatísticas-com-r.html"/>
<link rel="next" href="variáveis-aleatórias.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introdução à Ciência de Dados</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefácio</a></li>
<li class="chapter" data-level="" data-path="agradecimentos.html"><a href="agradecimentos.html"><i class="fa fa-check"></i>Agradecimentos</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html"><i class="fa fa-check"></i>Introdução</a>
<ul>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#estudos-de-caso"><i class="fa fa-check"></i>Estudos de Caso</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#quem-achará-este-livro-útil"><i class="fa fa-check"></i>Quem achará este livro útil?</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#o-que-este-livro-cobre"><i class="fa fa-check"></i>O que este livro cobre?</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#o-que-este-livro-não-cobre"><i class="fa fa-check"></i>O que este livro não cobre?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Começando com R e RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#o-console-do-r"><i class="fa fa-check"></i><b>1.1</b> O console do R</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>1.2</b> <em>scripts</em></a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.3</b> RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="getting-started.html"><a href="getting-started.html#painéis"><i class="fa fa-check"></i><b>1.3.1</b> Painéis</a></li>
<li class="chapter" data-level="1.3.2" data-path="getting-started.html"><a href="getting-started.html#combinações-de-teclas"><i class="fa fa-check"></i><b>1.3.2</b> <em>Combinações de teclas</em></a></li>
<li class="chapter" data-level="1.3.3" data-path="getting-started.html"><a href="getting-started.html#como-executar-comandos-enquanto-edita-scripts"><i class="fa fa-check"></i><b>1.3.3</b> Como executar comandos enquanto edita <em>scripts</em></a></li>
<li class="chapter" data-level="1.3.4" data-path="getting-started.html"><a href="getting-started.html#como-alterar-opções-globais"><i class="fa fa-check"></i><b>1.3.4</b> Como alterar opções globais</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#instalando-pacotes-r"><i class="fa fa-check"></i><b>1.4</b> Instalando pacotes R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R básico</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#o-básico"><i class="fa fa-check"></i><b>2.1</b> O básico</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="r-basics.html"><a href="r-basics.html#o-espaço-de-trabalho"><i class="fa fa-check"></i><b>2.1.1</b> O espaço de trabalho</a></li>
<li class="chapter" data-level="2.1.2" data-path="r-basics.html"><a href="r-basics.html#funções"><i class="fa fa-check"></i><b>2.1.2</b> Funções</a></li>
<li class="chapter" data-level="2.1.3" data-path="r-basics.html"><a href="r-basics.html#outros-objetos-predefinidos"><i class="fa fa-check"></i><b>2.1.3</b> Outros objetos predefinidos</a></li>
<li class="chapter" data-level="2.1.4" data-path="r-basics.html"><a href="r-basics.html#nomes-de-variáveis"><i class="fa fa-check"></i><b>2.1.4</b> Nomes de variáveis</a></li>
<li class="chapter" data-level="2.1.5" data-path="r-basics.html"><a href="r-basics.html#como-salvar-seu-espaço-de-trabalho"><i class="fa fa-check"></i><b>2.1.5</b> Como salvar seu espaço de trabalho</a></li>
<li class="chapter" data-level="2.1.6" data-path="r-basics.html"><a href="r-basics.html#motivando-scripts"><i class="fa fa-check"></i><b>2.1.6</b> <em>Motivando scripts</em></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#exercícios"><i class="fa fa-check"></i><b>2.2</b> Exercícios</a></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#tipo-de-dados"><i class="fa fa-check"></i><b>2.3</b> Tipo de dados</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.3.1</b> <em>data frames</em></a></li>
<li class="chapter" data-level="2.3.2" data-path="r-basics.html"><a href="r-basics.html#como-examinar-um-objeto"><i class="fa fa-check"></i><b>2.3.2</b> Como examinar um objeto</a></li>
<li class="chapter" data-level="2.3.3" data-path="r-basics.html"><a href="r-basics.html#o-operador-de-acesso"><i class="fa fa-check"></i><b>2.3.3</b> O operador de acesso: <code>$</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.3.4</b> Listas</a></li>
<li class="chapter" data-level="2.3.5" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>2.3.5</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#exercícios-1"><i class="fa fa-check"></i><b>2.4</b> Exercícios</a></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#vetores"><i class="fa fa-check"></i><b>2.5</b> Vetores</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="r-basics.html"><a href="r-basics.html#como-criar-vetores"><i class="fa fa-check"></i><b>2.5.1</b> Como criar vetores</a></li>
<li class="chapter" data-level="2.5.2" data-path="r-basics.html"><a href="r-basics.html#nomes"><i class="fa fa-check"></i><b>2.5.2</b> Nomes</a></li>
<li class="chapter" data-level="2.5.3" data-path="r-basics.html"><a href="r-basics.html#sequências"><i class="fa fa-check"></i><b>2.5.3</b> Sequências</a></li>
<li class="chapter" data-level="2.5.4" data-path="r-basics.html"><a href="r-basics.html#como-criar-um-subconjunto"><i class="fa fa-check"></i><b>2.5.4</b> Como criar um subconjunto</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#conversão-forçada"><i class="fa fa-check"></i><b>2.6</b> Conversão forçada</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#não-disponível-na"><i class="fa fa-check"></i><b>2.6.1</b> <em>Não disponível</em> (NA)</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#exercícios-2"><i class="fa fa-check"></i><b>2.7</b> Exercícios</a></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#ordenação"><i class="fa fa-check"></i><b>2.8</b> <em>Ordenação</em></a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.8.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.8.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.8.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.8.3" data-path="r-basics.html"><a href="r-basics.html#max-e-which.max"><i class="fa fa-check"></i><b>2.8.3</b> <code>max</code> e <code>which.max</code></a></li>
<li class="chapter" data-level="2.8.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.8.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.8.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-com-a-reciclagem"><i class="fa fa-check"></i><b>2.8.5</b> Cuidado com a reciclagem</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#exercícios-3"><i class="fa fa-check"></i><b>2.9</b> Exercícios</a></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#aritmética-vetorial"><i class="fa fa-check"></i><b>2.10</b> Aritmética vetorial</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="r-basics.html"><a href="r-basics.html#rescalar-um-vetor"><i class="fa fa-check"></i><b>2.10.1</b> <em>Rescalar</em> um vetor</a></li>
<li class="chapter" data-level="2.10.2" data-path="r-basics.html"><a href="r-basics.html#dois-vetores"><i class="fa fa-check"></i><b>2.10.2</b> Dois vetores</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#exercícios-4"><i class="fa fa-check"></i><b>2.11</b> Exercícios</a></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#indexação"><i class="fa fa-check"></i><b>2.12</b> Indexação</a>
<ul>
<li class="chapter" data-level="2.12.1" data-path="r-basics.html"><a href="r-basics.html#criar-subconjuntos-com-lógicas"><i class="fa fa-check"></i><b>2.12.1</b> Criar subconjuntos com lógicas</a></li>
<li class="chapter" data-level="2.12.2" data-path="r-basics.html"><a href="r-basics.html#operadores-lógicos"><i class="fa fa-check"></i><b>2.12.2</b> Operadores lógicos</a></li>
<li class="chapter" data-level="2.12.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.12.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.12.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.12.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.12.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.12.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#exercícios-5"><i class="fa fa-check"></i><b>2.13</b> Exercícios</a></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#gráficos-básicos"><i class="fa fa-check"></i><b>2.14</b> Gráficos básicos</a>
<ul>
<li class="chapter" data-level="2.14.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.14.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.14.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.14.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.14.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.14.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.14.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.14.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#exercícios-6"><i class="fa fa-check"></i><b>2.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html"><i class="fa fa-check"></i><b>3</b> Conceitos básicos de programação</a>
<ul>
<li class="chapter" data-level="3.1" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expressões condicionais</a></li>
<li class="chapter" data-level="3.2" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#como-definir-funções"><i class="fa fa-check"></i><b>3.2</b> Como definir funções</a></li>
<li class="chapter" data-level="3.3" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#namespaces"><i class="fa fa-check"></i><b>3.3</b> <em>Namespaces</em></a></li>
<li class="chapter" data-level="3.4" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#loops-para"><i class="fa fa-check"></i><b>3.4</b> Loops para</a></li>
<li class="chapter" data-level="3.5" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> Vectorização e funcional</a></li>
<li class="chapter" data-level="3.6" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#exercícios-7"><i class="fa fa-check"></i><b>3.6</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> <em>tidyverse</em></a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Data <em>tidy</em></a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-8"><i class="fa fa-check"></i><b>4.2</b> Exercícios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#como-manipular-data-frames"><i class="fa fa-check"></i><b>4.3</b> Como manipular <em>data frames</em></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#como-adicionar-uma-coluna-com-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Como adicionar uma coluna com <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#como-criar-subconjuntos-com-filter"><i class="fa fa-check"></i><b>4.3.2</b> Como criar subconjuntos com <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#como-selecionar-colunas-com-select"><i class="fa fa-check"></i><b>4.3.3</b> Como selecionar colunas com <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-9"><i class="fa fa-check"></i><b>4.4</b> Exercícios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#o-cano_"><i class="fa fa-check"></i><b>4.5</b> O cano_: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-10"><i class="fa fa-check"></i><b>4.6</b> Exercícios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#como-resumir-dados"><i class="fa fa-check"></i><b>4.7</b> Como resumir dados</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.7.2</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Como agrupar e resumir com <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#como-encomendar-os-data-frames"><i class="fa fa-check"></i><b>4.8</b> Como encomendar os <em>data frames</em></a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="tidyverse.html"><a href="tidyverse.html#como-encomendar-aninhado"><i class="fa fa-check"></i><b>4.8.1</b> Como encomendar aninhado</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidyverse.html"><a href="tidyverse.html#os-primeiros-n"><i class="fa fa-check"></i><b>4.8.2</b> Os primeiros <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-11"><i class="fa fa-check"></i><b>4.9</b> Exercícios</a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.10</b> <em>Tibbles</em></a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-parece-melhor"><i class="fa fa-check"></i><b>4.10.1</b> <em>Tibbles</em> parece melhor</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidyverse.html"><a href="tidyverse.html#tibbles_subconjuntos-são_tibbles"><i class="fa fa-check"></i><b>4.10.2</b> <em>Tibbles_subconjuntos são_tibbles</em></a></li>
<li class="chapter" data-level="4.10.3" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-pode-ter-entradas-complexas"><i class="fa fa-check"></i><b>4.10.3</b> <em>Tibbles</em> pode ter entradas complexas</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-podem-ser-agrupados"><i class="fa fa-check"></i><b>4.10.4</b> <em>Tibbles</em> podem ser agrupados</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidyverse.html"><a href="tidyverse.html#como-criar-um-tibble-usando-tibble-ao-invés-de-data.frame"><i class="fa fa-check"></i><b>4.10.5</b> Como criar um <em>tibble</em> usando <code>tibble</code> ao invés de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#o-operador-de-ponto"><i class="fa fa-check"></i><b>4.11</b> O operador de ponto</a></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#do"><i class="fa fa-check"></i><b>4.12</b> <code>do</code></a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#o-pacote-purrr"><i class="fa fa-check"></i><b>4.13</b> O pacote <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#os-condicionais-tidyverse"><i class="fa fa-check"></i><b>4.14</b> Os condicionais <em>tidyverse</em></a>
<ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-12"><i class="fa fa-check"></i><b>4.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando dados</a>
<ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#caminhos-e-diretório-de-trabalho"><i class="fa fa-check"></i><b>5.1</b> Caminhos e diretório de trabalho</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#o-sistema-de-arquivos"><i class="fa fa-check"></i><b>5.1.1</b> O sistema de arquivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#caminhos-relativos-e-completos"><i class="fa fa-check"></i><b>5.1.2</b> Caminhos relativos e completos</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#o-diretório-de-trabalho"><i class="fa fa-check"></i><b>5.1.3</b> O diretório de trabalho</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#como-gerar-nomes-de-caminhos"><i class="fa fa-check"></i><b>5.1.4</b> Como gerar nomes de caminhos</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#como-copiar-arquivos-usando-caminhos"><i class="fa fa-check"></i><b>5.1.5</b> Como copiar arquivos usando caminhos</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#os-pacotes-readr-e-readxl"><i class="fa fa-check"></i><b>5.2</b> Os pacotes readr e readxl</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#readr"><i class="fa fa-check"></i><b>5.2.1</b> readr</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#exercícios-13"><i class="fa fa-check"></i><b>5.3</b> Exercícios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#como-baixar-arquivos"><i class="fa fa-check"></i><b>5.4</b> Como baixar arquivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#funções-básicas-de-importação-r"><i class="fa fa-check"></i><b>5.5</b> Funções básicas de importação R</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#arquivos-de-texto-versus-arquivos-binários"><i class="fa fa-check"></i><b>5.6</b> Arquivos de texto versus arquivos binários</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#como-organizar-dados-com-planilhas"><i class="fa fa-check"></i><b>5.8</b> Como organizar dados com planilhas</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#exercícios-14"><i class="fa fa-check"></i><b>5.9</b> Exercícios</a></li>
</ul></li>
<li class="part"><span><b>II Exibição de dados</b></span></li>
<li class="chapter" data-level="6" data-path="introdução-à-visualização-de-dados.html"><a href="introdução-à-visualização-de-dados.html"><i class="fa fa-check"></i><b>6</b> Introdução à visualização de dados</a></li>
<li class="chapter" data-level="7" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>7</b> ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ggplot2.html"><a href="ggplot2.html#os-componentes-de-um-gráfico"><i class="fa fa-check"></i><b>7.1</b> Os componentes de um gráfico</a></li>
<li class="chapter" data-level="7.2" data-path="ggplot2.html"><a href="ggplot2.html#objetos-ggplot"><i class="fa fa-check"></i><b>7.2</b> objetos <code>ggplot</code></a></li>
<li class="chapter" data-level="7.3" data-path="ggplot2.html"><a href="ggplot2.html#geometrias"><i class="fa fa-check"></i><b>7.3</b> Geometrias</a></li>
<li class="chapter" data-level="7.4" data-path="ggplot2.html"><a href="ggplot2.html#mapeamentos-estéticos"><i class="fa fa-check"></i><b>7.4</b> Mapeamentos estéticos</a></li>
<li class="chapter" data-level="7.5" data-path="ggplot2.html"><a href="ggplot2.html#camadas"><i class="fa fa-check"></i><b>7.5</b> Camadas</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="ggplot2.html"><a href="ggplot2.html#como-testar-vários-argumentos"><i class="fa fa-check"></i><b>7.5.1</b> Como testar vários argumentos</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="ggplot2.html"><a href="ggplot2.html#mapeamento-estético-global-versus-local"><i class="fa fa-check"></i><b>7.6</b> Mapeamento estético global versus local</a></li>
<li class="chapter" data-level="7.7" data-path="ggplot2.html"><a href="ggplot2.html#escalas"><i class="fa fa-check"></i><b>7.7</b> Escalas</a></li>
<li class="chapter" data-level="7.8" data-path="ggplot2.html"><a href="ggplot2.html#tags-e-títulos"><i class="fa fa-check"></i><b>7.8</b> Tags e títulos</a></li>
<li class="chapter" data-level="7.9" data-path="ggplot2.html"><a href="ggplot2.html#categorias-como-cores"><i class="fa fa-check"></i><b>7.9</b> Categorias como cores</a></li>
<li class="chapter" data-level="7.10" data-path="ggplot2.html"><a href="ggplot2.html#anotação-formas-e-ajustes"><i class="fa fa-check"></i><b>7.10</b> Anotação, formas e ajustes</a></li>
<li class="chapter" data-level="7.11" data-path="ggplot2.html"><a href="ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>7.11</b> Pacotes complementares</a></li>
<li class="chapter" data-level="7.12" data-path="ggplot2.html"><a href="ggplot2.html#como-combinar-tudo"><i class="fa fa-check"></i><b>7.12</b> Como combinar tudo</a></li>
<li class="chapter" data-level="7.13" data-path="ggplot2.html"><a href="ggplot2.html#qplot"><i class="fa fa-check"></i><b>7.13</b> Gráficos rápidos com <code>qplot</code></a></li>
<li class="chapter" data-level="7.14" data-path="ggplot2.html"><a href="ggplot2.html#grades-de-gráfico"><i class="fa fa-check"></i><b>7.14</b> Grades de gráfico</a></li>
<li class="chapter" data-level="7.15" data-path="ggplot2.html"><a href="ggplot2.html#exercícios-15"><i class="fa fa-check"></i><b>7.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>8</b> Como visualizar distribuições de dados</a>
<ul>
<li class="chapter" data-level="8.1" data-path="distributions.html"><a href="distributions.html#tipos-de-variáveis"><i class="fa fa-check"></i><b>8.1</b> Tipos de variáveis</a></li>
<li class="chapter" data-level="8.2" data-path="distributions.html"><a href="distributions.html#estudo-de-caso-descrevendo-a-altura-dos-alunos"><i class="fa fa-check"></i><b>8.2</b> Estudo de caso: descrevendo a altura dos alunos</a></li>
<li class="chapter" data-level="8.3" data-path="distributions.html"><a href="distributions.html#a-função-de-distribuição"><i class="fa fa-check"></i><b>8.3</b> A função de distribuição</a></li>
<li class="chapter" data-level="8.4" data-path="distributions.html"><a href="distributions.html#cdf-intro"><i class="fa fa-check"></i><b>8.4</b> Funções de distribuição cumulativa</a></li>
<li class="chapter" data-level="8.5" data-path="distributions.html"><a href="distributions.html#histogramas"><i class="fa fa-check"></i><b>8.5</b> Histogramas</a></li>
<li class="chapter" data-level="8.6" data-path="distributions.html"><a href="distributions.html#densidade-suave"><i class="fa fa-check"></i><b>8.6</b> Densidade suave</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="distributions.html"><a href="distributions.html#como-interpretar-o-eixo-y"><i class="fa fa-check"></i><b>8.6.1</b> Como interpretar o eixo y</a></li>
<li class="chapter" data-level="8.6.2" data-path="distributions.html"><a href="distributions.html#densidades-permitem-camadas"><i class="fa fa-check"></i><b>8.6.2</b> Densidades permitem camadas</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="distributions.html"><a href="distributions.html#exercícios-16"><i class="fa fa-check"></i><b>8.7</b> Exercícios</a></li>
<li class="chapter" data-level="8.8" data-path="distributions.html"><a href="distributions.html#normal-distribution"><i class="fa fa-check"></i><b>8.8</b> A distribuição normal</a></li>
<li class="chapter" data-level="8.9" data-path="distributions.html"><a href="distributions.html#unidades-padrão"><i class="fa fa-check"></i><b>8.9</b> Unidades padrão</a></li>
<li class="chapter" data-level="8.10" data-path="distributions.html"><a href="distributions.html#gráficos-qq"><i class="fa fa-check"></i><b>8.10</b> Gráficos QQ</a></li>
<li class="chapter" data-level="8.11" data-path="distributions.html"><a href="distributions.html#percentis"><i class="fa fa-check"></i><b>8.11</b> Percentis</a></li>
<li class="chapter" data-level="8.12" data-path="distributions.html"><a href="distributions.html#diagramas-de-caixas"><i class="fa fa-check"></i><b>8.12</b> Diagramas de caixas</a></li>
<li class="chapter" data-level="8.13" data-path="distributions.html"><a href="distributions.html#stratification"><i class="fa fa-check"></i><b>8.13</b> Estratificação</a></li>
<li class="chapter" data-level="8.14" data-path="distributions.html"><a href="distributions.html#student-height-cont"><i class="fa fa-check"></i><b>8.14</b> Estudo de caso: descrição das alturas dos alunos (continuação)</a></li>
<li class="chapter" data-level="8.15" data-path="distributions.html"><a href="distributions.html#exercícios-17"><i class="fa fa-check"></i><b>8.15</b> Exercícios</a></li>
<li class="chapter" data-level="8.16" data-path="distributions.html"><a href="distributions.html#other-geometries"><i class="fa fa-check"></i><b>8.16</b> Gegplot2 geometrias</a>
<ul>
<li class="chapter" data-level="8.16.1" data-path="distributions.html"><a href="distributions.html#gráficos-de-barra"><i class="fa fa-check"></i><b>8.16.1</b> Gráficos de barra</a></li>
<li class="chapter" data-level="8.16.2" data-path="distributions.html"><a href="distributions.html#histogramas-1"><i class="fa fa-check"></i><b>8.16.2</b> Histogramas</a></li>
<li class="chapter" data-level="8.16.3" data-path="distributions.html"><a href="distributions.html#gráficos-de-densidade"><i class="fa fa-check"></i><b>8.16.3</b> Gráficos de densidade</a></li>
<li class="chapter" data-level="8.16.4" data-path="distributions.html"><a href="distributions.html#diagramas-de-caixas-1"><i class="fa fa-check"></i><b>8.16.4</b> Diagramas de caixas</a></li>
<li class="chapter" data-level="8.16.5" data-path="distributions.html"><a href="distributions.html#gráficos-qq-1"><i class="fa fa-check"></i><b>8.16.5</b> Gráficos QQ</a></li>
<li class="chapter" data-level="8.16.6" data-path="distributions.html"><a href="distributions.html#imagens"><i class="fa fa-check"></i><b>8.16.6</b> Imagens</a></li>
<li class="chapter" data-level="8.16.7" data-path="distributions.html"><a href="distributions.html#gráficos-rápidos"><i class="fa fa-check"></i><b>8.16.7</b> Gráficos rápidos</a></li>
</ul></li>
<li class="chapter" data-level="8.17" data-path="distributions.html"><a href="distributions.html#exercícios-18"><i class="fa fa-check"></i><b>8.17</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="gapminder.html"><a href="gapminder.html"><i class="fa fa-check"></i><b>9</b> Visualização de dados na prática</a>
<ul>
<li class="chapter" data-level="9.1" data-path="gapminder.html"><a href="gapminder.html#estudo-de-caso-novas-idéias-sobre-pobreza"><i class="fa fa-check"></i><b>9.1</b> Estudo de caso: novas idéias sobre pobreza</a></li>
<li class="chapter" data-level="9.2" data-path="gapminder.html"><a href="gapminder.html#diagrama-de-dispersão"><i class="fa fa-check"></i><b>9.2</b> Diagrama de dispersão</a></li>
<li class="chapter" data-level="9.3" data-path="gapminder.html"><a href="gapminder.html#separe-em-facetas"><i class="fa fa-check"></i><b>9.3</b> Separe em facetas</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="gapminder.html"><a href="gapminder.html#facet_wrap"><i class="fa fa-check"></i><b>9.3.1</b> <code>facet_wrap</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="gapminder.html"><a href="gapminder.html#escalas-fixas-para-melhores-comparações"><i class="fa fa-check"></i><b>9.3.2</b> Escalas fixas para melhores comparações</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="gapminder.html"><a href="gapminder.html#gráficos-de-séries-temporais"><i class="fa fa-check"></i><b>9.4</b> Gráficos de séries temporais</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="gapminder.html"><a href="gapminder.html#etiquetas-em-vez-de-legendas"><i class="fa fa-check"></i><b>9.4.1</b> Etiquetas em vez de legendas</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="gapminder.html"><a href="gapminder.html#transformações-de-dados"><i class="fa fa-check"></i><b>9.5</b> Transformações de dados</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="gapminder.html"><a href="gapminder.html#transformação-logarítmica"><i class="fa fa-check"></i><b>9.5.1</b> Transformação logarítmica</a></li>
<li class="chapter" data-level="9.5.2" data-path="gapminder.html"><a href="gapminder.html#qual-base"><i class="fa fa-check"></i><b>9.5.2</b> Qual base?</a></li>
<li class="chapter" data-level="9.5.3" data-path="gapminder.html"><a href="gapminder.html#transformar-valores-ou-escala"><i class="fa fa-check"></i><b>9.5.3</b> Transformar valores ou escala?</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="gapminder.html"><a href="gapminder.html#como-visualizar-distribuições-multimodais"><i class="fa fa-check"></i><b>9.6</b> Como visualizar distribuições multimodais</a></li>
<li class="chapter" data-level="9.7" data-path="gapminder.html"><a href="gapminder.html#como-comparar-várias-distribuições-com-gráficos-de-caixas-e-gráficos-ridge"><i class="fa fa-check"></i><b>9.7</b> Como comparar várias distribuições com gráficos de caixas e gráficos <em>ridge</em></a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="gapminder.html"><a href="gapminder.html#diagrama-de-caixa"><i class="fa fa-check"></i><b>9.7.1</b> Diagrama de caixa</a></li>
<li class="chapter" data-level="9.7.2" data-path="gapminder.html"><a href="gapminder.html#exemplo-distribuições-de-renda-1970-versus-2010"><i class="fa fa-check"></i><b>9.7.2</b> Exemplo: distribuições de renda 1970 versus 2010</a></li>
<li class="chapter" data-level="9.7.3" data-path="gapminder.html"><a href="gapminder.html#como-acessar-variáveis-calculadas"><i class="fa fa-check"></i><b>9.7.3</b> Como acessar variáveis calculadas</a></li>
<li class="chapter" data-level="9.7.4" data-path="gapminder.html"><a href="gapminder.html#densidades-ponderadas"><i class="fa fa-check"></i><b>9.7.4</b> Densidades ponderadas</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="gapminder.html"><a href="gapminder.html#a-falácia-ecológica-e-a-importância-de-mostrar-os-dados"><i class="fa fa-check"></i><b>9.8</b> A falácia ecológica e a importância de mostrar os dados</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="gapminder.html"><a href="gapminder.html#logit"><i class="fa fa-check"></i><b>9.8.1</b> Transformação de logística</a></li>
<li class="chapter" data-level="9.8.2" data-path="gapminder.html"><a href="gapminder.html#mostrar-os-dados"><i class="fa fa-check"></i><b>9.8.2</b> Mostrar os dados</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html"><i class="fa fa-check"></i><b>10</b> Princípios de visualização de dados</a>
<ul>
<li class="chapter" data-level="10.1" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#como-codificar-dados-usando-pistas-visuais"><i class="fa fa-check"></i><b>10.1</b> Como codificar dados usando pistas visuais</a></li>
<li class="chapter" data-level="10.2" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#saiba-quando-incluir-0"><i class="fa fa-check"></i><b>10.2</b> Saiba quando incluir 0</a></li>
<li class="chapter" data-level="10.3" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#não-distorça-quantidades"><i class="fa fa-check"></i><b>10.3</b> Não distorça quantidades</a></li>
<li class="chapter" data-level="10.4" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#classificar-categorias-por-valor-significativo"><i class="fa fa-check"></i><b>10.4</b> Classificar categorias por valor significativo</a></li>
<li class="chapter" data-level="10.5" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#mostrar-os-dados-1"><i class="fa fa-check"></i><b>10.5</b> Mostrar os dados</a></li>
<li class="chapter" data-level="10.6" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#como-facilitar-comparações"><i class="fa fa-check"></i><b>10.6</b> Como facilitar comparações</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#use-eixos-comuns"><i class="fa fa-check"></i><b>10.6.1</b> Use eixos comuns</a></li>
<li class="chapter" data-level="10.6.2" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#alinhe-os-gráficos-verticalmente-para-ver-alterações-horizontais-e-horizontalmente-para-ver-alterações-verticais"><i class="fa fa-check"></i><b>10.6.2</b> Alinhe os gráficos verticalmente para ver alterações horizontais e horizontalmente para ver alterações verticais</a></li>
<li class="chapter" data-level="10.6.3" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#considere-transformações"><i class="fa fa-check"></i><b>10.6.3</b> Considere transformações</a></li>
<li class="chapter" data-level="10.6.4" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#as-indicações-visuais-comparadas-devem-ser-adjacentes"><i class="fa fa-check"></i><b>10.6.4</b> As indicações visuais comparadas devem ser adjacentes</a></li>
<li class="chapter" data-level="10.6.5" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#use-cores"><i class="fa fa-check"></i><b>10.6.5</b> Use cores</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#pense-no-daltônico"><i class="fa fa-check"></i><b>10.7</b> Pense no daltônico</a></li>
<li class="chapter" data-level="10.8" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#gráficos-para-duas-variáveis"><i class="fa fa-check"></i><b>10.8</b> Gráficos para duas variáveis</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#gráficos-de-inclinação"><i class="fa fa-check"></i><b>10.8.1</b> Gráficos de inclinação</a></li>
<li class="chapter" data-level="10.8.2" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#gráfico-de-bland-altman"><i class="fa fa-check"></i><b>10.8.2</b> Gráfico de Bland-Altman</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#como-codificar-uma-terceira-variável"><i class="fa fa-check"></i><b>10.9</b> Como codificar uma terceira variável</a></li>
<li class="chapter" data-level="10.10" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#evitar-gráficos-pseudo-tridimensionais"><i class="fa fa-check"></i><b>10.10</b> Evitar gráficos pseudo-tridimensionais</a></li>
<li class="chapter" data-level="10.11" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#evite-muitos-dígitos-significativos"><i class="fa fa-check"></i><b>10.11</b> Evite muitos dígitos significativos</a></li>
<li class="chapter" data-level="10.12" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#conheça-o-seu-público"><i class="fa fa-check"></i><b>10.12</b> Conheça o seu público</a></li>
<li class="chapter" data-level="10.13" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#exercícios-19"><i class="fa fa-check"></i><b>10.13</b> Exercícios</a></li>
<li class="chapter" data-level="10.14" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#vaccines"><i class="fa fa-check"></i><b>10.14</b> Estudo de caso: vacinas e doenças infecciosas</a></li>
<li class="chapter" data-level="10.15" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#exercícios-20"><i class="fa fa-check"></i><b>10.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="robust-summaries.html"><a href="robust-summaries.html"><i class="fa fa-check"></i><b>11</b> Resumos robustos</a>
<ul>
<li class="chapter" data-level="11.1" data-path="robust-summaries.html"><a href="robust-summaries.html#valores-atípicos"><i class="fa fa-check"></i><b>11.1</b> Valores atípicos</a></li>
<li class="chapter" data-level="11.2" data-path="robust-summaries.html"><a href="robust-summaries.html#mediana"><i class="fa fa-check"></i><b>11.2</b> Mediana</a></li>
<li class="chapter" data-level="11.3" data-path="robust-summaries.html"><a href="robust-summaries.html#o-intervalo-interquartil-iqr"><i class="fa fa-check"></i><b>11.3</b> O intervalo interquartil (IQR)</a></li>
<li class="chapter" data-level="11.4" data-path="robust-summaries.html"><a href="robust-summaries.html#definição-de-tukey-de-um-outlier"><i class="fa fa-check"></i><b>11.4</b> Definição de Tukey de um outlier</a></li>
<li class="chapter" data-level="11.5" data-path="robust-summaries.html"><a href="robust-summaries.html#desvio-absoluto-mediano"><i class="fa fa-check"></i><b>11.5</b> Desvio absoluto mediano</a></li>
<li class="chapter" data-level="11.6" data-path="robust-summaries.html"><a href="robust-summaries.html#exercícios-21"><i class="fa fa-check"></i><b>11.6</b> Exercícios</a></li>
<li class="chapter" data-level="11.7" data-path="robust-summaries.html"><a href="robust-summaries.html#estudo-de-caso-altura-do-aluno-autorreferida"><i class="fa fa-check"></i><b>11.7</b> Estudo de caso: altura do aluno autorreferida</a></li>
</ul></li>
<li class="part"><span><b>III Estatísticas com R</b></span></li>
<li class="chapter" data-level="12" data-path="introdução-às-estatísticas-com-r.html"><a href="introdução-às-estatísticas-com-r.html"><i class="fa fa-check"></i><b>12</b> Introdução às estatísticas com R</a></li>
<li class="chapter" data-level="13" data-path="probabilidade.html"><a href="probabilidade.html"><i class="fa fa-check"></i><b>13</b> Probabilidade</a>
<ul>
<li class="chapter" data-level="13.1" data-path="probabilidade.html"><a href="probabilidade.html#probabilidade-discreta"><i class="fa fa-check"></i><b>13.1</b> Probabilidade discreta</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="probabilidade.html"><a href="probabilidade.html#frequência-relativa"><i class="fa fa-check"></i><b>13.1.1</b> Frequência relativa</a></li>
<li class="chapter" data-level="13.1.2" data-path="probabilidade.html"><a href="probabilidade.html#notação"><i class="fa fa-check"></i><b>13.1.2</b> Notação</a></li>
<li class="chapter" data-level="13.1.3" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-de-probabilidade"><i class="fa fa-check"></i><b>13.1.3</b> Distribuições de probabilidade</a></li>
<li class="chapter" data-level="13.1.4" data-path="probabilidade.html"><a href="probabilidade.html#defina-a-semente-aleatória"><i class="fa fa-check"></i><b>13.1.4</b> Defina a semente aleatória</a></li>
<li class="chapter" data-level="13.1.5" data-path="probabilidade.html"><a href="probabilidade.html#com-e-sem-substituição"><i class="fa fa-check"></i><b>13.1.5</b> Com e sem substituição</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="probabilidade.html"><a href="probabilidade.html#independência"><i class="fa fa-check"></i><b>13.2</b> Independência</a></li>
<li class="chapter" data-level="13.3" data-path="probabilidade.html"><a href="probabilidade.html#probabilidades-condicionais"><i class="fa fa-check"></i><b>13.3</b> Probabilidades condicionais</a></li>
<li class="chapter" data-level="13.4" data-path="probabilidade.html"><a href="probabilidade.html#regras-de-adição-e-multiplicação"><i class="fa fa-check"></i><b>13.4</b> Regras de adição e multiplicação</a></li>
<li class="chapter" data-level="13.5" data-path="probabilidade.html"><a href="probabilidade.html#combinações-e-permutações"><i class="fa fa-check"></i><b>13.5</b> Combinações e permutações</a></li>
<li class="chapter" data-level="13.6" data-path="probabilidade.html"><a href="probabilidade.html#exemplos"><i class="fa fa-check"></i><b>13.6</b> Exemplos</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="probabilidade.html"><a href="probabilidade.html#problema-de-aniversário"><i class="fa fa-check"></i><b>13.6.1</b> Problema de aniversário</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="probabilidade.html"><a href="probabilidade.html#exercícios-22"><i class="fa fa-check"></i><b>13.7</b> Exercícios</a></li>
<li class="chapter" data-level="13.8" data-path="probabilidade.html"><a href="probabilidade.html#probabilidade-contínua"><i class="fa fa-check"></i><b>13.8</b> Probabilidade contínua</a></li>
<li class="chapter" data-level="13.9" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-teóricas-contínuas"><i class="fa fa-check"></i><b>13.9</b> Distribuições teóricas contínuas</a>
<ul>
<li class="chapter" data-level="13.9.1" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-teóricas-como-aproximações"><i class="fa fa-check"></i><b>13.9.1</b> Distribuições teóricas como aproximações</a></li>
<li class="chapter" data-level="13.9.2" data-path="probabilidade.html"><a href="probabilidade.html#a-densidade-de-probabilidade"><i class="fa fa-check"></i><b>13.9.2</b> A densidade de probabilidade</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-contínuas"><i class="fa fa-check"></i><b>13.10</b> Distribuições contínuas</a></li>
<li class="chapter" data-level="13.11" data-path="probabilidade.html"><a href="probabilidade.html#exercícios-23"><i class="fa fa-check"></i><b>13.11</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html"><i class="fa fa-check"></i><b>14</b> Variáveis aleatórias</a>
<ul>
<li class="chapter" data-level="14.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#variáveis-aleatórias-1"><i class="fa fa-check"></i><b>14.1</b> Variáveis aleatórias</a></li>
<li class="chapter" data-level="14.2" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#modelos-de-amostragem"><i class="fa fa-check"></i><b>14.2</b> Modelos de amostragem</a></li>
<li class="chapter" data-level="14.3" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#a-distribuição-de-probabilidade-de-uma-variável-aleatória"><i class="fa fa-check"></i><b>14.3</b> A distribuição de probabilidade de uma variável aleatória</a></li>
<li class="chapter" data-level="14.4" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#distribuições-versus-distribuições-de-probabilidade"><i class="fa fa-check"></i><b>14.4</b> Distribuições versus distribuições de probabilidade</a></li>
<li class="chapter" data-level="14.5" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#o-valor-esperado-e-o-erro-padrão"><i class="fa fa-check"></i><b>14.5</b> O valor esperado e o erro padrão</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#população-sd-versus-amostra-sd"><i class="fa fa-check"></i><b>14.5.1</b> População SD versus amostra SD</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#teorema-do-limite-central"><i class="fa fa-check"></i><b>14.6</b> Teorema do limite central</a></li>
<li class="chapter" data-level="14.7" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#propriedades-estatísticas-das-médias"><i class="fa fa-check"></i><b>14.7</b> Propriedades estatísticas das médias</a></li>
<li class="chapter" data-level="14.8" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#lei-dos-grandes-números"><i class="fa fa-check"></i><b>14.8</b> Lei dos grandes números</a>
<ul>
<li class="chapter" data-level="14.8.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#interpretação-incorreta-da-lei-das-médias"><i class="fa fa-check"></i><b>14.8.1</b> Interpretação incorreta da lei das médias</a></li>
</ul></li>
<li class="chapter" data-level="14.9" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#exercícios-24"><i class="fa fa-check"></i><b>14.9</b> Exercícios</a></li>
<li class="chapter" data-level="14.10" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#estudo-de-caso-o-grande-short"><i class="fa fa-check"></i><b>14.10</b> Estudo de caso: o grande short</a>
<ul>
<li class="chapter" data-level="14.10.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#taxas-de-juros-explicadas-com-um-modelo-de-oportunidade"><i class="fa fa-check"></i><b>14.10.1</b> Taxas de juros explicadas com um modelo de oportunidade</a></li>
<li class="chapter" data-level="14.10.2" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#o-grande-curto"><i class="fa fa-check"></i><b>14.10.2</b> O Grande Curto</a></li>
</ul></li>
<li class="chapter" data-level="14.11" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#exercícios-25"><i class="fa fa-check"></i><b>14.11</b> Exercícios</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado com bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Ciência de Dados</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="probabilidade" class="section level1" number="13">
<h1><span class="header-section-number">Capítulo 13</span> Probabilidade</h1>
<p>Nos jogos de azar, a probabilidade tem uma definição muito intuitiva. Por exemplo, sabemos o que significa quando dizemos que a probabilidade de um par de dados rolar sete é 1 em 6. No entanto, esse não é o caso em outros contextos. Hoje, a teoria das probabilidades é usada de maneira muito mais ampla com a palavra “probabilidade” e parte da linguagem cotidiana. Se digitarmos “Quais são as probabilidades de” no Google, a função de preenchimento automático nos fornecerá: “ter gêmeos”, “ter gêmeos” e “ganhar na loteria”. Um dos objetivos desta parte do livro é ajudá-lo a entender como a probabilidade é útil para entender e descrever eventos do mundo real quando realizamos análises de dados.</p>
<p>Desde que saber calcular as probabilidades oferece uma vantagem no jogo, muitas pessoas inteligentes ao longo da história, incluindo matemáticos famosos como Cardano, Fermat e Pascal, gastaram tempo e energia pensando na matemática desses jogos. . Como resultado, nasceu a teoria das probabilidades. A probabilidade ainda é muito útil nos jogos de azar modernos. Por exemplo, no pôquer, podemos calcular a probabilidade de ganhar uma mão com base nas cartas da mesa. Além disso, os cassinos confiam na teoria das probabilidades para desenvolver jogos que quase sempre garantem ganhos.</p>
<p>A teoria da probabilidade é útil em muitos outros contextos e, em particular, em áreas que de alguma forma dependem dos dados afetados pelo acaso. Todos os outros capítulos desta parte são baseados na teoria das probabilidades. Portanto, o conhecimento da probabilidade é indispensável para a ciência de dados.</p>

<div id="probabilidade-discreta" class="section level2" number="13.1">
<h2><span class="header-section-number">13.1</span> Probabilidade discreta</h2>
<p>Começamos explorando alguns princípios básicos relacionados aos dados categóricos. Essa parte da probabilidade é conhecida como a probabilidade discreta. Isso nos ajudará a entender a teoria das probabilidades que apresentaremos posteriormente para dados numéricos e contínuos, muito mais comuns em aplicativos de ciência de dados. Probabilidade discreta é mais útil em jogos de cartas e, portanto, nós as usamos como exemplos.</p>
<div id="frequência-relativa" class="section level3" number="13.1.1">
<h3><span class="header-section-number">13.1.1</span> Frequência relativa</h3>
<p>Embora a palavra probabilidade seja usada na linguagem cotidiana, é difícil responder a perguntas sobre probabilidade, se não impossível, porque o conceito de “probabilidade” não está bem definido. Aqui discutimos uma definição matemática de <em>probability</em> que nos permite dar respostas precisas a certas perguntas.</p>
<p>Por exemplo, se eu tiver 2 bolinhas vermelhas e 3 bolinhas azuis dentro de uma urna<a href="#fn46" class="footnote-ref" id="fnref46"><sup>46</sup></a> (muitos livros de probabilidade usam esse termo arcaico, também o fazemos) e escolha um aleatoriamente, qual é a probabilidade de escolher um vermelho? Nossa intuição nos diz que a resposta é 2/5 ou 40%. Uma definição precisa pode ser dada observando que existem cinco resultados possíveis, dos quais dois atendem à condição necessária para o evento “escolha um mármore vermelho”. Dado que cada um dos cinco resultados tem a mesma probabilidade de ocorrência, concluímos que a probabilidade é de 0,4 para vermelho e 0,6 para azul.</p>
<p>Uma maneira mais tangível de pensar sobre a probabilidade de um evento é a proporção de vezes que o evento ocorre quando repetimos o experimento um número infinito de vezes, independentemente e sob as mesmas condições.</p>
</div>
<div id="notação" class="section level3" number="13.1.2">
<h3><span class="header-section-number">13.1.2</span> Notação</h3>
<p>Usamos a notação <span class="math inline">\(\mbox{Pr}(A)\)</span> para denotar a probabilidade de evento acontecer <span class="math inline">\(A\)</span>. Usamos o termo geral <em>event</em> para nos referirmos a coisas que podem acontecer quando algo acontece por acaso. No exemplo anterior, o evento foi “escolha um mármore vermelho”. Em uma pesquisa política na qual chamamos aleatoriamente 100 prováveis eleitores americanos, um exemplo de evento é “ligar para 48 democratas e 52 republicanos”.</p>
<p>Em aplicativos de ciência de dados, frequentemente trabalharemos com variáveis contínuas. Esses eventos costumam ser coisas como “essa pessoa tem mais de um metro e oitenta”? Nesse caso, escrevemos eventos de uma forma mais matemática: <span class="math inline">\(X \geq 6\)</span>. Veremos mais desses exemplos abaixo. Aqui nos concentramos em dados categóricos.</p>
</div>
<div id="distribuições-de-probabilidade" class="section level3" number="13.1.3">
<h3><span class="header-section-number">13.1.3</span> Distribuições de probabilidade</h3>
<p>Se conhecermos a frequência relativa das diferentes categorias, definir uma distribuição para resultados categóricos é relativamente simples. Simplesmente atribuímos uma probabilidade a cada categoria. Nos casos que podem ser considerados bolinhas de gude em uma urna, para cada tipo de mármore, sua proporção define a distribuição.</p>
<p>Se estivermos chamando aleatoriamente prováveis eleitores de uma população que é 44% democrata, 44% republicana, 10% indecisa e 2% Partido Verde, essas proporções definem a probabilidade de cada grupo. A distribuição de probabilidade é:</p>
<table>
<tbody>
<tr class="odd">
<td>Pr (escolha um republicano)</td>
<td>=</td>
<td>0,44</td>
</tr>
<tr class="even">
<td>Pr (escolha um democrata)</td>
<td>=</td>
<td>0,44</td>
</tr>
<tr class="odd">
<td>Pr (escolha indecisa)</td>
<td>=</td>
<td>0,10</td>
</tr>
<tr class="even">
<td>Pr (escolha um verde)</td>
<td>=</td>
<td>0,02</td>
</tr>
</tbody>
</table>
<p>Simulações de Monte Carlo para dados categóricos</p>
<p>Os computadores oferecem uma maneira de realizar o experimento aleatório simples descrito acima: escolhendo um mármore aleatoriamente a partir de uma urna que contém três bolinhas azuis e duas vermelhas. Geradores de números aleatórios nos permitem imitar o processo de escolha aleatória.</p>
<p>Um exemplo é a função <code>sample</code> em R. Demonstramos seu uso no código abaixo. Primeiro, usamos a função <code>rep</code> para gerar a urna:</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="probabilidade.html#cb430-1"></a>beads &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>), <span class="dt">times =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb430-2"><a href="probabilidade.html#cb430-2"></a>beads</span>
<span id="cb430-3"><a href="probabilidade.html#cb430-3"></a><span class="co">#&gt; [1] &quot;red&quot;  &quot;red&quot;  &quot;blue&quot; &quot;blue&quot; &quot;blue&quot;</span></span></code></pre></div>
<p>e depois usamos <code>sample</code> escolher um mármore aleatoriamente:</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="probabilidade.html#cb431-1"></a><span class="kw">sample</span>(beads, <span class="dv">1</span>)</span>
<span id="cb431-2"><a href="probabilidade.html#cb431-2"></a><span class="co">#&gt; [1] &quot;red&quot;</span></span></code></pre></div>
<p>Essa linha de código produz um resultado aleatório. Queremos repetir esse experimento um número infinito de vezes, mas é impossível repeti-lo para sempre. No entanto, podemos repetir o experimento um número suficientemente grande de vezes para que os resultados sejam praticamente equivalentes a repeti-lo para sempre. <strong>Este é um exemplo de simulação de <em>Monte Carlo</em></strong>.</p>
<p>Muito do que estudam estatísticos matemáticos e teóricos, que não discutimos neste livro, refere-se a fornecer definições rigorosas de “virtualmente equivalente”, além de estudar o quão perto um grande número de experimentos nos leva ao que acontece no limite. . Mais adiante nesta seção, oferecemos uma abordagem prática para determinar o que é “grande o suficiente”.</p>
<p>Para realizar nossa primeira simulação de Monte Carlo, usamos a função <code>replicate</code>, o que nos permite repetir a mesma tarefa várias vezes. Aqui, repetimos o evento aleatório <span class="math inline">\(B =\)</span> 10.000 vezes:</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="probabilidade.html#cb432-1"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb432-2"><a href="probabilidade.html#cb432-2"></a>events &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, <span class="kw">sample</span>(beads, <span class="dv">1</span>))</span></code></pre></div>
<p>Agora podemos ver se nossa definição realmente concorda com essa abordagem de simulação de Monte Carlo. Podemos usar <code>table</code> para ver a distribuição:</p>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="probabilidade.html#cb433-1"></a>tab &lt;-<span class="st"> </span><span class="kw">table</span>(events)</span>
<span id="cb433-2"><a href="probabilidade.html#cb433-2"></a>tab</span>
<span id="cb433-3"><a href="probabilidade.html#cb433-3"></a><span class="co">#&gt; events</span></span>
<span id="cb433-4"><a href="probabilidade.html#cb433-4"></a><span class="co">#&gt; blue  red </span></span>
<span id="cb433-5"><a href="probabilidade.html#cb433-5"></a><span class="co">#&gt; 5972 4028</span></span></code></pre></div>
<p>e <code>prop.table</code> nos dá as proporções:</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="probabilidade.html#cb434-1"></a><span class="kw">prop.table</span>(tab)</span>
<span id="cb434-2"><a href="probabilidade.html#cb434-2"></a><span class="co">#&gt; events</span></span>
<span id="cb434-3"><a href="probabilidade.html#cb434-3"></a><span class="co">#&gt;  blue   red </span></span>
<span id="cb434-4"><a href="probabilidade.html#cb434-4"></a><span class="co">#&gt; 0.597 0.403</span></span></code></pre></div>
<p>Os números acima são probabilidades estimadas fornecidas por uma simulação de Monte Carlo. A teoria estatística, que não discutimos aqui, nos diz que onde <span class="math inline">\(B\)</span> à medida que aumenta, as estimativas se aproximam de 3/5 = 0,6 e 2/5 = 0,4.</p>
<p>Embora este seja um exemplo simples e pouco útil, usaremos simulações de Monte Carlo para estimar probabilidades nos casos em que é difícil calcular quantidades exatas. Antes de nos aprofundarmos em exemplos mais complexos, usaremos alguns simples para demonstrar as ferramentas de computação disponíveis em R.</p>
</div>
<div id="defina-a-semente-aleatória" class="section level3" number="13.1.4">
<h3><span class="header-section-number">13.1.4</span> Defina a semente aleatória</h3>
<p>Antes de continuar, explicaremos brevemente a seguinte linha de código importante:</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="probabilidade.html#cb435-1"></a><span class="kw">set.seed</span>(<span class="dv">1986</span>)</span></code></pre></div>
<p>Ao longo deste livro, usamos geradores de números aleatórios. Isso implica que muitos dos resultados que apresentamos podem mudar por acaso e uma versão congelada do livro pode mostrar um resultado diferente do que eles obtêm quando tentam codificar como observam no livro. Isso não é um problema, pois os resultados são aleatórios e podem mudar. No entanto, se você quiser garantir que os resultados sejam exatamente os mesmos sempre que executá-los, poderá definir a semente de geração de número aleatório R (<em>seed</em>) para um número específico. Definimos isso em 1986. Queremos evitar o uso da mesma semente todas as vezes. Uma maneira popular de escolher a semente é subtraindo o mês e o dia do ano. Por exemplo, para 20 de dezembro de 2018, lançamos a semente em 1986: <span class="math inline">\(2018 - 12 - 20 = 1986\)</span>.</p>
<p>Você pode obter mais informações sobre como corrigir a semente consultando a documentação:</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="probabilidade.html#cb436-1"></a>?set.seed</span></code></pre></div>
<p>Nos exercícios, podemos pedir que você conserte a semente para garantir que seus resultados sejam exatamente o que esperamos.</p>
</div>
<div id="com-e-sem-substituição" class="section level3" number="13.1.5">
<h3><span class="header-section-number">13.1.5</span> Com e sem substituição</h3>
<p>A função <code>sample</code> ele tem um argumento que nos permite escolher mais de um item da urna. No entanto, por padrão, essa seleção ocorre <em>sem substituição</em>: após a seleção de uma bola de gude, ela não é colocada de volta na urna. Observe o que acontece quando pedimos para selecionar cinco bolas de gude aleatoriamente:</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="probabilidade.html#cb437-1"></a><span class="kw">sample</span>(beads, <span class="dv">5</span>)</span>
<span id="cb437-2"><a href="probabilidade.html#cb437-2"></a><span class="co">#&gt; [1] &quot;red&quot;  &quot;blue&quot; &quot;blue&quot; &quot;blue&quot; &quot;red&quot;</span></span>
<span id="cb437-3"><a href="probabilidade.html#cb437-3"></a><span class="kw">sample</span>(beads, <span class="dv">5</span>)</span>
<span id="cb437-4"><a href="probabilidade.html#cb437-4"></a><span class="co">#&gt; [1] &quot;red&quot;  &quot;red&quot;  &quot;blue&quot; &quot;blue&quot; &quot;blue&quot;</span></span>
<span id="cb437-5"><a href="probabilidade.html#cb437-5"></a><span class="kw">sample</span>(beads, <span class="dv">5</span>)</span>
<span id="cb437-6"><a href="probabilidade.html#cb437-6"></a><span class="co">#&gt; [1] &quot;blue&quot; &quot;red&quot;  &quot;blue&quot; &quot;red&quot;  &quot;blue&quot;</span></span></code></pre></div>
<p>Isso resulta em rearranjos que sempre têm três bolinhas azuis e duas vermelhas. Se pedirmos seis bolas de gude para serem selecionadas, obteremos um erro:</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb438-1"><a href="probabilidade.html#cb438-1"></a><span class="kw">sample</span>(beads, <span class="dv">6</span>)</span></code></pre></div>
<p><code>Error in sample.int(length(x), size, replace, prob) : cannot take a sample larger than the population when 'replace = FALSE'</code></p>
<p>No entanto, a função <code>sample</code> pode ser usado diretamente, sem o uso de <code>replicate</code>, para repetir o mesmo experimento, escolhendo 1 dos 5 mármores, continuamente, nas mesmas condições. Para fazer isso, amostramos <em>com substituição</em>: o mármore é devolvido à urna após a seleção.
Nós podemos dizer <code>sample</code> eu fazer isso mudando o argumento <code>replace</code> que por padrão é <code>FALSE</code>, para <code>replace = TRUE</code>:</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="probabilidade.html#cb439-1"></a>events &lt;-<span class="st"> </span><span class="kw">sample</span>(beads, B, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb439-2"><a href="probabilidade.html#cb439-2"></a><span class="kw">prop.table</span>(<span class="kw">table</span>(events))</span>
<span id="cb439-3"><a href="probabilidade.html#cb439-3"></a><span class="co">#&gt; events</span></span>
<span id="cb439-4"><a href="probabilidade.html#cb439-4"></a><span class="co">#&gt;  blue   red </span></span>
<span id="cb439-5"><a href="probabilidade.html#cb439-5"></a><span class="co">#&gt; 0.602 0.398</span></span></code></pre></div>
<p>Não surpreende que obtenham resultados muito semelhantes aos obtidos anteriormente com <code>replicate</code>.</p>
</div>
</div>
<div id="independência" class="section level2" number="13.2">
<h2><span class="header-section-number">13.2</span> Independência</h2>
<p>Dizemos que dois eventos são independentes se o resultado de um não afeta o outro. O exemplo clássico é o lançamento de moedas. Toda vez que jogamos uma moeda, a probabilidade de ver caras é 1/2, independentemente dos resultados dos lançamentos anteriores. O mesmo acontece quando coletamos bolas de gude de uma urna de substituição. No exemplo acima, a probabilidade de vermelho é 0,40, independentemente das seleções anteriores.</p>
<p>Muitos exemplos de eventos não independentes vêm de jogos de cartas. Quando negociamos a primeira carta, a probabilidade de obter um K é 1/13, pois há treze possibilidades: Duas, Três, <span class="math inline">\(\dots\)</span>, Ten, J, Q, K e As. Mas se dermos um K como primeira carta e não a substituirmos no baralho, a probabilidade de uma segunda carta ser K é menor, porque só restam três Ks: a probabilidade é 3 de 51. Portanto, esses eventos <strong>não são independentes</strong>: o primeiro resultado afeta o seguinte.</p>
<p>Para ver um caso extremo de eventos não independentes, considere nosso exemplo de escolha de cinco bolinhas aleatoriamente <strong>sem</strong> substituição:</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb440-1"><a href="probabilidade.html#cb440-1"></a>x &lt;-<span class="st"> </span><span class="kw">sample</span>(beads, <span class="dv">5</span>)</span></code></pre></div>
<p>Se eles tiverem que adivinhar a cor do primeiro mármore, irão prever o azul, pois o azul tem 60% de chance. Mas se mostrarmos o resultado dos últimos quatro resultados:</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="probabilidade.html#cb441-1"></a>x[<span class="dv">2</span><span class="op">:</span><span class="dv">5</span>]</span>
<span id="cb441-2"><a href="probabilidade.html#cb441-2"></a><span class="co">#&gt; [1] &quot;blue&quot; &quot;blue&quot; &quot;blue&quot; &quot;red&quot;</span></span></code></pre></div>
<p>você ainda adivinharia o azul? Claro que não. Agora você sabe que a probabilidade de vermelho é 1, pois o único mármore restante é vermelho. Os eventos não são independentes, portanto as probabilidades mudam.</p>
</div>
<div id="probabilidades-condicionais" class="section level2" number="13.3">
<h2><span class="header-section-number">13.3</span> Probabilidades condicionais</h2>
<p>Quando os eventos não são independentes, as <em>probabilidades condicionais</em> são úteis. Já vimos um exemplo de probabilidade condicional: calculamos a probabilidade de que uma segunda carta seja K desde que a primeira carta fosse K. Em probabilidade, usamos a seguinte notação:</p>
<p><span class="math display">\[
\mbox{Pr}(\mbox{Card 2 is a king} \mid \mbox{Card 1 is a king}) = 3/51
\]</span></p>
<p>Nós usamos o <span class="math inline">\(\mid\)</span> como uma abreviação de “dado isso” ou “condicional”.</p>
<p>Quando dois eventos, digamos <span class="math inline">\(A\)</span> e <span class="math inline">\(B\)</span>, eles são independentes, temos:</p>
<p><span class="math display">\[
\mbox{Pr}(A \mid B) = \mbox{Pr}(A)
\]</span></p>
<p>Esta é a maneira matemática de dizer: o fato de que <span class="math inline">\(B\)</span> aconteceu não afeta a probabilidade de <span class="math inline">\(A\)</span> acontecer. De fato, isso pode ser considerado a definição matemática de independência.</p>
</div>
<div id="regras-de-adição-e-multiplicação" class="section level2" number="13.4">
<h2><span class="header-section-number">13.4</span> Regras de adição e multiplicação</h2>
<p>Regra de multiplicação</p>
<p>Se queremos saber a probabilidade de dois eventos ocorrerem, digamos <span class="math inline">\(A\)</span> e <span class="math inline">\(B\)</span>, podemos usar a regra de multiplicação:</p>
<p><span class="math display">\[
\mbox{Pr}(A \mbox{ and } B) = \mbox{Pr}(A)\mbox{Pr}(B \mid A)
\]</span>
Vamos usar o jogo de cartas do Blackjack como exemplo. No Blackjack, eles recebem duas cartas aleatoriamente. Depois de ver o que têm, podem pedir mais cartões. O objetivo é chegar mais perto dos 21 do que o revendedor, sem passar. Os <em>face cards</em> valem 10 pontos e os ases valem 11 ou 1 (um escolhe).</p>
<p>Portanto, no Blackjack, para calcular as probabilidades de conseguir um 21 recebendo um ás e depois uma carta de face, calculamos a probabilidade de a primeira carta ser um ás e multiplicamos pela probabilidade de tirar uma carta de cara ou 10, dado que o primeiro foi um ás: <span class="math inline">\(1/13 \times 16/51 \approx 0.025\)</span>.</p>
<p>A regra de multiplicação também se aplica a mais de dois eventos. Podemos usar a indução para incluir mais eventos:</p>
<p><span class="math display">\[
\mbox{Pr}(A \mbox{ and } B \mbox{ and } C) = \mbox{Pr}(A)\mbox{Pr}(B \mid A)\mbox{Pr}(C \mid A \mbox{ and } B)
\]</span></p>
<p>Regra de multiplicação sob independência</p>
<p>Quando temos eventos independentes, a regra de multiplicação se torna mais simples:</p>
<p><span class="math display">\[
\mbox{Pr}(A \mbox{ and } B \mbox{ and } C) = \mbox{Pr}(A)\mbox{Pr}(B)\mbox{Pr}(C)
\]</span></p>
<p>Mas devemos ter muito cuidado antes de usar isso, pois assumir a independência quando ela realmente não existe pode resultar em cálculos de probabilidade muito diferentes e incorretos.</p>
<p>Como exemplo, imagine um caso em que o suspeito seja descrito como tendo bigode e barba. O réu tem bigode e barba e a acusação traz um “especialista” que testemunha que 1/10 dos homens têm barba e 1/5 têm bigode, portanto, usando a regra da multiplicação, concluímos que apenas <span class="math inline">\(1/10 \times 1/5\)</span> ou 0,02 tem ambos.</p>
<p>Mas para se multiplicar assim, precisamos assumir a independência! Digamos que a probabilidade condicional de um homem ter um bigode condicionado no qual ele tem barba é 0,95. Portanto, o cálculo correto da probabilidade resulta em um número muito maior: <span class="math inline">\(1/10 \times 95/100 = 0.095\)</span>.</p>
<p>A regra de multiplicação também nos fornece uma fórmula geral para calcular probabilidades condicionais:</p>
<p><span class="math display">\[
\mbox{Pr}(B \mid A) = \frac{\mbox{Pr}(A \mbox{ and } B)}{ \mbox{Pr}(A)}
\]</span></p>
<p>Para ilustrar como usamos essas fórmulas e conceitos na prática, usaremos vários exemplos relacionados a jogos de cartas.</p>
<p>Regra de adição</p>
<p>A regra de adição nos diz que:</p>
<p><span class="math display">\[
\mbox{Pr}(A \mbox{ or } B) = \mbox{Pr}(A) + \mbox{Pr}(B) - \mbox{Pr}(A \mbox{ and } B)
\]</span></p>
<p>Essa regra é intuitiva: pense em um diagrama de Venn. Se simplesmente adicionarmos as probabilidades, contaremos a interseção duas vezes, portanto, devemos subtrair uma instância.</p>
<p><img src="livro_files/figure-html/venn-diagram-addition-rule-1.png" width="35%" style="display: block; margin: auto;" /></p>
</div>
<div id="combinações-e-permutações" class="section level2" number="13.5">
<h2><span class="header-section-number">13.5</span> Combinações e permutações</h2>
<p>Em nosso primeiro exemplo, imaginamos uma urna com cinco bolinhas de gude. Lembre-se de que, para calcular a distribuição de probabilidade de um empate, simplesmente listamos todas as probabilidades. Havia cinco e, portanto, para cada evento, contamos quantas dessas probabilidades estavam associadas ao evento. A probabilidade de escolher um mármore azul é de 3/5, devido aos cinco resultados possíveis, três eram azuis.</p>
<p>Para casos mais complicados, os cálculos não são tão simples. Por exemplo, qual é a probabilidade de que, se eu escolher cinco cartas sem substituição, receberei todas as cartas do mesmo naipe (<em>suit</em> em inglês), conhecidas como “flush” no poker? Em um curso de probabilidade discreta, você aprende a teoria de como fazer esses cálculos. Aqui, focamos em como usar o código R para calcular as respostas.</p>
<p>Primeiro, vamos construir um baralho de cartas. Para isso, usaremos as funções <code>expand.grid</code> e <code>paste</code>. Nós usamos <code>paste</code> para criar cadeias juntando cadeias menores. Para fazer isso, pegamos o número e o naipe de um cartão e criamos o nome do cartão assim:</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb442-1"><a href="probabilidade.html#cb442-1"></a>number &lt;-<span class="st"> &quot;Three&quot;</span></span>
<span id="cb442-2"><a href="probabilidade.html#cb442-2"></a>suit &lt;-<span class="st"> &quot;Hearts&quot;</span></span>
<span id="cb442-3"><a href="probabilidade.html#cb442-3"></a><span class="kw">paste</span>(number, suit)</span>
<span id="cb442-4"><a href="probabilidade.html#cb442-4"></a><span class="co">#&gt; [1] &quot;Three Hearts&quot;</span></span></code></pre></div>
<p><code>paste</code> também funciona em pares de vetores que executam a operação elemento a elemento:</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="probabilidade.html#cb443-1"></a><span class="kw">paste</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="kw">as.character</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>))</span>
<span id="cb443-2"><a href="probabilidade.html#cb443-2"></a><span class="co">#&gt; [1] &quot;a 1&quot; &quot;b 2&quot; &quot;c 3&quot; &quot;d 4&quot; &quot;e 5&quot;</span></span></code></pre></div>
<p>A função <code>expand.grid</code> nos fornece todas as combinações de duas entradas de vetor. Por exemplo, se eles têm calças azuis e pretas e camisas brancas, cinza e xadrez (<em>plaid</em>), todas as suas combinações são:</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb444-1"><a href="probabilidade.html#cb444-1"></a><span class="kw">expand.grid</span>(<span class="dt">pants =</span> <span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;black&quot;</span>), <span class="dt">shirt =</span> <span class="kw">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;grey&quot;</span>, <span class="st">&quot;plaid&quot;</span>))</span>
<span id="cb444-2"><a href="probabilidade.html#cb444-2"></a><span class="co">#&gt;   pants shirt</span></span>
<span id="cb444-3"><a href="probabilidade.html#cb444-3"></a><span class="co">#&gt; 1  blue white</span></span>
<span id="cb444-4"><a href="probabilidade.html#cb444-4"></a><span class="co">#&gt; 2 black white</span></span>
<span id="cb444-5"><a href="probabilidade.html#cb444-5"></a><span class="co">#&gt; 3  blue  grey</span></span>
<span id="cb444-6"><a href="probabilidade.html#cb444-6"></a><span class="co">#&gt; 4 black  grey</span></span>
<span id="cb444-7"><a href="probabilidade.html#cb444-7"></a><span class="co">#&gt; 5  blue plaid</span></span>
<span id="cb444-8"><a href="probabilidade.html#cb444-8"></a><span class="co">#&gt; 6 black plaid</span></span></code></pre></div>
<p>Aqui está como geramos um baralho de cartas:</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb445-1"><a href="probabilidade.html#cb445-1"></a>suits &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Diamonds&quot;</span>, <span class="st">&quot;Clubs&quot;</span>, <span class="st">&quot;Hearts&quot;</span>, <span class="st">&quot;Spades&quot;</span>)</span>
<span id="cb445-2"><a href="probabilidade.html#cb445-2"></a>numbers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ace&quot;</span>, <span class="st">&quot;Deuce&quot;</span>, <span class="st">&quot;Three&quot;</span>, <span class="st">&quot;Four&quot;</span>, <span class="st">&quot;Five&quot;</span>, <span class="st">&quot;Six&quot;</span>, <span class="st">&quot;Seven&quot;</span>,</span>
<span id="cb445-3"><a href="probabilidade.html#cb445-3"></a><span class="st">&quot;Eight&quot;</span>, <span class="st">&quot;Nine&quot;</span>, <span class="st">&quot;Ten&quot;</span>, <span class="st">&quot;Jack&quot;</span>, <span class="st">&quot;Queen&quot;</span>, <span class="st">&quot;King&quot;</span>)</span>
<span id="cb445-4"><a href="probabilidade.html#cb445-4"></a>deck &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">number=</span>numbers, <span class="dt">suit=</span>suits)</span>
<span id="cb445-5"><a href="probabilidade.html#cb445-5"></a>deck &lt;-<span class="st"> </span><span class="kw">paste</span>(deck<span class="op">$</span>number, deck<span class="op">$</span>suit)</span></code></pre></div>
<p>Com o baralho construído, podemos verificar se a probabilidade de um K ser a primeira carta é 1/13 calculando a proporção de possíveis resultados que satisfazem nossa condição:</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="probabilidade.html#cb446-1"></a>kings &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;King&quot;</span>, suits)</span>
<span id="cb446-2"><a href="probabilidade.html#cb446-2"></a><span class="kw">mean</span>(deck <span class="op">%in%</span><span class="st"> </span>kings)</span>
<span id="cb446-3"><a href="probabilidade.html#cb446-3"></a><span class="co">#&gt; [1] 0.0769</span></span></code></pre></div>
<p>Agora, que tal a probabilidade condicional de que a segunda carta seja um K desde que a primeira carta fosse um K? Anteriormente, deduzimos que, se um K já estiver fora do baralho e restarem 51 cartas, a probabilidade será de 3/51. Vamos confirmar listando todos os resultados possíveis.</p>
<p>Para fazer isso, podemos usar a função <code>permutations</code> do pacote <strong>gtools</strong>. Para qualquer lista de tamanho <code>n</code>, essa função calcula todas as diferentes combinações que podemos obter quando selecionamos <code>r</code> artigos. Aqui estão todas as maneiras pelas quais podemos escolher dois números de uma lista que consiste em <code>1,2,3</code>:</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="probabilidade.html#cb447-1"></a><span class="kw">library</span>(gtools)</span>
<span id="cb447-2"><a href="probabilidade.html#cb447-2"></a><span class="kw">permutations</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb447-3"><a href="probabilidade.html#cb447-3"></a><span class="co">#&gt;      [,1] [,2]</span></span>
<span id="cb447-4"><a href="probabilidade.html#cb447-4"></a><span class="co">#&gt; [1,]    1    2</span></span>
<span id="cb447-5"><a href="probabilidade.html#cb447-5"></a><span class="co">#&gt; [2,]    1    3</span></span>
<span id="cb447-6"><a href="probabilidade.html#cb447-6"></a><span class="co">#&gt; [3,]    2    1</span></span>
<span id="cb447-7"><a href="probabilidade.html#cb447-7"></a><span class="co">#&gt; [4,]    2    3</span></span>
<span id="cb447-8"><a href="probabilidade.html#cb447-8"></a><span class="co">#&gt; [5,]    3    1</span></span>
<span id="cb447-9"><a href="probabilidade.html#cb447-9"></a><span class="co">#&gt; [6,]    3    2</span></span></code></pre></div>
<p>Observe que a ordem é importante aqui: 3.1 é diferente de 1.3. Além disso, observe que (1,1), (2,2) e (3,3) não aparecem porque, quando escolhemos um número, ele não pode aparecer novamente.</p>
<p>Opcionalmente, podemos adicionar um vetor. Se desejar ver cinco números de telefone aleatórios (sete dígitos) de todos os números de telefone possíveis (sem repetição), você pode escrever:</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="probabilidade.html#cb448-1"></a>all_phone_numbers &lt;-<span class="st"> </span><span class="kw">permutations</span>(<span class="dv">10</span>, <span class="dv">7</span>, <span class="dt">v =</span> <span class="dv">0</span><span class="op">:</span><span class="dv">9</span>)</span>
<span id="cb448-2"><a href="probabilidade.html#cb448-2"></a>n &lt;-<span class="st"> </span><span class="kw">nrow</span>(all_phone_numbers)</span>
<span id="cb448-3"><a href="probabilidade.html#cb448-3"></a>index &lt;-<span class="st"> </span><span class="kw">sample</span>(n, <span class="dv">5</span>)</span>
<span id="cb448-4"><a href="probabilidade.html#cb448-4"></a>all_phone_numbers[index,]</span>
<span id="cb448-5"><a href="probabilidade.html#cb448-5"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6] [,7]</span></span>
<span id="cb448-6"><a href="probabilidade.html#cb448-6"></a><span class="co">#&gt; [1,]    1    3    8    0    6    7    5</span></span>
<span id="cb448-7"><a href="probabilidade.html#cb448-7"></a><span class="co">#&gt; [2,]    2    9    1    6    4    8    0</span></span>
<span id="cb448-8"><a href="probabilidade.html#cb448-8"></a><span class="co">#&gt; [3,]    5    1    6    0    9    8    2</span></span>
<span id="cb448-9"><a href="probabilidade.html#cb448-9"></a><span class="co">#&gt; [4,]    7    4    6    0    2    8    1</span></span>
<span id="cb448-10"><a href="probabilidade.html#cb448-10"></a><span class="co">#&gt; [5,]    4    6    5    9    2    8    0</span></span></code></pre></div>
<p>Em vez de usar os números de 1 a 10, o padrão, R usa o que fornecemos através <code>v</code>: os dígitos de 0 a 9.</p>
<p>Para calcular todas as maneiras possíveis, podemos escolher duas cartas quando a ordem importa, escrevemos:</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="probabilidade.html#cb449-1"></a>hands &lt;-<span class="st"> </span><span class="kw">permutations</span>(<span class="dv">52</span>, <span class="dv">2</span>, <span class="dt">v =</span> deck)</span></code></pre></div>
<p>Esta é uma matriz com duas colunas e 2652 linhas. Com uma matriz, podemos obter a primeira e a segunda letras assim:</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="probabilidade.html#cb450-1"></a>first_card &lt;-<span class="st"> </span>hands[,<span class="dv">1</span>]</span>
<span id="cb450-2"><a href="probabilidade.html#cb450-2"></a>second_card &lt;-<span class="st"> </span>hands[,<span class="dv">2</span>]</span></code></pre></div>
<p>Agora, os casos para os quais a primeira letra é um K podem ser calculados assim:</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="probabilidade.html#cb451-1"></a>kings &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;King&quot;</span>, suits)</span>
<span id="cb451-2"><a href="probabilidade.html#cb451-2"></a><span class="kw">sum</span>(first_card <span class="op">%in%</span><span class="st"> </span>kings)</span>
<span id="cb451-3"><a href="probabilidade.html#cb451-3"></a><span class="co">#&gt; [1] 204</span></span></code></pre></div>
<p>Para obter a probabilidade condicional, calculamos qual fração deles tem um K como a segunda letra:</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="probabilidade.html#cb452-1"></a><span class="kw">sum</span>(first_card<span class="op">%in%</span>kings <span class="op">&amp;</span><span class="st"> </span>second_card<span class="op">%in%</span>kings)<span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(first_card<span class="op">%in%</span>kings)</span>
<span id="cb452-2"><a href="probabilidade.html#cb452-2"></a><span class="co">#&gt; [1] 0.0588</span></span></code></pre></div>
<p>que é exatamente 3/51, como já deduzimos. Observe que o código acima é equivalente a:</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="probabilidade.html#cb453-1"></a><span class="kw">mean</span>(first_card<span class="op">%in%</span>kings <span class="op">&amp;</span><span class="st"> </span>second_card<span class="op">%in%</span>kings)<span class="op">/</span><span class="st"> </span><span class="kw">mean</span>(first_card<span class="op">%in%</span>kings)</span>
<span id="cb453-2"><a href="probabilidade.html#cb453-2"></a><span class="co">#&gt; [1] 0.0588</span></span></code></pre></div>
<p>o que você usa <code>mean</code> ao invés de <code>sum</code> e é uma versão R de:</p>
<p><span class="math display">\[
\frac{\mbox{Pr}(A \mbox{ and } B)}{ \mbox{Pr}(A)}
\]</span></p>
<p>E se a ordem não importar? Por exemplo, no Blackjack, se você receber um Ás e uma carta de face como primeira mão, ela será chamada <em>Natural 21</em> e você ganhará automaticamente. Se quiséssemos calcular a probabilidade de isso acontecer, listaríamos as <em>combinações</em>, não as permutações, pois a ordem não importa.</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="probabilidade.html#cb454-1"></a><span class="kw">combinations</span>(<span class="dv">3</span>,<span class="dv">2</span>)</span>
<span id="cb454-2"><a href="probabilidade.html#cb454-2"></a><span class="co">#&gt;      [,1] [,2]</span></span>
<span id="cb454-3"><a href="probabilidade.html#cb454-3"></a><span class="co">#&gt; [1,]    1    2</span></span>
<span id="cb454-4"><a href="probabilidade.html#cb454-4"></a><span class="co">#&gt; [2,]    1    3</span></span>
<span id="cb454-5"><a href="probabilidade.html#cb454-5"></a><span class="co">#&gt; [3,]    2    3</span></span></code></pre></div>
<p>Na segunda linha, o resultado não inclui (2.1) porque (1.2) já foi listado. O mesmo se aplica a (3.1) e (3.2).</p>
<p>Portanto, para calcular a probabilidade de um <em>Natural 21</em>, podemos fazer o seguinte:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="probabilidade.html#cb455-1"></a>aces &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Ace&quot;</span>, suits)</span>
<span id="cb455-2"><a href="probabilidade.html#cb455-2"></a></span>
<span id="cb455-3"><a href="probabilidade.html#cb455-3"></a>facecard &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;King&quot;</span>, <span class="st">&quot;Queen&quot;</span>, <span class="st">&quot;Jack&quot;</span>, <span class="st">&quot;Ten&quot;</span>)</span>
<span id="cb455-4"><a href="probabilidade.html#cb455-4"></a>facecard &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">number =</span> facecard, <span class="dt">suit =</span> suits)</span>
<span id="cb455-5"><a href="probabilidade.html#cb455-5"></a>facecard &lt;-<span class="st"> </span><span class="kw">paste</span>(facecard<span class="op">$</span>number, facecard<span class="op">$</span>suit)</span>
<span id="cb455-6"><a href="probabilidade.html#cb455-6"></a></span>
<span id="cb455-7"><a href="probabilidade.html#cb455-7"></a>hands &lt;-<span class="st"> </span><span class="kw">combinations</span>(<span class="dv">52</span>, <span class="dv">2</span>, <span class="dt">v =</span> deck)</span>
<span id="cb455-8"><a href="probabilidade.html#cb455-8"></a><span class="kw">mean</span>(hands[,<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hands[,<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>facecard)</span>
<span id="cb455-9"><a href="probabilidade.html#cb455-9"></a><span class="co">#&gt; [1] 0.0483</span></span></code></pre></div>
<p>Na última linha, assumimos que o ás é a primeira carta que recebemos. Sabemos disso porque, sabendo como <code>combination</code> listar as probabilidades, entendemos que você listará esse caso primeiro. Mas, com certeza, poderíamos ter produzido a mesma resposta escrevendo o seguinte:</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="probabilidade.html#cb456-1"></a><span class="kw">mean</span>((hands[,<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hands[,<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>facecard) <span class="op">|</span></span>
<span id="cb456-2"><a href="probabilidade.html#cb456-2"></a>(hands[,<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hands[,<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>facecard))</span>
<span id="cb456-3"><a href="probabilidade.html#cb456-3"></a><span class="co">#&gt; [1] 0.0483</span></span></code></pre></div>
<p>Exemplo de Monte Carlo</p>
<p>Ao invés de usar <code>combinations</code> para deduzir a probabilidade exata de um <em>Natural 21</em>, podemos usar uma simulação de Monte Carlo para estimar essa probabilidade. Nesse caso, escolhemos duas cartas repetidamente e observamos quantos 21s temos. Nós podemos usar a função <code>sample</code> escolher duas placas sem substituições:</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="probabilidade.html#cb457-1"></a>hand &lt;-<span class="st"> </span><span class="kw">sample</span>(deck, <span class="dv">2</span>)</span>
<span id="cb457-2"><a href="probabilidade.html#cb457-2"></a>hand</span>
<span id="cb457-3"><a href="probabilidade.html#cb457-3"></a><span class="co">#&gt; [1] &quot;Queen Clubs&quot;  &quot;Seven Spades&quot;</span></span></code></pre></div>
<p>E depois verifique se uma carta é um Ás e a outra uma figura ou 10. A partir de agora, incluímos 10 quando dizemos <em>figure card_ou_figure</em>. Agora precisamos verificar as duas probabilidades:</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="probabilidade.html#cb458-1"></a>(hands[<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hands[<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>facecard) <span class="op">|</span></span>
<span id="cb458-2"><a href="probabilidade.html#cb458-2"></a>(hands[<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hands[<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>facecard)</span>
<span id="cb458-3"><a href="probabilidade.html#cb458-3"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>Se repetirmos isso 10.000 vezes, obteremos uma aproximação muito boa da probabilidade de um <em>Natural 21</em>.</p>
<p>Vamos começar escrevendo uma função que escolhe uma mão e retorna VERDADEIRO se obtivermos 21. A função não precisa de argumentos porque usa objetos definidos no ambiente global.</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="probabilidade.html#cb459-1"></a>blackjack &lt;-<span class="st"> </span><span class="cf">function</span>(){</span>
<span id="cb459-2"><a href="probabilidade.html#cb459-2"></a>hand &lt;-<span class="st"> </span><span class="kw">sample</span>(deck, <span class="dv">2</span>)</span>
<span id="cb459-3"><a href="probabilidade.html#cb459-3"></a>(hand[<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hand[<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>facecard) <span class="op">|</span></span>
<span id="cb459-4"><a href="probabilidade.html#cb459-4"></a>(hand[<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hand[<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>facecard)</span>
<span id="cb459-5"><a href="probabilidade.html#cb459-5"></a>}</span></code></pre></div>
<p>Aqui temos que verificar as duas probabilidades: Ás primeiro ou Ás segundo, porque não estamos usando a função <code>combinations</code>. A função retorna <code>TRUE</code> se tivermos 21 e <code>FALSE</code> de outra maneira:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="probabilidade.html#cb460-1"></a><span class="kw">blackjack</span>()</span>
<span id="cb460-2"><a href="probabilidade.html#cb460-2"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>Agora podemos jogar este jogo, digamos 10.000 vezes:</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="probabilidade.html#cb461-1"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb461-2"><a href="probabilidade.html#cb461-2"></a>results &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, <span class="kw">blackjack</span>())</span>
<span id="cb461-3"><a href="probabilidade.html#cb461-3"></a><span class="kw">mean</span>(results)</span>
<span id="cb461-4"><a href="probabilidade.html#cb461-4"></a><span class="co">#&gt; [1] 0.0475</span></span></code></pre></div>
</div>
<div id="exemplos" class="section level2" number="13.6">
<h2><span class="header-section-number">13.6</span> Exemplos</h2>
<p>Nesta seção, descrevemos dois exemplos populares de probabilidade discreta: o problema de Monty Hall e o problema do aniversário. Usamos R para ajudar a ilustrar conceitos matemáticos.</p>
<p>Problema de Monty Hall</p>
<p>Nos anos 1970, nos EUA, houve um programa de perguntas e respostas chamado “Let's Make a Deal” e Monty Hall foi o apresentador. Em algum momento do jogo, o competidor foi convidado a escolher uma das três portas. Atrás de uma porta havia um prêmio, enquanto atrás das outras portas eles tinham uma cabra que indicava que o competidor havia perdido. Depois que o competidor escolheu uma porta, e antes de revelar se a porta continha um prêmio, Monty Hall abriu uma das outras duas portas e mostrou ao competidor que não havia prêmio atrás daquela porta. Então ele perguntou ao competidor: “Você quer trocar de porta?” O que você faria?</p>
<p>Podemos usar a probabilidade para mostrar que, se eles mantiverem a opção do portão original, suas chances de ganhar um prêmio permanecerão 1 em 3. No entanto, se mudarem para o outro portão, suas chances de ganhar o dobro para 2 em 3! ! Isso parece contraditório. Muitas pessoas pensam incorretamente que ambas as probabilidades são de 1 em 2, uma vez que se escolhe entre duas opções. Você pode ver uma explicação matemática detalhada na Khan Academy<a href="#fn47" class="footnote-ref" id="fnref47"><sup>47</sup></a> ou leia uma na Wikipedia<a href="#fn48" class="footnote-ref" id="fnref48"><sup>48</sup></a>. Em seguida, usamos uma simulação de Monte Carlo para ver qual é a melhor estratégia. Observe que este código é escrito com mais detalhes do que o necessário para fins pedagógicos.</p>
<p>Vamos começar com a estratégia de não trocar de porta:</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="probabilidade.html#cb462-1"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb462-2"><a href="probabilidade.html#cb462-2"></a>monty_hall &lt;-<span class="st"> </span><span class="cf">function</span>(strategy){</span>
<span id="cb462-3"><a href="probabilidade.html#cb462-3"></a>doors &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb462-4"><a href="probabilidade.html#cb462-4"></a>prize &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;car&quot;</span>, <span class="st">&quot;goat&quot;</span>, <span class="st">&quot;goat&quot;</span>))</span>
<span id="cb462-5"><a href="probabilidade.html#cb462-5"></a>prize_door &lt;-<span class="st"> </span>doors[prize <span class="op">==</span><span class="st"> &quot;car&quot;</span>]</span>
<span id="cb462-6"><a href="probabilidade.html#cb462-6"></a>my_pick &lt;-<span class="st"> </span><span class="kw">sample</span>(doors, <span class="dv">1</span>)</span>
<span id="cb462-7"><a href="probabilidade.html#cb462-7"></a>show &lt;-<span class="st"> </span><span class="kw">sample</span>(doors[<span class="op">!</span>doors <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(my_pick, prize_door)],<span class="dv">1</span>)</span>
<span id="cb462-8"><a href="probabilidade.html#cb462-8"></a>stick &lt;-<span class="st"> </span>my_pick</span>
<span id="cb462-9"><a href="probabilidade.html#cb462-9"></a>stick <span class="op">==</span><span class="st"> </span>prize_door</span>
<span id="cb462-10"><a href="probabilidade.html#cb462-10"></a><span class="cf">switch</span> &lt;-<span class="st"> </span>doors[<span class="op">!</span>doors<span class="op">%in%</span><span class="kw">c</span>(my_pick, show)]</span>
<span id="cb462-11"><a href="probabilidade.html#cb462-11"></a>choice &lt;-<span class="st"> </span><span class="kw">ifelse</span>(strategy <span class="op">==</span><span class="st"> &quot;stick&quot;</span>, stick, <span class="cf">switch</span>)</span>
<span id="cb462-12"><a href="probabilidade.html#cb462-12"></a>choice <span class="op">==</span><span class="st"> </span>prize_door</span>
<span id="cb462-13"><a href="probabilidade.html#cb462-13"></a>}</span>
<span id="cb462-14"><a href="probabilidade.html#cb462-14"></a>stick &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, <span class="kw">monty_hall</span>(<span class="st">&quot;stick&quot;</span>))</span>
<span id="cb462-15"><a href="probabilidade.html#cb462-15"></a><span class="kw">mean</span>(stick)</span>
<span id="cb462-16"><a href="probabilidade.html#cb462-16"></a><span class="co">#&gt; [1] 0.342</span></span>
<span id="cb462-17"><a href="probabilidade.html#cb462-17"></a><span class="cf">switch</span> &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, <span class="kw">monty_hall</span>(<span class="st">&quot;switch&quot;</span>))</span>
<span id="cb462-18"><a href="probabilidade.html#cb462-18"></a><span class="kw">mean</span>(<span class="cf">switch</span>)</span>
<span id="cb462-19"><a href="probabilidade.html#cb462-19"></a><span class="co">#&gt; [1] 0.668</span></span></code></pre></div>
<p>Enquanto escrevemos o código, notamos que as linhas que começam com <code>my_pick</code> e <code>show</code> eles não afetam a última operação lógica quando mantemos nossa escolha original. A partir disso, devemos perceber que a probabilidade é de 1 em 3, a mesma com a qual começamos. Quando mudamos, a estimativa de Monte Carlo confirma o cálculo de 2/3. Isso nos ajuda a entender melhor o problema, mostrando que estamos removendo uma porta, <code>show</code>, que definitivamente não esconde um prêmio de nossas opções. Também vemos que, a menos que acertemos na primeira escolha, você ganha: 1 - 1/3 = 2/3.</p>
<div id="problema-de-aniversário" class="section level3" number="13.6.1">
<h3><span class="header-section-number">13.6.1</span> Problema de aniversário</h3>
<p>Imagine que você está em uma sala de aula com 50 pessoas. Se assumirmos que este é um grupo de 50 pessoas selecionadas aleatoriamente, qual é a probabilidade de pelo menos duas pessoas terem o mesmo aniversário? Embora seja um pouco avançado, podemos deduzir isso matematicamente. Faremos isso mais tarde, mas aqui usamos uma simulação de Monte Carlo. Por simplicidade, assumimos que ninguém nasceu em 29 de fevereiro. Isso realmente não muda muito a resposta.</p>
<p>Primeiro, lembre-se de que aniversários podem ser representados como números entre 1 e 365, para que você possa obter uma amostra de 50 aniversários como este:</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="probabilidade.html#cb463-1"></a>n &lt;-<span class="st"> </span><span class="dv">50</span></span>
<span id="cb463-2"><a href="probabilidade.html#cb463-2"></a>bdays &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">365</span>, n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p>Para verificar se neste conjunto específico de 50 pessoas, temos pelo menos dois com o mesmo aniversário, podemos usar a função <code>duplicated</code>, que retorna <code>TRUE</code> sempre que um elemento de um vetor for duplicado. Aqui está um exemplo:</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="probabilidade.html#cb464-1"></a><span class="kw">duplicated</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>))</span>
<span id="cb464-2"><a href="probabilidade.html#cb464-2"></a><span class="co">#&gt; [1] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE</span></span></code></pre></div>
<p>Na segunda vez que 1 e 3 aparecem, obtemos um <code>TRUE</code>. Portanto, para verificar se dois aniversários são iguais, simplesmente usamos as funções <code>any</code> e <code>duplicated</code> assim:</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="probabilidade.html#cb465-1"></a><span class="kw">any</span>(<span class="kw">duplicated</span>(bdays))</span>
<span id="cb465-2"><a href="probabilidade.html#cb465-2"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Nesse caso, vemos o que aconteceu. Pelo menos duas pessoas tiveram o mesmo aniversário.</p>
<p>Para estimar a probabilidade de um aniversário compartilhado no grupo, repetimos esse experimento amostrando conjuntos de 50 aniversários repetidamente:</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="probabilidade.html#cb466-1"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb466-2"><a href="probabilidade.html#cb466-2"></a>same_birthday &lt;-<span class="st"> </span><span class="cf">function</span>(n){</span>
<span id="cb466-3"><a href="probabilidade.html#cb466-3"></a>bdays &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">365</span>, n, <span class="dt">replace=</span><span class="ot">TRUE</span>)</span>
<span id="cb466-4"><a href="probabilidade.html#cb466-4"></a><span class="kw">any</span>(<span class="kw">duplicated</span>(bdays))</span>
<span id="cb466-5"><a href="probabilidade.html#cb466-5"></a>}</span>
<span id="cb466-6"><a href="probabilidade.html#cb466-6"></a>results &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, <span class="kw">same_birthday</span>(<span class="dv">50</span>))</span>
<span id="cb466-7"><a href="probabilidade.html#cb466-7"></a><span class="kw">mean</span>(results)</span>
<span id="cb466-8"><a href="probabilidade.html#cb466-8"></a><span class="co">#&gt; [1] 0.969</span></span></code></pre></div>
<p>Você esperava que a probabilidade fosse tão alta?</p>
<p>As pessoas tendem a subestimar essas probabilidades. Para ter uma idéia de por que é tão alto, pense no que acontece quando o tamanho do grupo se aproxima dos 365. Com o 365, estamos fora de dias e a probabilidade é uma.</p>
<p>Digamos que queremos usar esse conhecimento para apostar com os amigos se duas pessoas em um grupo têm o mesmo aniversário. Com um grupo de qual tamanho as probabilidades estão acima de 50%? Mais de 75%?</p>
<p>Vamos começar criando uma tabela de pesquisa. Podemos criar rapidamente uma função para calcular isso para qualquer tamanho de grupo:</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="probabilidade.html#cb467-1"></a>compute_prob &lt;-<span class="st"> </span><span class="cf">function</span>(n, <span class="dt">B=</span><span class="dv">10000</span>){</span>
<span id="cb467-2"><a href="probabilidade.html#cb467-2"></a>results &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, <span class="kw">same_birthday</span>(n))</span>
<span id="cb467-3"><a href="probabilidade.html#cb467-3"></a><span class="kw">mean</span>(results)</span>
<span id="cb467-4"><a href="probabilidade.html#cb467-4"></a>}</span></code></pre></div>
<p>Usando a função <code>sapply</code>, podemos executar operações elemento a elemento em qualquer função:</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="probabilidade.html#cb468-1"></a>n &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">60</span>)</span>
<span id="cb468-2"><a href="probabilidade.html#cb468-2"></a>prob &lt;-<span class="st"> </span><span class="kw">sapply</span>(n, compute_prob)</span></code></pre></div>
<p>Agora podemos representar graficamente as probabilidades estimadas de duas pessoas que têm o mesmo aniversário em um grupo de tamanho <span class="math inline">\(n\)</span>:</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="probabilidade.html#cb469-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb469-2"><a href="probabilidade.html#cb469-2"></a>prob &lt;-<span class="st"> </span><span class="kw">sapply</span>(n, compute_prob)</span>
<span id="cb469-3"><a href="probabilidade.html#cb469-3"></a><span class="kw">qplot</span>(n, prob)</span></code></pre></div>
<p><img src="livro_files/figure-html/birthday-problem-mc-probabilities-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Agora vamos calcular as probabilidades exatas em vez de usar simulações de Monte Carlo. Não apenas obtemos a resposta exata usando a matemática, mas os cálculos são muito mais rápidos, pois não precisamos realizar experimentos.</p>
<p>Para simplificar a matemática, em vez de calcular a probabilidade de ocorrência, calcularemos a probabilidade de não ocorrer. Para isso, usamos a regra de multiplicação.</p>
<p>Vamos começar com a primeira pessoa. A probabilidade de que a Pessoa 1 tenha um aniversário único é 1. A probabilidade de que a Pessoa 2 tenha um aniversário único, considerando que a Pessoa 1 já foi atribuída por dia, é 364/365. Então, como as duas primeiras pessoas têm aniversários únicos, a pessoa 3 tem 363 dias para escolher. Continuamos assim e descobrimos que as chances de todas as 50 pessoas terem um aniversário único são:</p>
<p><span class="math display">\[
1 \times \frac{364}{365}\times\frac{363}{365} \dots \frac{365-n + 1}{365}
\]</span></p>
<p>Podemos escrever uma função que faça isso para qualquer número:</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb470-1"><a href="probabilidade.html#cb470-1"></a>exact_prob &lt;-<span class="st"> </span><span class="cf">function</span>(n){</span>
<span id="cb470-2"><a href="probabilidade.html#cb470-2"></a>prob_unique &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">365</span>,<span class="dv">365</span><span class="op">-</span>n<span class="op">+</span><span class="dv">1</span>)<span class="op">/</span><span class="dv">365</span></span>
<span id="cb470-3"><a href="probabilidade.html#cb470-3"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">prod</span>( prob_unique)</span>
<span id="cb470-4"><a href="probabilidade.html#cb470-4"></a>}</span>
<span id="cb470-5"><a href="probabilidade.html#cb470-5"></a>eprob &lt;-<span class="st"> </span><span class="kw">sapply</span>(n, exact_prob)</span>
<span id="cb470-6"><a href="probabilidade.html#cb470-6"></a><span class="kw">qplot</span>(n, prob) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(n, eprob), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/birthday-problem-exact-probabilities-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Este gráfico mostra que a simulação de Monte Carlo fornece uma estimativa muito boa da probabilidade exata. Se não fosse possível calcular as probabilidades exatas, ainda poderíamos estimar com precisão as probabilidades.</p>
<p>Infinito na prática</p>
<p>A teoria descrita aqui requer repetir experimentos repetidamente para sempre. Na prática, não podemos fazer isso. Nos exemplos acima, usamos <span class="math inline">\(B=10,000\)</span> experimentos em Monte Carlo, e isso nos deu estimativas precisas. Quanto maior esse número, mais precisa será a estimativa até que a aproximação seja tão boa que seus computadores não consigam perceber a diferença. Mas em cálculos mais complexos, 10.000 podem ser insuficientes. Além disso, para alguns cálculos, 10.000 experimentos podem não ser computacionalmente viáveis. Na prática, não saberemos qual é a resposta, portanto, não saberemos se nossa estimativa de Monte Carlo é precisa. Sabemos que quanto maior é <span class="math inline">\(B\)</span>, melhor será a aproximação. Mas quão grande precisamos que seja? Essa é realmente uma pergunta desafiadora e, para respondê-la com frequência, é necessário treinamento avançado em estatística teórica.</p>
<p>Uma abordagem prática que descreveremos aqui é verificar a estabilidade da estimativa. Aqui está um exemplo do problema de aniversário para um grupo de 25 pessoas.</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="probabilidade.html#cb471-1"></a>B &lt;-<span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dt">len =</span> <span class="dv">100</span>)</span>
<span id="cb471-2"><a href="probabilidade.html#cb471-2"></a>compute_prob &lt;-<span class="st"> </span><span class="cf">function</span>(B, <span class="dt">n=</span><span class="dv">25</span>){</span>
<span id="cb471-3"><a href="probabilidade.html#cb471-3"></a>same_day &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, <span class="kw">same_birthday</span>(n))</span>
<span id="cb471-4"><a href="probabilidade.html#cb471-4"></a><span class="kw">mean</span>(same_day)</span>
<span id="cb471-5"><a href="probabilidade.html#cb471-5"></a>}</span>
<span id="cb471-6"><a href="probabilidade.html#cb471-6"></a>prob &lt;-<span class="st"> </span><span class="kw">sapply</span>(B, compute_prob)</span>
<span id="cb471-7"><a href="probabilidade.html#cb471-7"></a><span class="kw">qplot</span>(<span class="kw">log10</span>(B), prob, <span class="dt">geom =</span> <span class="st">&quot;line&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/monte-carlo-convergence-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Neste gráfico, podemos ver que os valores começam a se estabilizar (ou seja, eles variam menos de 0,01) em torno de 1000. Observe que a probabilidade exata, que neste caso sabemos, é 0.569.</p>
</div>
</div>
<div id="exercícios-22" class="section level2" number="13.7">
<h2><span class="header-section-number">13.7</span> Exercícios</h2>
<p>1. Um mármore é escolhido aleatoriamente a partir de uma caixa contendo: 3 bolinhas de ciano, 5 bolinhas de magenta e 7 bolinhas de gude amarelas. Qual é a probabilidade de o mármore ser ciano?</p>
<p>2. Qual é a probabilidade de o mármore não ser ciano?</p>
<p>3. Em vez de escolher apenas uma bola de gude, escolha duas bolas de gude. Retire o primeiro mármore sem devolvê-lo à caixa. Esta é uma amostra <strong>sem</strong> substituição. Qual é a probabilidade de o primeiro mármore ser ciano e o segundo mármore não ser ciano?</p>
<p>4. Agora repita o experimento, mas desta vez, depois de tirar o primeiro mármore e anotar a cor, coloque-o novamente na caixa e agite a caixa. Esta é uma amostra <strong>com</strong> substituição. Qual é a probabilidade de o primeiro mármore ser ciano e o segundo mármore não ser ciano?</p>
<p>5. Dois eventos <span class="math inline">\(A\)</span> e <span class="math inline">\(B\)</span> são independentes se <span class="math inline">\(\mbox{Pr}(A \mbox{ and } B) = \mbox{Pr}(A) P(B)\)</span>. Em que situação a seleção é independente?</p>
<p>para. Não substitui o artigo selecionado.
b. Substitua o item selecionado.
c. Nenhum.
d. Ambos.</p>
<p>6. Digamos que você removeu 5 bolinhas de gude da caixa, com reposição, e todas elas foram amarelas. Qual é a probabilidade de o próximo ser amarelo?</p>
<p>7. Se você rolar um dado de 6 lados seis vezes, qual é a probabilidade de não ver um 6?</p>
<p>8. Dois times de basquete, dizem os Celtics e os Cavs, estão jogando uma série de sete jogos. Os Cavs são um time melhor e têm 60% de chance de vencer cada jogo. Qual é a probabilidade de o Celtics vencer <strong>pelo menos</strong> um jogo?</p>
<p>9. Crie uma simulação de Monte Carlo para confirmar sua resposta ao problema anterior. Usar <code>B &lt;- 10000</code> simulações. Dica: use o seguinte código para gerar os resultados dos quatro primeiros jogos:</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="probabilidade.html#cb472-1"></a>celtic_wins &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dv">4</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>))</span></code></pre></div>
<p>O Celtics deve vencer um desses 4 jogos.</p>
<p>10. Dois times de basquete, dizem os Cavs e Warriors, estão jogando uma série de sete jogos do campeonato. O primeiro a vencer quatro jogos, portanto, vence a série. As equipes são igualmente boas, então cada uma tem uma chance de 50 a 50 de vencer cada jogo. Se os Cavs perderem o primeiro jogo, qual é a probabilidade de ganharem a série?</p>
<p>Onze. Confirme os resultados da pergunta anterior com uma simulação de Monte Carlo.</p>
<p>12. Duas equipes <span class="math inline">\(A\)</span> e <span class="math inline">\(B\)</span>, eles estão jogando uma série de sete jogos. Equipamento <span class="math inline">\(A\)</span> é melhor que equipe <span class="math inline">\(B\)</span> e tem um <span class="math inline">\(p&gt;0.5\)</span> probabilidade de ganhar cada jogo. Dado um valor <span class="math inline">\(p\)</span>, a probabilidade de o time não favorito <span class="math inline">\(B\)</span> a série win pode ser calculada com a seguinte função com base em uma simulação de Monte Carlo:</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="probabilidade.html#cb473-1"></a>prob_win &lt;-<span class="st"> </span><span class="cf">function</span>(p){</span>
<span id="cb473-2"><a href="probabilidade.html#cb473-2"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb473-3"><a href="probabilidade.html#cb473-3"></a>result &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb473-4"><a href="probabilidade.html#cb473-4"></a>b_win &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>), <span class="dv">7</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">-</span>p, p))</span>
<span id="cb473-5"><a href="probabilidade.html#cb473-5"></a><span class="kw">sum</span>(b_win)<span class="op">&gt;=</span><span class="dv">4</span></span>
<span id="cb473-6"><a href="probabilidade.html#cb473-6"></a>})</span>
<span id="cb473-7"><a href="probabilidade.html#cb473-7"></a><span class="kw">mean</span>(result)</span>
<span id="cb473-8"><a href="probabilidade.html#cb473-8"></a>}</span></code></pre></div>
<p>Usar função <code>sapply</code> para calcular a probabilidade, chame-o <code>Pr</code> ganhar por <code>p &lt;- seq(0.5, 0.95, 0.025)</code>. Em seguida, faça um gráfico do resultado.</p>
<p>13. Repita o exercício anterior, mas agora mantenha a probabilidade fixa em <code>p &lt;- 0.75</code> e calcule a probabilidade de diferentes números de jogos necessários para concluir a série: ganhe 1 jogo, ganhe 2 de 3 jogos, ganhe 3 de 5 jogos, … Especificamente, <code>N &lt;- seq(1, 25, 2)</code>. Dica: use esta função:</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="probabilidade.html#cb474-1"></a>prob_win &lt;-<span class="st"> </span><span class="cf">function</span>(N, <span class="dt">p=</span><span class="fl">0.75</span>){</span>
<span id="cb474-2"><a href="probabilidade.html#cb474-2"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb474-3"><a href="probabilidade.html#cb474-3"></a>result &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb474-4"><a href="probabilidade.html#cb474-4"></a>b_win &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>), N, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">-</span>p, p))</span>
<span id="cb474-5"><a href="probabilidade.html#cb474-5"></a><span class="kw">sum</span>(b_win)<span class="op">&gt;=</span>(N<span class="op">+</span><span class="dv">1</span>)<span class="op">/</span><span class="dv">2</span></span>
<span id="cb474-6"><a href="probabilidade.html#cb474-6"></a>})</span>
<span id="cb474-7"><a href="probabilidade.html#cb474-7"></a><span class="kw">mean</span>(result)</span>
<span id="cb474-8"><a href="probabilidade.html#cb474-8"></a>}</span></code></pre></div>

</div>
<div id="probabilidade-contínua" class="section level2" number="13.8">
<h2><span class="header-section-number">13.8</span> Probabilidade contínua</h2>
<p>Na seção <a href="distributions.html#cdf-intro">8.4</a> explicamos por que, resumindo uma lista de valores numéricos, como alturas, não é útil construir uma distribuição que defina uma proporção para cada resultado possível. Por exemplo, suponha que medimos cada pessoa em uma grande população, digamos em tamanho <span class="math inline">\(n\)</span>, com precisão extremamente alta. Como não há duas pessoas exatamente da mesma altura, devemos atribuir a proporção <span class="math inline">\(1/n\)</span> em cada valor observado e, como conseqüência, nenhum resumo útil é obtido. Da mesma forma, ao definir distribuições de probabilidade, não é útil atribuir uma probabilidade muito pequena para cada altura.</p>
<p>Assim como quando as distribuições são usadas para resumir dados numéricos, é muito mais prático definir uma função que opera em intervalos, em vez de valores individuais. A maneira padrão de fazer isso é usar a <em>Cumulated Distribution Function</em>, ou CDF.</p>
<p>Descrevemos a função de distribuição cumulativa empírica, ou eCDF, na Seção <a href="distributions.html#cdf-intro">8.4</a> como um resumo básico de uma lista de valores numéricos. Como exemplo, definimos anteriormente a distribuição de altura para estudantes adultos do sexo masculino. Aqui nós definimos o vetor <span class="math inline">\(x\)</span> para conter essas alturas:</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="probabilidade.html#cb475-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb475-2"><a href="probabilidade.html#cb475-2"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb475-3"><a href="probabilidade.html#cb475-3"></a><span class="kw">data</span>(heights)</span>
<span id="cb475-4"><a href="probabilidade.html#cb475-4"></a>x &lt;-<span class="st"> </span>heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex<span class="op">==</span><span class="st">&quot;Male&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(height)</span></code></pre></div>
<p>Definimos a função de distribuição cumulativa empírica como:</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="probabilidade.html#cb476-1"></a>F &lt;-<span class="st"> </span><span class="cf">function</span>(a) <span class="kw">mean</span>(x<span class="op">&lt;=</span>a)</span></code></pre></div>
<p>isso por qualquer valor <code>a</code>, fornece a proporção de valores na lista <code>x</code> que são menores ou iguais a <code>a</code>.</p>
<p>Observe que ainda não discutimos a probabilidade no contexto das CDFs. Vamos fazer isso perguntando o seguinte: Se eu escolher um dos alunos do sexo masculino aleatoriamente, qual é a probabilidade de ele ser mais alto que 70,5 polegadas? Como cada aluno tem a mesma probabilidade de ser escolhido, a resposta é equivalente à proporção de alunos com mais de 70,5 polegadas. Usando o CDF, obtemos uma resposta escrevendo:</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="probabilidade.html#cb477-1"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">F</span>(<span class="dv">70</span>)</span>
<span id="cb477-2"><a href="probabilidade.html#cb477-2"></a><span class="co">#&gt; [1] 0.377</span></span></code></pre></div>
<p>Uma vez definido um CDF, podemos usá-lo para calcular a probabilidade de qualquer subconjunto. Por exemplo, a probabilidade de um aluno estar entre a altura <code>a</code> e altura <code>b</code> é:</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="probabilidade.html#cb478-1"></a><span class="kw">F</span>(b)<span class="op">-</span><span class="kw">F</span>(a)</span></code></pre></div>
<p>Como podemos calcular a probabilidade de qualquer evento possível dessa maneira, a função de probabilidade cumulativa define a distribuição de probabilidade para escolher uma altura aleatória do nosso vetor de altura. <code>x</code>.</p>
</div>
<div id="distribuições-teóricas-contínuas" class="section level2" number="13.9">
<h2><span class="header-section-number">13.9</span> Distribuições teóricas contínuas</h2>
<p>Na seção <a href="distributions.html#normal-distribution">8.8</a> apresentamos a distribuição normal como uma aproximação útil para muitas distribuições naturais, incluindo a altura. A distribuição cumulativa para a distribuição normal é definida por uma fórmula matemática que pode ser obtida em R com a função <code>pnorm</code>. Dizemos que uma quantidade aleatória é normalmente distribuída com uma média <code>m</code> e desvio padrão <code>s</code> se sua distribuição de probabilidade for definida por:</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="probabilidade.html#cb479-1"></a><span class="kw">F</span>(a) =<span class="st"> </span><span class="kw">pnorm</span>(a, m, s)</span></code></pre></div>
<p>Isso é útil porque, se estamos dispostos a usar a aproximação normal para, por exemplo, altura, não precisamos de todo o conjunto de dados para responder a perguntas como: qual é a probabilidade de um aluno selecionado aleatoriamente ter mais de 70 anos polegadas? Só precisamos da altura média e do desvio padrão:</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="probabilidade.html#cb480-1"></a>m &lt;-<span class="st"> </span><span class="kw">mean</span>(x)</span>
<span id="cb480-2"><a href="probabilidade.html#cb480-2"></a>s &lt;-<span class="st"> </span><span class="kw">sd</span>(x)</span>
<span id="cb480-3"><a href="probabilidade.html#cb480-3"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="fl">70.5</span>, m, s)</span>
<span id="cb480-4"><a href="probabilidade.html#cb480-4"></a><span class="co">#&gt; [1] 0.371</span></span></code></pre></div>
<div id="distribuições-teóricas-como-aproximações" class="section level3" number="13.9.1">
<h3><span class="header-section-number">13.9.1</span> Distribuições teóricas como aproximações</h3>
<p>A distribuição normal é derivada matematicamente: não precisamos de dados para defini-la. Para os cientistas de dados, quase tudo o que fazemos na prática envolve dados. Os dados são sempre, do ponto de vista técnico, discretos. Por exemplo, podemos considerar nossos dados de altura categóricos com cada altura específica como uma única categoria. A distribuição de probabilidade é definida pela proporção de alunos que indicam cada altura. Aqui está um gráfico dessa distribuição de probabilidade:</p>
<p><img src="livro_files/figure-html/plot-of-height-frequencies-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Enquanto a maioria dos estudantes arredondava suas alturas para a polegada mais próxima, outros indicavam valores com mais precisão. Um aluno indicou que sua altura era de 69,6850393700787 polegadas, o que equivale a 177 centímetros. A probabilidade atribuída a esta altura é 0.001 ou 1 em 812. A probabilidade de 70 polegadas é muito maior em 0.106 mas faz sentido pensar que a probabilidade de ter exatamente 70 polegadas é diferente de 69,6850393700787? Claramente, é muito mais útil para fins de análise de dados tratar esse resultado como uma variável numérica contínua, considerando que muito poucas pessoas, ou talvez não, tenham exatamente 70 polegadas e que a razão pela qual obtemos mais valores 70 é porque as pessoas arredondam para a polegada mais próxima.</p>
<p>Com distribuições contínuas, a probabilidade de um valor singular não é definida. Por exemplo, não faz sentido perguntar qual é a probabilidade de um valor distribuído normalmente ser 70. Em vez disso, definimos probabilidades para intervalos. Portanto, poderíamos perguntar qual é a probabilidade de alguém medir entre 69,5 e 70,5.</p>
<p>Em casos como altura, onde os dados são arredondados, a aproximação normal é particularmente útil se estivermos trabalhando com intervalos que incluem exatamente um número redondo. Por exemplo, a distribuição normal é útil para aproximar a proporção de alunos que relatam valores de intervalo, como os três seguintes:</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="probabilidade.html#cb481-1"></a><span class="kw">mean</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="fl">68.5</span>) <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="fl">67.5</span>)</span>
<span id="cb481-2"><a href="probabilidade.html#cb481-2"></a><span class="co">#&gt; [1] 0.115</span></span>
<span id="cb481-3"><a href="probabilidade.html#cb481-3"></a><span class="kw">mean</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="fl">69.5</span>) <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="fl">68.5</span>)</span>
<span id="cb481-4"><a href="probabilidade.html#cb481-4"></a><span class="co">#&gt; [1] 0.119</span></span>
<span id="cb481-5"><a href="probabilidade.html#cb481-5"></a><span class="kw">mean</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="fl">70.5</span>) <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="fl">69.5</span>)</span>
<span id="cb481-6"><a href="probabilidade.html#cb481-6"></a><span class="co">#&gt; [1] 0.122</span></span></code></pre></div>
<p>Observe como chegamos perto da abordagem normal:</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="probabilidade.html#cb482-1"></a><span class="kw">pnorm</span>(<span class="fl">68.5</span>, m, s) <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="fl">67.5</span>, m, s)</span>
<span id="cb482-2"><a href="probabilidade.html#cb482-2"></a><span class="co">#&gt; [1] 0.103</span></span>
<span id="cb482-3"><a href="probabilidade.html#cb482-3"></a><span class="kw">pnorm</span>(<span class="fl">69.5</span>, m, s) <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="fl">68.5</span>, m, s)</span>
<span id="cb482-4"><a href="probabilidade.html#cb482-4"></a><span class="co">#&gt; [1] 0.11</span></span>
<span id="cb482-5"><a href="probabilidade.html#cb482-5"></a><span class="kw">pnorm</span>(<span class="fl">70.5</span>, m, s) <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="fl">69.5</span>, m, s)</span>
<span id="cb482-6"><a href="probabilidade.html#cb482-6"></a><span class="co">#&gt; [1] 0.108</span></span></code></pre></div>
<p>No entanto, a aproximação não é tão útil para outros intervalos. Por exemplo, observe como a aproximação se divide quando tentamos estimar:</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="probabilidade.html#cb483-1"></a><span class="kw">mean</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="fl">70.9</span>) <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(x<span class="op">&lt;=</span><span class="fl">70.1</span>)</span>
<span id="cb483-2"><a href="probabilidade.html#cb483-2"></a><span class="co">#&gt; [1] 0.0222</span></span></code></pre></div>
<p>com:</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="probabilidade.html#cb484-1"></a><span class="kw">pnorm</span>(<span class="fl">70.9</span>, m, s) <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="fl">70.1</span>, m, s)</span>
<span id="cb484-2"><a href="probabilidade.html#cb484-2"></a><span class="co">#&gt; [1] 0.0836</span></span></code></pre></div>
<p>Em geral, chamamos essa situação de “discriminação”. Embora a distribuição real da altura seja contínua, as alturas relatadas tendem a ser mais comuns em valores discretos, neste caso, devido ao arredondamento. Desde que saibamos lidar com essa realidade, a abordagem normal pode ser uma ferramenta muito útil.</p>
</div>
<div id="a-densidade-de-probabilidade" class="section level3" number="13.9.2">
<h3><span class="header-section-number">13.9.2</span> A densidade de probabilidade</h3>
<p>Para distribuições categóricas, podemos definir a probabilidade de uma categoria. Por exemplo, um dado, vamos chamá-lo <span class="math inline">\(X\)</span>, pode ser 1,2,3,4,5 ou 6. A probabilidade de 4 é definida como:</p>
<p><span class="math display">\[
\mbox{Pr}(X=4) = 1/6
\]</span></p>
<p>O CDF pode então ser facilmente definido:
<span class="math display">\[
F(4) = \mbox{Pr}(X\leq 4) = \mbox{Pr}(X = 4) + \mbox{Pr}(X = 3) + \mbox{Pr}(X = 2) + \mbox{Pr}(X = 1)
\]</span></p>
<p>Embora para distribuições contínuas a probabilidade de um único valor <span class="math inline">\(\mbox{Pr}(X=x)\)</span> não definido, existe uma definição teórica que tem uma interpretação semelhante. A densidade de probabilidade em <span class="math inline">\(x\)</span> é definido como a função <span class="math inline">\(f(a)\)</span> tal que:</p>
<p><span class="math display">\[
F(a) = \mbox{Pr}(X\leq a) = \int_{-\infty}^a f(x)\, dx
\]</span></p>
<p>Para quem conhece o cálculo, lembre-se de que a integral está relacionada a uma soma: é a soma das barras com larguras próximas a 0. Se você não conhece o cálculo, pode pensar em <span class="math inline">\(f(x)\)</span> como uma curva para a qual a área sob essa curva até o valor <span class="math inline">\(a\)</span> dá a eles a probabilidade <span class="math inline">\(\mbox{Pr}(X\leq a)\)</span>.</p>
<p>Por exemplo, para usar a aproximação normal para estimar a probabilidade de alguém ter mais de 76 polegadas, usamos:</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="probabilidade.html#cb485-1"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="dv">76</span>, m, s)</span>
<span id="cb485-2"><a href="probabilidade.html#cb485-2"></a><span class="co">#&gt; [1] 0.0321</span></span></code></pre></div>
<p>que matematicamente é a área cinza abaixo:</p>
<p><img src="livro_files/figure-html/intergrals-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>A curva que você vê é a densidade de probabilidade para a distribuição normal. Em R, obtemos isso usando a função <code>dnorm</code>.</p>
<p>Embora possa não ser imediatamente óbvio por que é útil conhecer as densidades de probabilidade, entender esse conceito será essencial para aqueles que desejam ajustar modelos a dados para os quais não há funções predefinidas disponíveis.</p>
<p>Simulações de Monte Carlo para variáveis contínuas</p>
<p>R fornece funções para gerar resultados normalmente distribuídos. Especificamente, a função <code>rnorm</code> são necessários três argumentos: tamanho, média (padrão 0) e desvio padrão (padrão 1) e produz números aleatórios. Aqui está um exemplo de como podemos gerar dados que se parecem com nossas alturas:</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="probabilidade.html#cb486-1"></a>n &lt;-<span class="st"> </span><span class="kw">length</span>(x)</span>
<span id="cb486-2"><a href="probabilidade.html#cb486-2"></a>m &lt;-<span class="st"> </span><span class="kw">mean</span>(x)</span>
<span id="cb486-3"><a href="probabilidade.html#cb486-3"></a>s &lt;-<span class="st"> </span><span class="kw">sd</span>(x)</span>
<span id="cb486-4"><a href="probabilidade.html#cb486-4"></a>simulated_heights &lt;-<span class="st"> </span><span class="kw">rnorm</span>(n, m, s)</span></code></pre></div>
<p>Não é de surpreender que a distribuição pareça normal:</p>
<p><img src="livro_files/figure-html/simulated-heights-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Essa é uma das funções mais úteis em R, pois permite gerar dados que imitam eventos naturais e responder a perguntas relacionadas ao que poderia acontecer por acaso ao executar simulações de Monte Carlo.</p>
<p>Se, por exemplo, escolhermos 800 homens aleatoriamente, qual é a distribuição da pessoa mais alta? Quão raro é um homem de sete pés e sete pés de rodapé em um grupo de 800 homens? A seguinte simulação de Monte Carlo nos ajuda a responder a essa pergunta:</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="probabilidade.html#cb487-1"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb487-2"><a href="probabilidade.html#cb487-2"></a>tallest &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb487-3"><a href="probabilidade.html#cb487-3"></a>simulated_data &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">800</span>, m, s)</span>
<span id="cb487-4"><a href="probabilidade.html#cb487-4"></a><span class="kw">max</span>(simulated_data)</span>
<span id="cb487-5"><a href="probabilidade.html#cb487-5"></a>})</span></code></pre></div>
<p>Ter um <em>pés de rodapé</em> é bastante raro:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="probabilidade.html#cb488-1"></a><span class="kw">mean</span>(tallest <span class="op">&gt;=</span><span class="st"> </span><span class="dv">7</span><span class="op">*</span><span class="dv">12</span>)</span>
<span id="cb488-2"><a href="probabilidade.html#cb488-2"></a><span class="co">#&gt; [1] 0.0198</span></span></code></pre></div>
<p>Aqui vemos a distribuição resultante:</p>
<p><img src="livro_files/figure-html/simulated-tallest-height-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Observe que isso não parece normal.</p>
</div>
</div>
<div id="distribuições-contínuas" class="section level2" number="13.10">
<h2><span class="header-section-number">13.10</span> Distribuições contínuas</h2>
<p>Apresentamos a distribuição normal na Seção <a href="distributions.html#normal-distribution">8.8</a> e foi usado como um exemplo acima. A distribuição normal não é a única distribuição teórica útil. Outras distribuições contínuas que podemos encontrar são t de Student (<em>Estudante t</em> em inglês), qui-quadrado, exponencial, gama, beta e beta-binomial. R fornece funções para calcular densidade, quantis, funções de distribuição cumulativa e gerar simulações de Monte Carlo. R usa uma convenção que nos ajuda a lembrar nomes: use letras <code>d</code>, <code>q</code>, <code>p</code> e <code>r</code> na frente de uma abreviação do nome da distribuição. Já vimos as funções <code>dnorm</code>, <code>pnorm</code> e <code>rnorm</code> para a distribuição normal. A função <code>qnorm</code> nos dá os quantis. Portanto, podemos traçar uma distribuição como esta:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="probabilidade.html#cb489-1"></a>x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>, <span class="dt">length.out =</span> <span class="dv">100</span>)</span>
<span id="cb489-2"><a href="probabilidade.html#cb489-2"></a><span class="kw">qplot</span>(x, f, <span class="dt">geom =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">data =</span> <span class="kw">data.frame</span>(x, <span class="dt">f =</span> <span class="kw">dnorm</span>(x)))</span></code></pre></div>
<p>Para a distribuição t do aluno, descrita mais adiante na Seção <a href="#t-dist"><strong>??</strong></a>, a abreviação <code>t</code> é usado para funções serem <code>dt</code> para densidade, <code>qt</code> para quantis, <code>pt</code> para a função de distribuição cumulativa e <code>rt</code> para a simulação de Monte Carlo.</p>
</div>
<div id="exercícios-23" class="section level2" number="13.11">
<h2><span class="header-section-number">13.11</span> Exercícios</h2>
<p>1. Suponha que a distribuição das alturas femininas seja aproximada por uma distribuição normal com uma média de 64 polegadas e um desvio padrão de 3 polegadas. Se escolhermos uma mulher aleatoriamente, qual é a probabilidade de ela ter um metro ou menos?</p>
<p>2. Suponha que a distribuição das alturas femininas seja aproximada por uma distribuição normal com uma média de 64 polegadas e um desvio padrão de 3 polegadas. Se escolhermos uma mulher aleatoriamente, qual é a probabilidade de ela ter um metro e oitenta ou mais?</p>
<p>3. Suponha que a distribuição das alturas femininas seja aproximada por uma distribuição normal com uma média de 64 polegadas e um desvio padrão de 3 polegadas. Se escolhermos uma mulher aleatoriamente, qual é a probabilidade de ela ter entre 61 e 67 polegadas?</p>
<p>4. Repita o exercício anterior, mas converta tudo em centímetros. Ou seja, multiplique cada altura, incluindo o desvio padrão, por 2,54. Qual é a resposta agora?</p>
<p>5. Observe que a resposta à pergunta não muda quando as unidades mudam. Isso faz sentido, pois a resposta à pergunta não deve ser afetada pelas unidades que usamos. De fato, se você olhar de perto, verá que 61 e 64 estão a 1 SD da média. Encontre a probabilidade de uma variável aleatória aleatória e normalmente distribuída estar dentro de 1 DP da média.</p>
<p>6. Para ver a matemática que explica por que as respostas às perguntas 3, 4 e 5 são as mesmas, suponha que você tenha uma variável aleatória média <span class="math inline">\(m\)</span> e erro padrão <span class="math inline">\(s\)</span>. Suponha que você queira saber a probabilidade de que <span class="math inline">\(X\)</span> é menor ou igual a <span class="math inline">\(a\)</span>. Lembre-se de que, por definição <span class="math inline">\(a\)</span> é <span class="math inline">\((a - m)/s\)</span> desvio padrão <span class="math inline">\(s\)</span> da média <span class="math inline">\(m\)</span>. A probabilidade é:</p>
<p><span class="math display">\[
\mbox{Pr}(X \leq a)
\]</span></p>
<p>Agora subtraia <span class="math inline">\(\mu\)</span> em ambos os lados e depois divida os dois lados por <span class="math inline">\(\sigma\)</span>:</p>
<p><span class="math display">\[
\mbox{Pr}\left(\frac{X-m}{s} \leq \frac{a-m}{s} \right)
\]</span></p>
<p>A quantidade à esquerda é uma variável aleatória normal padrão. Tem uma média de 0 e um erro padrão de 1. Vamos chamá-lo <span class="math inline">\(Z\)</span>:</p>
<p><span class="math display">\[
\mbox{Pr}\left(Z \leq \frac{a-m}{s} \right)
\]</span></p>
<p>Portanto, independentemente das unidades, a probabilidade de <span class="math inline">\(X\leq a\)</span> é igual à probabilidade de uma variável normal padrão ser menor que <span class="math inline">\((a - m)/s\)</span>. Sim <code>mu</code> é a média e <code>sigma</code> o erro padrão, qual dos seguintes códigos R fornecerá a resposta correta em cada situação?</p>
<p>para. <code>mean(X&lt;=a)</code>
b. <code>pnorm((a - m)/s)</code>
c. <code>pnorm((a - m)/s, m, s)</code>
d. <code>pnorm(a)</code></p>
<p>7. Imagine que a distribuição de machos adultos seja aproximadamente normal, com um valor esperado de 69 e um desvio padrão de 3. Qual é a altura do macho no percentil 99? Dica: use <code>qnorm</code>.</p>
<p>8. A distribuição das pontuações de QI, ou QI, é aproximadamente distribuída normalmente. A média é 100 e o desvio padrão é 15. Suponha que você queira saber a distribuição dos QIs mais altos em todas as turmas de graduação de cada distrito escolar, cada uma com 10.000 pessoas. Execute uma simulação de Monte Carlo com <code>B=1000</code> gerando 10.000 pontos de QI e mantendo os QIs mais altos. Faça um histograma.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="46">
<li id="fn46"><p><a href="https://en.wikipedia.org/wiki/Urn_problem" class="uri">https://en.wikipedia.org/wiki/Urn_problem</a><a href="probabilidade.html#fnref46" class="footnote-back">↩︎</a></p></li>
<li id="fn47"><p><a href="https://www.khanacademy.org/math/precalculus/prob-comb/dependent-events-precalc/v/monty-hall-problem" class="uri">https://www.khanacademy.org/math/precalculus/prob-comb/dependent-events-precalc/v/monty-hall-problem</a><a href="probabilidade.html#fnref47" class="footnote-back">↩︎</a></p></li>
<li id="fn48"><p> <a href="https://en.wikipedia.org/wiki/Monty_Hall_problem" class="uri">https://en.wikipedia.org/wiki/Monty_Hall_problem</a><a href="probabilidade.html#fnref48" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introdução-às-estatísticas-com-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="variáveis-aleatórias.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dslivro/edit/master/prob/intro-to-prob.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
