<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 8 Visualizando distribuições de dados | Introdução à Ciência de Dados</title>
  <meta name="description" content="Este livro apresenta conceitos e habilidades que ajudarão você a enfrentar os desafios da vida real em análise de dados. Ele abrange conceitos de probabilidade, inferência estatística, regressão linear e aprendizado de máquina. Além disso, permitirá que você desenvolva habilidades como programação em R, manipulação de dados com dplyr, visualização de dados com ggplot2, organização de arquivos no ambiente UNIX/Linux, controle de versão com GitHub e elaboração de documentos reprodutíveis com Rmarkdown." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 8 Visualizando distribuições de dados | Introdução à Ciência de Dados" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este livro apresenta conceitos e habilidades que ajudarão você a enfrentar os desafios da vida real em análise de dados. Ele abrange conceitos de probabilidade, inferência estatística, regressão linear e aprendizado de máquina. Além disso, permitirá que você desenvolva habilidades como programação em R, manipulação de dados com dplyr, visualização de dados com ggplot2, organização de arquivos no ambiente UNIX/Linux, controle de versão com GitHub e elaboração de documentos reprodutíveis com Rmarkdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 8 Visualizando distribuições de dados | Introdução à Ciência de Dados" />
  
  <meta name="twitter:description" content="Este livro apresenta conceitos e habilidades que ajudarão você a enfrentar os desafios da vida real em análise de dados. Ele abrange conceitos de probabilidade, inferência estatística, regressão linear e aprendizado de máquina. Além disso, permitirá que você desenvolva habilidades como programação em R, manipulação de dados com dplyr, visualização de dados com ggplot2, organização de arquivos no ambiente UNIX/Linux, controle de versão com GitHub e elaboração de documentos reprodutíveis com Rmarkdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2020-11-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ggplot2.html"/>
<link rel="next" href="gapminder.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introdução à Ciência de Dados</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefácio</a></li>
<li class="chapter" data-level="" data-path="agradecimentos.html"><a href="agradecimentos.html"><i class="fa fa-check"></i>Agradecimentos</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html"><i class="fa fa-check"></i>Introdução</a>
<ul>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#estudos-de-caso"><i class="fa fa-check"></i>Estudos de Caso</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#quem-achará-este-livro-útil"><i class="fa fa-check"></i>Quem achará este livro útil?</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#o-que-este-livro-cobre"><i class="fa fa-check"></i>O que este livro cobre?</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#o-que-este-livro-não-cobre"><i class="fa fa-check"></i>O que este livro não cobre?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Introdução ao R e RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#por-que-r"><i class="fa fa-check"></i><b>1.1</b> Por que R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#o-console-do-r"><i class="fa fa-check"></i><b>1.2</b> O console do R</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>1.3</b> <em>Scripts</em></a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.4</b> RStudio</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#painéis"><i class="fa fa-check"></i><b>1.4.1</b> Painéis</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#combinações-de-teclas-atalhos"><i class="fa fa-check"></i><b>1.4.2</b> Combinações de teclas (atalhos)</a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#como-executar-comandos-enquanto-edita-scripts"><i class="fa fa-check"></i><b>1.4.3</b> Como executar comandos enquanto edita <em>scripts</em></a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#como-alterar-opções-globais"><i class="fa fa-check"></i><b>1.4.4</b> Como alterar opções globais</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#instalando-pacotes-r"><i class="fa fa-check"></i><b>1.5</b> Instalando pacotes R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R básico</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#estudo-de-caso-assassinatos-por-armas-nos-eua"><i class="fa fa-check"></i><b>2.1</b> Estudo de caso: assassinatos por armas nos EUA</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#os-princípios-básicos"><i class="fa fa-check"></i><b>2.2</b> Os princípios básicos</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#objetos"><i class="fa fa-check"></i><b>2.2.1</b> Objetos</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#a-área-de-trabalho-workspace"><i class="fa fa-check"></i><b>2.2.2</b> A área de trabalho (<em>workspace</em>)</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-basics.html"><a href="r-basics.html#funções"><i class="fa fa-check"></i><b>2.2.3</b> Funções</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-basics.html"><a href="r-basics.html#outros-objetos-pré-construídos"><i class="fa fa-check"></i><b>2.2.4</b> Outros objetos pré-construídos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-basics.html"><a href="r-basics.html#nomes-de-variáveis"><i class="fa fa-check"></i><b>2.2.5</b> Nomes de variáveis</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-basics.html"><a href="r-basics.html#como-salvar-sua-área-de-trabalho"><i class="fa fa-check"></i><b>2.2.6</b> Como salvar sua área de trabalho</a></li>
<li class="chapter" data-level="2.2.7" data-path="r-basics.html"><a href="r-basics.html#fundamentando-o-uso-de-scripts"><i class="fa fa-check"></i><b>2.2.7</b> Fundamentando o uso de <em>scripts</em></a></li>
<li class="chapter" data-level="2.2.8" data-path="r-basics.html"><a href="r-basics.html#como-comentar-seu-código"><i class="fa fa-check"></i><b>2.2.8</b> Como comentar seu código</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#exercícios"><i class="fa fa-check"></i><b>2.3</b> Exercícios</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#tipos-de-dados"><i class="fa fa-check"></i><b>2.4</b> Tipos de dados</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.4.1</b> <em>Data frames</em></a></li>
<li class="chapter" data-level="2.4.2" data-path="r-basics.html"><a href="r-basics.html#examinando-um-objeto"><i class="fa fa-check"></i><b>2.4.2</b> Examinando um objeto</a></li>
<li class="chapter" data-level="2.4.3" data-path="r-basics.html"><a href="r-basics.html#o-operador-de-acesso"><i class="fa fa-check"></i><b>2.4.3</b> O operador de acesso: <code>$</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="r-basics.html"><a href="r-basics.html#vetores-numéricos-caracteres-e-lógicos"><i class="fa fa-check"></i><b>2.4.4</b> Vetores: numéricos, caracteres e lógicos</a></li>
<li class="chapter" data-level="2.4.5" data-path="r-basics.html"><a href="r-basics.html#fatores-factors"><i class="fa fa-check"></i><b>2.4.5</b> Fatores (<em>factors</em>)</a></li>
<li class="chapter" data-level="2.4.6" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.4.6</b> Listas</a></li>
<li class="chapter" data-level="2.4.7" data-path="r-basics.html"><a href="r-basics.html#matrizes"><i class="fa fa-check"></i><b>2.4.7</b> Matrizes</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#exercícios-1"><i class="fa fa-check"></i><b>2.5</b> Exercícios</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#vetores"><i class="fa fa-check"></i><b>2.6</b> Vetores</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#criando-vetores"><i class="fa fa-check"></i><b>2.6.1</b> Criando vetores</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-basics.html"><a href="r-basics.html#nomes"><i class="fa fa-check"></i><b>2.6.2</b> Nomes</a></li>
<li class="chapter" data-level="2.6.3" data-path="r-basics.html"><a href="r-basics.html#sequências"><i class="fa fa-check"></i><b>2.6.3</b> Sequências</a></li>
<li class="chapter" data-level="2.6.4" data-path="r-basics.html"><a href="r-basics.html#criando-subconjuntos"><i class="fa fa-check"></i><b>2.6.4</b> Criando subconjuntos</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#conversão-forçada"><i class="fa fa-check"></i><b>2.7</b> Conversão forçada</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="r-basics.html"><a href="r-basics.html#valores-na"><i class="fa fa-check"></i><b>2.7.1</b> Valores NA</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#exercícios-2"><i class="fa fa-check"></i><b>2.8</b> Exercícios</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#ordenação"><i class="fa fa-check"></i><b>2.9</b> Ordenação</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.9.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.9.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.9.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.9.3" data-path="r-basics.html"><a href="r-basics.html#max-e-which.max"><i class="fa fa-check"></i><b>2.9.3</b> <code>max</code> e <code>which.max</code></a></li>
<li class="chapter" data-level="2.9.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.9.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.9.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-com-a-reciclagem"><i class="fa fa-check"></i><b>2.9.5</b> Cuidado com a reciclagem</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#exercícios-3"><i class="fa fa-check"></i><b>2.10</b> Exercícios</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#aritmética-vetorial"><i class="fa fa-check"></i><b>2.11</b> Aritmética vetorial</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="r-basics.html"><a href="r-basics.html#reescalonando-um-vetor"><i class="fa fa-check"></i><b>2.11.1</b> Reescalonando um vetor</a></li>
<li class="chapter" data-level="2.11.2" data-path="r-basics.html"><a href="r-basics.html#dois-vetores"><i class="fa fa-check"></i><b>2.11.2</b> Dois vetores</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#exercícios-4"><i class="fa fa-check"></i><b>2.12</b> Exercícios</a></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#indexação"><i class="fa fa-check"></i><b>2.13</b> Indexação</a>
<ul>
<li class="chapter" data-level="2.13.1" data-path="r-basics.html"><a href="r-basics.html#criando-subconjuntos-com-objetos-do-tipo-lógico"><i class="fa fa-check"></i><b>2.13.1</b> Criando subconjuntos com objetos do tipo lógico</a></li>
<li class="chapter" data-level="2.13.2" data-path="r-basics.html"><a href="r-basics.html#operadores-lógicos"><i class="fa fa-check"></i><b>2.13.2</b> Operadores lógicos</a></li>
<li class="chapter" data-level="2.13.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.13.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.13.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.13.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.13.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.13.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#exercícios-5"><i class="fa fa-check"></i><b>2.14</b> Exercícios</a></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#gráficos-básicos"><i class="fa fa-check"></i><b>2.15</b> Gráficos básicos</a>
<ul>
<li class="chapter" data-level="2.15.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.15.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.15.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.15.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.15.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.15.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.15.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.15.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="r-basics.html"><a href="r-basics.html#exercícios-6"><i class="fa fa-check"></i><b>2.16</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html"><i class="fa fa-check"></i><b>3</b> Conceitos básicos de programação</a>
<ul>
<li class="chapter" data-level="3.1" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expressões condicionais</a></li>
<li class="chapter" data-level="3.2" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#como-definir-funções"><i class="fa fa-check"></i><b>3.2</b> Como definir funções</a></li>
<li class="chapter" data-level="3.3" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#namespaces"><i class="fa fa-check"></i><b>3.3</b> <em>Namespaces</em></a></li>
<li class="chapter" data-level="3.4" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#laços-do-tipo-for"><i class="fa fa-check"></i><b>3.4</b> Laços do tipo for</a></li>
<li class="chapter" data-level="3.5" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> Vectorização e funcionais</a></li>
<li class="chapter" data-level="3.6" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#exercícios-7"><i class="fa fa-check"></i><b>3.6</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> <em>tidyverse</em></a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Data <em>tidy</em></a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-8"><i class="fa fa-check"></i><b>4.2</b> Exercícios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#como-manipular-data-frames"><i class="fa fa-check"></i><b>4.3</b> Como manipular <em>data frames</em></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#como-adicionar-uma-coluna-com-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Como adicionar uma coluna com <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#como-criar-subconjuntos-com-filter"><i class="fa fa-check"></i><b>4.3.2</b> Como criar subconjuntos com <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#como-selecionar-colunas-com-select"><i class="fa fa-check"></i><b>4.3.3</b> Como selecionar colunas com <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-9"><i class="fa fa-check"></i><b>4.4</b> Exercícios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#o-cano_"><i class="fa fa-check"></i><b>4.5</b> O cano_: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-10"><i class="fa fa-check"></i><b>4.6</b> Exercícios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#como-resumir-dados"><i class="fa fa-check"></i><b>4.7</b> Como resumir dados</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.7.2</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Como agrupar e resumir com <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#como-encomendar-os-data-frames"><i class="fa fa-check"></i><b>4.8</b> Como encomendar os <em>data frames</em></a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="tidyverse.html"><a href="tidyverse.html#como-encomendar-aninhado"><i class="fa fa-check"></i><b>4.8.1</b> Como encomendar aninhado</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidyverse.html"><a href="tidyverse.html#os-primeiros-n"><i class="fa fa-check"></i><b>4.8.2</b> Os primeiros <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-11"><i class="fa fa-check"></i><b>4.9</b> Exercícios</a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.10</b> <em>Tibbles</em></a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-parece-melhor"><i class="fa fa-check"></i><b>4.10.1</b> <em>Tibbles</em> parece melhor</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidyverse.html"><a href="tidyverse.html#tibbles_subconjuntos-são_tibbles"><i class="fa fa-check"></i><b>4.10.2</b> <em>Tibbles_subconjuntos são_tibbles</em></a></li>
<li class="chapter" data-level="4.10.3" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-pode-ter-entradas-complexas"><i class="fa fa-check"></i><b>4.10.3</b> <em>Tibbles</em> pode ter entradas complexas</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-podem-ser-agrupados"><i class="fa fa-check"></i><b>4.10.4</b> <em>Tibbles</em> podem ser agrupados</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidyverse.html"><a href="tidyverse.html#como-criar-um-tibble-usando-tibble-ao-invés-de-data.frame"><i class="fa fa-check"></i><b>4.10.5</b> Como criar um <em>tibble</em> usando <code>tibble</code> ao invés de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#o-operador-de-ponto"><i class="fa fa-check"></i><b>4.11</b> O operador de ponto</a></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#do"><i class="fa fa-check"></i><b>4.12</b> <code>do</code></a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#o-pacote-purrr"><i class="fa fa-check"></i><b>4.13</b> O pacote <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#os-condicionais-tidyverse"><i class="fa fa-check"></i><b>4.14</b> Os condicionais <em>tidyverse</em></a>
<ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-12"><i class="fa fa-check"></i><b>4.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando dados</a>
<ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#caminhos-e-diretório-de-trabalho"><i class="fa fa-check"></i><b>5.1</b> Caminhos e diretório de trabalho</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#sistema-de-arquivos"><i class="fa fa-check"></i><b>5.1.1</b> Sistema de arquivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#caminhos-relativos-e-absolutos"><i class="fa fa-check"></i><b>5.1.2</b> Caminhos relativos e absolutos</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#o-diretório-de-trabalho"><i class="fa fa-check"></i><b>5.1.3</b> O diretório de trabalho</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#gerando-nomes-de-caminhos"><i class="fa fa-check"></i><b>5.1.4</b> Gerando nomes de caminhos</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#copiando-arquivos-usando-caminhos"><i class="fa fa-check"></i><b>5.1.5</b> Copiando arquivos usando caminhos</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#os-pacotes-readr-e-readxl"><i class="fa fa-check"></i><b>5.2</b> Os pacotes readr e readxl</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#readr"><i class="fa fa-check"></i><b>5.2.1</b> readr</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#exercícios-13"><i class="fa fa-check"></i><b>5.3</b> Exercícios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#como-fazer-download-de-arquivos"><i class="fa fa-check"></i><b>5.4</b> Como fazer <em>download</em> de arquivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#funções-básicas-de-importação-do-r"><i class="fa fa-check"></i><b>5.5</b> Funções básicas de importação do R</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#arquivos-de-texto-versus-arquivos-binários"><i class="fa fa-check"></i><b>5.6</b> Arquivos de texto versus arquivos binários</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#como-organizar-dados-com-planilhas"><i class="fa fa-check"></i><b>5.8</b> Como organizar dados com planilhas</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#exercícios-14"><i class="fa fa-check"></i><b>5.9</b> Exercícios</a></li>
</ul></li>
<li class="part"><span><b>II Exibição de dados</b></span></li>
<li class="chapter" data-level="6" data-path="introdução-à-visualização-de-dados.html"><a href="introdução-à-visualização-de-dados.html"><i class="fa fa-check"></i><b>6</b> Introdução à visualização de dados</a></li>
<li class="chapter" data-level="7" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>7</b> ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ggplot2.html"><a href="ggplot2.html#os-componentes-de-um-gráfico"><i class="fa fa-check"></i><b>7.1</b> Os componentes de um gráfico</a></li>
<li class="chapter" data-level="7.2" data-path="ggplot2.html"><a href="ggplot2.html#objetos-ggplot"><i class="fa fa-check"></i><b>7.2</b> Objetos <code>ggplot</code></a></li>
<li class="chapter" data-level="7.3" data-path="ggplot2.html"><a href="ggplot2.html#geometrias"><i class="fa fa-check"></i><b>7.3</b> Geometrias</a></li>
<li class="chapter" data-level="7.4" data-path="ggplot2.html"><a href="ggplot2.html#mapeamentos-estéticos"><i class="fa fa-check"></i><b>7.4</b> Mapeamentos estéticos</a></li>
<li class="chapter" data-level="7.5" data-path="ggplot2.html"><a href="ggplot2.html#camadas"><i class="fa fa-check"></i><b>7.5</b> Camadas</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="ggplot2.html"><a href="ggplot2.html#trabalhando-com-argumentos"><i class="fa fa-check"></i><b>7.5.1</b> Trabalhando com argumentos</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="ggplot2.html"><a href="ggplot2.html#mapeamento-estético-global-versus-local"><i class="fa fa-check"></i><b>7.6</b> Mapeamento estético global versus local</a></li>
<li class="chapter" data-level="7.7" data-path="ggplot2.html"><a href="ggplot2.html#escalas"><i class="fa fa-check"></i><b>7.7</b> Escalas</a></li>
<li class="chapter" data-level="7.8" data-path="ggplot2.html"><a href="ggplot2.html#rótulos-e-títulos"><i class="fa fa-check"></i><b>7.8</b> Rótulos e títulos</a></li>
<li class="chapter" data-level="7.9" data-path="ggplot2.html"><a href="ggplot2.html#usando-categorias-como-cores"><i class="fa fa-check"></i><b>7.9</b> Usando categorias como cores</a></li>
<li class="chapter" data-level="7.10" data-path="ggplot2.html"><a href="ggplot2.html#anotações-formas-e-ajustes"><i class="fa fa-check"></i><b>7.10</b> Anotações, formas e ajustes</a></li>
<li class="chapter" data-level="7.11" data-path="ggplot2.html"><a href="ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>7.11</b> Pacotes complementares</a></li>
<li class="chapter" data-level="7.12" data-path="ggplot2.html"><a href="ggplot2.html#como-combinar-tudo"><i class="fa fa-check"></i><b>7.12</b> Como combinar tudo</a></li>
<li class="chapter" data-level="7.13" data-path="ggplot2.html"><a href="ggplot2.html#qplot"><i class="fa fa-check"></i><b>7.13</b> Gráficos rápidos com <code>qplot</code></a></li>
<li class="chapter" data-level="7.14" data-path="ggplot2.html"><a href="ggplot2.html#grade-de-gráficos"><i class="fa fa-check"></i><b>7.14</b> Grade de gráficos</a></li>
<li class="chapter" data-level="7.15" data-path="ggplot2.html"><a href="ggplot2.html#exercícios-15"><i class="fa fa-check"></i><b>7.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>8</b> Visualizando distribuições de dados</a>
<ul>
<li class="chapter" data-level="8.1" data-path="distributions.html"><a href="distributions.html#tipos-de-variáveis"><i class="fa fa-check"></i><b>8.1</b> Tipos de variáveis</a></li>
<li class="chapter" data-level="8.2" data-path="distributions.html"><a href="distributions.html#estudo-de-caso-descrevendo-a-altura-dos-alunos"><i class="fa fa-check"></i><b>8.2</b> Estudo de caso: descrevendo a altura dos alunos</a></li>
<li class="chapter" data-level="8.3" data-path="distributions.html"><a href="distributions.html#função-de-distribuição"><i class="fa fa-check"></i><b>8.3</b> Função de distribuição</a></li>
<li class="chapter" data-level="8.4" data-path="distributions.html"><a href="distributions.html#cdf-intro"><i class="fa fa-check"></i><b>8.4</b> Funções de distribuição acumulada</a></li>
<li class="chapter" data-level="8.5" data-path="distributions.html"><a href="distributions.html#histogramas"><i class="fa fa-check"></i><b>8.5</b> Histogramas</a></li>
<li class="chapter" data-level="8.6" data-path="distributions.html"><a href="distributions.html#curvas-de-densidade"><i class="fa fa-check"></i><b>8.6</b> Curvas de densidade</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="distributions.html"><a href="distributions.html#interpretando-o-eixo-y"><i class="fa fa-check"></i><b>8.6.1</b> Interpretando o eixo y</a></li>
<li class="chapter" data-level="8.6.2" data-path="distributions.html"><a href="distributions.html#densidades-permitem-a-estratificação"><i class="fa fa-check"></i><b>8.6.2</b> Densidades permitem a estratificação</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="distributions.html"><a href="distributions.html#exercícios-16"><i class="fa fa-check"></i><b>8.7</b> Exercícios</a></li>
<li class="chapter" data-level="8.8" data-path="distributions.html"><a href="distributions.html#normal-distribution"><i class="fa fa-check"></i><b>8.8</b> Distribuição normal</a></li>
<li class="chapter" data-level="8.9" data-path="distributions.html"><a href="distributions.html#unidades-padrão"><i class="fa fa-check"></i><b>8.9</b> Unidades padrão</a></li>
<li class="chapter" data-level="8.10" data-path="distributions.html"><a href="distributions.html#gráficos-qq"><i class="fa fa-check"></i><b>8.10</b> Gráficos QQ</a></li>
<li class="chapter" data-level="8.11" data-path="distributions.html"><a href="distributions.html#percentis"><i class="fa fa-check"></i><b>8.11</b> Percentis</a></li>
<li class="chapter" data-level="8.12" data-path="distributions.html"><a href="distributions.html#diagramas-de-caixas-boxplots"><i class="fa fa-check"></i><b>8.12</b> Diagramas de caixas (<em>boxplots</em>)</a></li>
<li class="chapter" data-level="8.13" data-path="distributions.html"><a href="distributions.html#stratification"><i class="fa fa-check"></i><b>8.13</b> Estratificação</a></li>
<li class="chapter" data-level="8.14" data-path="distributions.html"><a href="distributions.html#student-height-cont"><i class="fa fa-check"></i><b>8.14</b> Estudo de caso: descrevendo as alturas dos alunos (continuação)</a></li>
<li class="chapter" data-level="8.15" data-path="distributions.html"><a href="distributions.html#exercícios-17"><i class="fa fa-check"></i><b>8.15</b> Exercícios</a></li>
<li class="chapter" data-level="8.16" data-path="distributions.html"><a href="distributions.html#other-geometries"><i class="fa fa-check"></i><b>8.16</b> Geometrias ggplot2</a>
<ul>
<li class="chapter" data-level="8.16.1" data-path="distributions.html"><a href="distributions.html#gráficos-de-barra"><i class="fa fa-check"></i><b>8.16.1</b> Gráficos de barra</a></li>
<li class="chapter" data-level="8.16.2" data-path="distributions.html"><a href="distributions.html#histogramas-1"><i class="fa fa-check"></i><b>8.16.2</b> Histogramas</a></li>
<li class="chapter" data-level="8.16.3" data-path="distributions.html"><a href="distributions.html#gráficos-de-densidade"><i class="fa fa-check"></i><b>8.16.3</b> Gráficos de densidade</a></li>
<li class="chapter" data-level="8.16.4" data-path="distributions.html"><a href="distributions.html#boxplots"><i class="fa fa-check"></i><b>8.16.4</b> <em>Boxplots</em></a></li>
<li class="chapter" data-level="8.16.5" data-path="distributions.html"><a href="distributions.html#gráficos-qq-1"><i class="fa fa-check"></i><b>8.16.5</b> Gráficos QQ</a></li>
<li class="chapter" data-level="8.16.6" data-path="distributions.html"><a href="distributions.html#imagens"><i class="fa fa-check"></i><b>8.16.6</b> Imagens</a></li>
<li class="chapter" data-level="8.16.7" data-path="distributions.html"><a href="distributions.html#gráficos-rápidos"><i class="fa fa-check"></i><b>8.16.7</b> Gráficos rápidos</a></li>
</ul></li>
<li class="chapter" data-level="8.17" data-path="distributions.html"><a href="distributions.html#exercícios-18"><i class="fa fa-check"></i><b>8.17</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="gapminder.html"><a href="gapminder.html"><i class="fa fa-check"></i><b>9</b> Visualização de dados na prática</a>
<ul>
<li class="chapter" data-level="9.1" data-path="gapminder.html"><a href="gapminder.html#estudo-de-caso-novas-perspectivas-sobre-pobreza"><i class="fa fa-check"></i><b>9.1</b> Estudo de caso: novas perspectivas sobre pobreza</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="gapminder.html"><a href="gapminder.html#teste-de-hans-rosling"><i class="fa fa-check"></i><b>9.1.1</b> Teste de Hans Rosling</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="gapminder.html"><a href="gapminder.html#diagramas-de-dispersão-scatterplots"><i class="fa fa-check"></i><b>9.2</b> Diagramas de dispersão (<em>scatterplots</em>)</a></li>
<li class="chapter" data-level="9.3" data-path="gapminder.html"><a href="gapminder.html#separe-em-facetas"><i class="fa fa-check"></i><b>9.3</b> Separe em facetas</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="gapminder.html"><a href="gapminder.html#facet_wrap"><i class="fa fa-check"></i><b>9.3.1</b> <code>facet_wrap</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="gapminder.html"><a href="gapminder.html#escalas-fixas-para-melhores-comparações"><i class="fa fa-check"></i><b>9.3.2</b> Escalas fixas para melhores comparações</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="gapminder.html"><a href="gapminder.html#gráficos-de-séries-temporais"><i class="fa fa-check"></i><b>9.4</b> Gráficos de séries temporais</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="gapminder.html"><a href="gapminder.html#rótulos-em-vez-de-legendas"><i class="fa fa-check"></i><b>9.4.1</b> Rótulos em vez de legendas</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="gapminder.html"><a href="gapminder.html#transformações-de-dados"><i class="fa fa-check"></i><b>9.5</b> Transformações de dados</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="gapminder.html"><a href="gapminder.html#transformação-logarítmica"><i class="fa fa-check"></i><b>9.5.1</b> Transformação logarítmica</a></li>
<li class="chapter" data-level="9.5.2" data-path="gapminder.html"><a href="gapminder.html#qual-base"><i class="fa fa-check"></i><b>9.5.2</b> Qual base?</a></li>
<li class="chapter" data-level="9.5.3" data-path="gapminder.html"><a href="gapminder.html#transformar-os-valores-ou-a-escala"><i class="fa fa-check"></i><b>9.5.3</b> Transformar os valores ou a escala?</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="gapminder.html"><a href="gapminder.html#como-visualizar-distribuições-multimodais"><i class="fa fa-check"></i><b>9.6</b> Como visualizar distribuições multimodais</a></li>
<li class="chapter" data-level="9.7" data-path="gapminder.html"><a href="gapminder.html#como-comparar-múltiplas-distribuições-com-boxplots-e-gráficos-ridge"><i class="fa fa-check"></i><b>9.7</b> Como comparar múltiplas distribuições com <em>boxplots</em> e gráficos <em>ridge</em></a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="gapminder.html"><a href="gapminder.html#boxplots-diagramas-de-caixa"><i class="fa fa-check"></i><b>9.7.1</b> <em>Boxplots</em> (diagramas de caixa)</a></li>
<li class="chapter" data-level="9.7.2" data-path="gapminder.html"><a href="gapminder.html#gráficos-ridge"><i class="fa fa-check"></i><b>9.7.2</b> Gráficos <em>ridge</em></a></li>
<li class="chapter" data-level="9.7.3" data-path="gapminder.html"><a href="gapminder.html#exemplo-distribuições-de-renda-1970-versus-2010"><i class="fa fa-check"></i><b>9.7.3</b> Exemplo: distribuições de renda 1970 versus 2010</a></li>
<li class="chapter" data-level="9.7.4" data-path="gapminder.html"><a href="gapminder.html#como-acessar-variáveis-calculadas"><i class="fa fa-check"></i><b>9.7.4</b> Como acessar variáveis calculadas</a></li>
<li class="chapter" data-level="9.7.5" data-path="gapminder.html"><a href="gapminder.html#densidades-ponderadas"><i class="fa fa-check"></i><b>9.7.5</b> Densidades ponderadas</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="gapminder.html"><a href="gapminder.html#a-falácia-ecológica-e-a-importância-de-mostrar-os-dados"><i class="fa fa-check"></i><b>9.8</b> A falácia ecológica e a importância de mostrar os dados</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="gapminder.html"><a href="gapminder.html#logit"><i class="fa fa-check"></i><b>9.8.1</b> Transformação logística</a></li>
<li class="chapter" data-level="9.8.2" data-path="gapminder.html"><a href="gapminder.html#mostre-os-dados"><i class="fa fa-check"></i><b>9.8.2</b> Mostre os dados</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html"><i class="fa fa-check"></i><b>10</b> Princípios de visualização de dados</a>
<ul>
<li class="chapter" data-level="10.1" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#codificando-dados-usando-dicas-visuais"><i class="fa fa-check"></i><b>10.1</b> Codificando dados usando dicas visuais</a></li>
<li class="chapter" data-level="10.2" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#saiba-quando-incluir-0"><i class="fa fa-check"></i><b>10.2</b> Saiba quando incluir 0</a></li>
<li class="chapter" data-level="10.3" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#não-distorça-quantidades"><i class="fa fa-check"></i><b>10.3</b> Não distorça quantidades</a></li>
<li class="chapter" data-level="10.4" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#ordenando-categorias-por-um-valor-significativo"><i class="fa fa-check"></i><b>10.4</b> Ordenando categorias por um valor significativo</a></li>
<li class="chapter" data-level="10.5" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#mostre-os-dados-1"><i class="fa fa-check"></i><b>10.5</b> Mostre os dados</a></li>
<li class="chapter" data-level="10.6" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#facilite-comparações"><i class="fa fa-check"></i><b>10.6</b> Facilite comparações</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#use-eixos-em-comum"><i class="fa fa-check"></i><b>10.6.1</b> Use eixos em comum</a></li>
<li class="chapter" data-level="10.6.2" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#alinhe-os-gráficos-verticalmente-para-ver-alterações-horizontais-e-horizontalmente-para-ver-alterações-verticais"><i class="fa fa-check"></i><b>10.6.2</b> Alinhe os gráficos verticalmente para ver alterações horizontais e horizontalmente para ver alterações verticais</a></li>
<li class="chapter" data-level="10.6.3" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#considere-transformações"><i class="fa fa-check"></i><b>10.6.3</b> Considere transformações</a></li>
<li class="chapter" data-level="10.6.4" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#as-indicações-visuais-comparadas-devem-ser-adjacentes"><i class="fa fa-check"></i><b>10.6.4</b> As indicações visuais comparadas devem ser adjacentes</a></li>
<li class="chapter" data-level="10.6.5" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#use-cores"><i class="fa fa-check"></i><b>10.6.5</b> Use cores</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#pense-no-daltônico"><i class="fa fa-check"></i><b>10.7</b> Pense no daltônico</a></li>
<li class="chapter" data-level="10.8" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#plotagens-para-duas-variáveis"><i class="fa fa-check"></i><b>10.8</b> Plotagens para duas variáveis</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#gráficos-de-inclinação"><i class="fa fa-check"></i><b>10.8.1</b> Gráficos de inclinação</a></li>
<li class="chapter" data-level="10.8.2" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#gráfico-de-bland-altman"><i class="fa fa-check"></i><b>10.8.2</b> Gráfico de Bland-Altman</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#codificando-uma-terceira-variável"><i class="fa fa-check"></i><b>10.9</b> Codificando uma terceira variável</a></li>
<li class="chapter" data-level="10.10" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#evite-gráficos-pseudo-tridimensionais"><i class="fa fa-check"></i><b>10.10</b> Evite gráficos pseudo-tridimensionais</a></li>
<li class="chapter" data-level="10.11" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#evite-muitos-dígitos-significativos"><i class="fa fa-check"></i><b>10.11</b> Evite muitos dígitos significativos</a></li>
<li class="chapter" data-level="10.12" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#conheça-seu-público"><i class="fa fa-check"></i><b>10.12</b> Conheça seu público</a></li>
<li class="chapter" data-level="10.13" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#exercícios-19"><i class="fa fa-check"></i><b>10.13</b> Exercícios</a></li>
<li class="chapter" data-level="10.14" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#vaccines"><i class="fa fa-check"></i><b>10.14</b> Estudo de caso: vacinas e doenças infecciosas</a></li>
<li class="chapter" data-level="10.15" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#exercícios-20"><i class="fa fa-check"></i><b>10.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="robust-summaries.html"><a href="robust-summaries.html"><i class="fa fa-check"></i><b>11</b> Resumos robustos</a>
<ul>
<li class="chapter" data-level="11.1" data-path="robust-summaries.html"><a href="robust-summaries.html#valores-atípicos"><i class="fa fa-check"></i><b>11.1</b> Valores atípicos</a></li>
<li class="chapter" data-level="11.2" data-path="robust-summaries.html"><a href="robust-summaries.html#mediana"><i class="fa fa-check"></i><b>11.2</b> Mediana</a></li>
<li class="chapter" data-level="11.3" data-path="robust-summaries.html"><a href="robust-summaries.html#o-intervalo-interquartil-iqr"><i class="fa fa-check"></i><b>11.3</b> O intervalo interquartil (IQR)</a></li>
<li class="chapter" data-level="11.4" data-path="robust-summaries.html"><a href="robust-summaries.html#definição-de-tukey-de-um-outlier"><i class="fa fa-check"></i><b>11.4</b> Definição de Tukey de um outlier</a></li>
<li class="chapter" data-level="11.5" data-path="robust-summaries.html"><a href="robust-summaries.html#desvio-absoluto-mediano"><i class="fa fa-check"></i><b>11.5</b> Desvio absoluto mediano</a></li>
<li class="chapter" data-level="11.6" data-path="robust-summaries.html"><a href="robust-summaries.html#exercícios-21"><i class="fa fa-check"></i><b>11.6</b> Exercícios</a></li>
<li class="chapter" data-level="11.7" data-path="robust-summaries.html"><a href="robust-summaries.html#estudo-de-caso-altura-do-aluno-autorreferida"><i class="fa fa-check"></i><b>11.7</b> Estudo de caso: altura do aluno autorreferida</a></li>
</ul></li>
<li class="part"><span><b>III Estatísticas com R</b></span></li>
<li class="chapter" data-level="12" data-path="introdução-à-estatística-com-r.html"><a href="introdução-à-estatística-com-r.html"><i class="fa fa-check"></i><b>12</b> Introdução à estatística com R</a></li>
<li class="chapter" data-level="13" data-path="probabilidade.html"><a href="probabilidade.html"><i class="fa fa-check"></i><b>13</b> Probabilidade</a>
<ul>
<li class="chapter" data-level="13.1" data-path="probabilidade.html"><a href="probabilidade.html#probabilidade-discreta"><i class="fa fa-check"></i><b>13.1</b> Probabilidade discreta</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="probabilidade.html"><a href="probabilidade.html#frequência-relativa"><i class="fa fa-check"></i><b>13.1.1</b> Frequência relativa</a></li>
<li class="chapter" data-level="13.1.2" data-path="probabilidade.html"><a href="probabilidade.html#notação"><i class="fa fa-check"></i><b>13.1.2</b> Notação</a></li>
<li class="chapter" data-level="13.1.3" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-de-probabilidade"><i class="fa fa-check"></i><b>13.1.3</b> Distribuições de probabilidade</a></li>
<li class="chapter" data-level="13.1.4" data-path="probabilidade.html"><a href="probabilidade.html#defina-a-semente-aleatória"><i class="fa fa-check"></i><b>13.1.4</b> Defina a semente aleatória</a></li>
<li class="chapter" data-level="13.1.5" data-path="probabilidade.html"><a href="probabilidade.html#com-e-sem-substituição"><i class="fa fa-check"></i><b>13.1.5</b> Com e sem substituição</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="probabilidade.html"><a href="probabilidade.html#independência"><i class="fa fa-check"></i><b>13.2</b> Independência</a></li>
<li class="chapter" data-level="13.3" data-path="probabilidade.html"><a href="probabilidade.html#probabilidades-condicionais"><i class="fa fa-check"></i><b>13.3</b> Probabilidades condicionais</a></li>
<li class="chapter" data-level="13.4" data-path="probabilidade.html"><a href="probabilidade.html#regras-de-adição-e-multiplicação"><i class="fa fa-check"></i><b>13.4</b> Regras de adição e multiplicação</a></li>
<li class="chapter" data-level="13.5" data-path="probabilidade.html"><a href="probabilidade.html#combinações-e-permutações"><i class="fa fa-check"></i><b>13.5</b> Combinações e permutações</a></li>
<li class="chapter" data-level="13.6" data-path="probabilidade.html"><a href="probabilidade.html#exemplos"><i class="fa fa-check"></i><b>13.6</b> Exemplos</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="probabilidade.html"><a href="probabilidade.html#problema-de-aniversário"><i class="fa fa-check"></i><b>13.6.1</b> Problema de aniversário</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="probabilidade.html"><a href="probabilidade.html#exercícios-22"><i class="fa fa-check"></i><b>13.7</b> Exercícios</a></li>
<li class="chapter" data-level="13.8" data-path="probabilidade.html"><a href="probabilidade.html#probabilidade-contínua"><i class="fa fa-check"></i><b>13.8</b> Probabilidade contínua</a></li>
<li class="chapter" data-level="13.9" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-teóricas-contínuas"><i class="fa fa-check"></i><b>13.9</b> Distribuições teóricas contínuas</a>
<ul>
<li class="chapter" data-level="13.9.1" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-teóricas-como-aproximações"><i class="fa fa-check"></i><b>13.9.1</b> Distribuições teóricas como aproximações</a></li>
<li class="chapter" data-level="13.9.2" data-path="probabilidade.html"><a href="probabilidade.html#a-densidade-de-probabilidade"><i class="fa fa-check"></i><b>13.9.2</b> A densidade de probabilidade</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-contínuas"><i class="fa fa-check"></i><b>13.10</b> Distribuições contínuas</a></li>
<li class="chapter" data-level="13.11" data-path="probabilidade.html"><a href="probabilidade.html#exercícios-23"><i class="fa fa-check"></i><b>13.11</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html"><i class="fa fa-check"></i><b>14</b> Variáveis aleatórias</a>
<ul>
<li class="chapter" data-level="14.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#variáveis-aleatórias-1"><i class="fa fa-check"></i><b>14.1</b> Variáveis aleatórias</a></li>
<li class="chapter" data-level="14.2" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#modelos-de-amostragem"><i class="fa fa-check"></i><b>14.2</b> Modelos de amostragem</a></li>
<li class="chapter" data-level="14.3" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#a-distribuição-de-probabilidade-de-uma-variável-aleatória"><i class="fa fa-check"></i><b>14.3</b> A distribuição de probabilidade de uma variável aleatória</a></li>
<li class="chapter" data-level="14.4" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#distribuições-versus-distribuições-de-probabilidade"><i class="fa fa-check"></i><b>14.4</b> Distribuições versus distribuições de probabilidade</a></li>
<li class="chapter" data-level="14.5" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#notação-para-variáveis-aleatórias"><i class="fa fa-check"></i><b>14.5</b> Notação para variáveis aleatórias</a></li>
<li class="chapter" data-level="14.6" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#o-valor-esperado-e-o-erro-padrão"><i class="fa fa-check"></i><b>14.6</b> O valor esperado e o erro padrão</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#desvio-padrão-da-população-versus-desvio-padrão-da-amostra"><i class="fa fa-check"></i><b>14.6.1</b> Desvio padrão da população versus desvio padrão da amostra</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#teorema-do-limite-central"><i class="fa fa-check"></i><b>14.7</b> Teorema do Limite Central</a></li>
<li class="chapter" data-level="14.8" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#propriedades-estatísticas-das-médias"><i class="fa fa-check"></i><b>14.8</b> Propriedades estatísticas das médias</a></li>
<li class="chapter" data-level="14.9" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#lei-dos-grandes-números"><i class="fa fa-check"></i><b>14.9</b> Lei dos grandes números</a>
<ul>
<li class="chapter" data-level="14.9.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#interpretação-incorreta-da-lei-das-médias"><i class="fa fa-check"></i><b>14.9.1</b> Interpretação incorreta da lei das médias</a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#exercícios-24"><i class="fa fa-check"></i><b>14.10</b> Exercícios</a></li>
<li class="chapter" data-level="14.11" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#estudo-de-caso-the-big-short"><i class="fa fa-check"></i><b>14.11</b> Estudo de caso: <em>The Big Short</em></a>
<ul>
<li class="chapter" data-level="14.11.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#taxas-de-juros-explicadas-com-modelo-de-probabilidade"><i class="fa fa-check"></i><b>14.11.1</b> Taxas de juros explicadas com modelo de probabilidade</a></li>
<li class="chapter" data-level="14.11.2" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#the-big-short"><i class="fa fa-check"></i><b>14.11.2</b> <em>The Big Short</em></a></li>
</ul></li>
<li class="chapter" data-level="14.12" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#exercícios-25"><i class="fa fa-check"></i><b>14.12</b> Exercícios</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado com bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Ciência de Dados</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="distributions" class="section level1" number="8">
<h1><span class="header-section-number">Capítulo 8</span> Visualizando distribuições de dados</h1>
<p>Os dados numéricos são frequentemente resumidos com o valor da média. Por exemplo, a qualidade de uma escola secundária às vezes é resumida em um único número: a pontuação média em um teste padronizado. Ocasionalmente, um segundo número é incluído: o desvio padrão. Por exemplo, você pode ler um relatório afirmando que as pontuações foram 680 mais ou menos 50 (o desvio padrão). O relatório resumiu um vetor completo de pontuações com apenas dois números. Isso é apropriado? Existe alguma informação importante que não estamos considerando ao exibir esse resumo em vez da lista completa?</p>
<p>O primeiro componente básico de visualização de dados que aprenderemos será como resumir listas de fatores ou vetores de números. Na maioria das vezes, a melhor maneira de compartilhar ou explorar esses resumos é através da visualização de dados. O resumo estatístico mais básico de uma lista de objetos ou números é sua distribuição. Depois que um vetor é resumido como uma distribuição, existem várias técnicas de visualização de dados para transmitir efetivamente essas informações.</p>
<p>Neste capítulo, discutiremos primeiro as propriedades de uma variedade de distribuições e como visualizá-las usando como estudo de caso uma base de dados com altura de alunos. Então, na Seção <a href="distributions.html#other-geometries">8.16</a>, discutiremos as geometrias <strong>ggplot2</strong> para essas visualizações.</p>
<div id="tipos-de-variáveis" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Tipos de variáveis</h2>
<p>Trabalharemos com dois tipos de variáveis: categórica e numérica. Cada uma pode ser dividida em dois outros grupos: as variáveis categóricas podem ser ordinais ou não, enquanto as numéricas podem ser discretas ou contínuas.</p>
<p>Quando cada entrada em um vetor vem de um pequeno número de grupos, nos referimos aos dados como <em>dados categóricos</em>. Dois exemplos simples são sexo (masculino ou feminino) e regiões (nordeste, sul, norte central, oeste). Alguns dados categóricos podem ser solicitados, mesmo que não sejam números, por exemplo, quão picante é um alimento (pouco, médio, muito). Nos livros de estatística, os dados categóricos ordenados são referidos como <em>dados ordinais</em>.</p>
<p>Exemplos de dados numéricos são tamanho da população, taxas de homicídios e altura. Alguns dados numéricos podem ser tratados como categóricos ordenados. Podemos dividir ainda mais os dados numéricos em contínuos e discretos. Variáveis contínuas são aquelas que podem assumir qualquer valor, como alturas, se forem medidas com precisão suficiente. Por exemplo, um par de botões de punho pode medir 68,12 e 68,11 polegadas, respectivamente. As contagens, como o tamanho da população, são discretas porque precisam ser números redondos.</p>
<p>Observe que dados numéricos discretos podem ser considerados ordinais. Embora isso seja tecnicamente verdadeiro, geralmente reservamos o termo dados ordinais para variáveis que pertencem a um pequeno número de grupos diferentes, com cada grupo tendo muitos membros. Por outro lado, quando temos muitos grupos com poucos casos em cada grupo, geralmente nos referimos a eles como variáveis numéricas discretas. Assim, por exemplo, o número de maços de cigarro que uma pessoa fuma por dia, arredondado para o maço mais próximo, seria considerado ordinal, enquanto o número real de cigarros seria considerado uma variável numérica. No entanto, existem exemplos que podem ser considerados numéricos e ordinais quando se trata de visualizar dados.</p>
</div>
<div id="estudo-de-caso-descrevendo-a-altura-dos-alunos" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Estudo de caso: descrevendo a altura dos alunos</h2>
<p>Aqui, apresentamos um novo problema motivador. É um exemplo artificial, mas nos ajudará a ilustrar os conceitos necessários para entender as distribuições.</p>
<p>Imagine que precisamos descrever as alturas de nossos colegas de classe para um ET, um alienígena que nunca viu seres humanos. Como primeiro passo, precisamos coletar dados. Para fazer isso, pedimos aos alunos que indiquem suas alturas em polegadas. Pedimos ainda que forneçam informações sobre o seu sexo biológico, porque sabemos que existem duas distribuições diferentes por sexo. Coletamos os dados e salvamos no <em>data frame</em> <code>heights</code>:</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="distributions.html#cb305-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb305-2"><a href="distributions.html#cb305-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb305-3"><a href="distributions.html#cb305-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(heights)</span></code></pre></div>
<p>Uma maneira de passar as alturas para o ET é simplesmente enviar a ele esta lista de 1,050 alturas. Entretanto, existem maneiras muito mais eficazes de transmitir essas informações, e entender o conceito de uma distribuição ajudará. Para simplificar a explicação, primeiro nos concentraremos nas alturas masculinas. Examinaremos os dados de altura feminina na Seção <a href="distributions.html#student-height-cont">8.14</a>.</p>
</div>
<div id="função-de-distribuição" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> Função de distribuição</h2>
<p>Acontece que, em alguns casos, a média e o desvio padrão são praticamente tudo que precisamos para entender os dados. Aprenderemos técnicas de visualização de dados que nos ajudarão a determinar quando esse resumo de dois números é apropriado. Essas mesmas técnicas servirão como uma alternativa para quando esses dois números não forem suficientes.</p>
<p>O resumo estatístico mais básico de uma lista de objetos ou números é sua distribuição. A maneira mais simples de pensar em uma distribuição é como uma descrição compacta de uma lista com muitas entradas. Este conceito não deve ser novo para os leitores deste livro. Por exemplo, com dados categóricos, a distribuição simplesmente descreve a proporção de cada categoria exclusiva. Para o sexo representado no conjunto de dados de altura seria:</p>
<pre><code>#&gt; 
#&gt; Female   Male 
#&gt;  0.227  0.773</code></pre>
<p>Essa tabela de frequência de duas categorias é a forma mais simples de uma distribuição. Nós não precisamos realmente visualizar isso, pois um número descreve tudo o que precisamos saber: 23% são mulheres e os restantes são homens. Quando há mais categorias, um gráfico de barras simples pode descrever a distribuição. Aqui está um exemplo de distribuição dos estados dos EUA por região:</p>
<pre><code>#&gt; `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p><img src="livro_files/figure-html/state-region-distribution-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Esse gráfico simplesmente mostra quatro números, um para cada categoria. Geralmente usamos gráficos de barras quando temos poucos números. Embora esse gráfico em particular não forneça muito mais informações do que uma tabela de frequência, ele é um excelente exemplo de como convertemos um vetor em um gráfico que resume sucintamente todas as informações. Quando os dados são numéricos, a tarefa de exibir distribuições é mais desafiadora.</p>
</div>
<div id="cdf-intro" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> Funções de distribuição acumulada</h2>
<p>Dados numéricos que não são categóricos também têm distribuições. Em geral, quando os dados não são categóricos, a indicação da frequência de cada entrada não é um resumo efetivo, pois a maioria das entradas são únicas. Por exemplo, em nosso estudo de caso, enquanto vários estudantes relataram uma altura de 68 polegadas, dois estudantes relataram alturas de <code>68.503937007874</code> e <code>68.8976377952756</code> polegadas. Acreditamos que eles tenham convertido suas alturas para polegadas a partir dos valores 174 e 175 centímetros, respectivamente.</p>
<p>Os livros de estatística nos ensinam que uma maneira mais útil de definir uma distribuição numérica de dados é definir uma função que indica a proporção dos dados abaixo de <span class="math inline">\(a\)</span> para todos os valores possíveis de <span class="math inline">\(a\)</span>. Essa função é chamada de função de distribuição acumulada (FDA). Em estatística, a seguinte notação é usada:</p>
<p><span class="math display">\[ F(a) = \mbox{Pr}(x \leq a) \]</span></p>
<p>Aqui vemos um gráfico de <span class="math inline">\(F\)</span> para dados de altura de estudantes do sexo masculino:</p>
<p><img src="livro_files/figure-html/ecdf-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Semelhante ao que a tabela de frequência faz para dados categóricos, o FDA define a distribuição de dados numéricos. No gráfico, podemos ver que 16% dos valores são menores que 65, pois <span class="math inline">\(F(66)=\)</span> 0.164, ou que 84% dos valores são menores que 72, pois <span class="math inline">\(F(72)=\)</span> 0.841
e assim por diante. De fato, podemos relatar a proporção de valores entre duas alturas, denominadas aqui como <span class="math inline">\(a\)</span> e <span class="math inline">\(b\)</span>, ao computar <span class="math inline">\(F(b) - F(a)\)</span>. Isso significa que, se enviarmos esse diagrama para o ET, ele terá todas as informações necessárias para reconstruir a lista completa. Parafraseando a expressão “uma imagem vale mais que mil palavras,” neste caso, uma imagem é tão informativa quanto 812 números.</p>
<p>Uma observação final: como os FDAs podem ser matematicamente definidos, a palavra <em>empírico</em> é adicionada para distinguir quando os dados são usados. Portanto, usamos o termo FDA empírico (FDAE).</p>
</div>
<div id="histogramas" class="section level2" number="8.5">
<h2><span class="header-section-number">8.5</span> Histogramas</h2>
<p>Embora o conceito de FDA seja amplamente discutido nos livros estatísticos, o gráfico não é muito popular na prática. O principal motivo é que ele não transmite facilmente características de interesse, como: em que valor a distribuição se concentra? A distribuição é simétrica? Quais intervalos contêm 95% dos valores? Os histogramas são preferidos porque facilitam responder a essas perguntas. Os histogramas sacrificam apenas um pouco de informação para produzir gráficos muito mais fáceis de interpretar.</p>
<p>A maneira mais fácil de criar um histograma é dividir a distribuição dos nossos dados em compartimentos de mesmo tamanho que não se sobrepõem. Então, para cada compartimento, contamos o número de valores que estão nesse intervalo. O histograma representa graficamente essas contagens como barras em que a base é definida pelos intervalos. Aqui está o histograma para os dados de altura separados pelos intervalos de valores em polegadas: <span class="math inline">\([49.5, 50.5], [51.5,52.5],(53.5,54.5],...,(82.5,83.5]\)</span></p>
<p><img src="livro_files/figure-html/height-histogram-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Como você pode ver na figura acima, um histograma é semelhante a um gráfico de barras, mas se diferencia pelo fato de o eixo x ser numérico e não categórico.</p>
<p>Se enviarmos esse gráfico para o ET, ele aprenderá imediatamente alguns detalhes importantes sobre nossos dados. Primeiro, o intervalo de dados varia de 50 a 84, com a maioria (acima de 95%) entre 63 e 75 polegadas. Em segundo lugar, as alturas são quase simétricas ficando em torno de 69 polegadas. Além disso, adicionando contagens, o ET poderia obter uma aproximação muito boa da proporção dos dados em qualquer intervalo. Portanto, o histograma acima não é apenas mais fácil de interpretar, mas também oferece quase todas as informações contidas na lista com 812 alturas em menos de 30 barras.</p>
<p>Que informações perdemos? Note que todos os valores em cada intervalo são tratados da mesma maneira ao calcular as alturas das barras. Por exemplo, o histograma não distingue entre 64, 64,1 e 64,2 polegadas. Como essas diferenças são quase imperceptíveis aos olhos, as implicações práticas são desprezíveis e conseguimos resumir os dados em apenas 23 números.</p>
<p>Discutimos como codificar histogramas na Seção <a href="distributions.html#other-geometries">8.16</a>.</p>
</div>
<div id="curvas-de-densidade" class="section level2" number="8.6">
<h2><span class="header-section-number">8.6</span> Curvas de densidade</h2>
<p>Os gráficos de densidade, também conhecidos como curvas de densidade suavizadas (<em>smooth density</em>), são esteticamente mais atraentes que os histogramas. Abaixo, vemos um gráfico de densidade para nossos dados de altura:</p>
<p><img src="livro_files/figure-html/example-of-smoothed-density-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Nesse gráfico, não temos mais extremidades afiadas nos limites de intervalo e muitos dos picos locais foram removidos. Além disso, a escala do eixo y mudou de contagens para <em>densidade</em>.</p>
<p>Para entender o gráfico de densidade, precisamos entender sobre <em>estimativas</em>, um tópico que não abordaremos até mais tarde. No entanto, ofereceremos aqui uma explicação heurística para ajudá-lo a entender o básico, e assim, você possa usar essa útil ferramenta na visualização de dados.</p>
<p>O principal novo conceito que você precisa entender é que assumimos que nossa lista de valores observados é um subconjunto de uma lista muito maior de valores não observados. No caso das alturas, você pode imaginar que nossa lista com 812 estudantes do sexo masculino se origina de uma lista hipotética que contém as alturas de todos os estudantes do mundo, medidas com grande precisão. Digamos que existam 1.000.000 dessas medidas. Essa lista de valores tem uma distribuição, como qualquer lista de valores. Essa distribuição considerável é o que queremos realmente reportar ao ET, pois é muito mais geralizada. Infelizmente, não conseguimos ver isso.</p>
<p>Entretanto, podemos fazer uma suposição que pode nos ajudar a obter um resultado aproximado disso. Se tivéssemos 1.000.000 valores, medidos com muita precisão, poderíamos fazer um histograma com barras de compartimentos muito, muito pequenas. A suposição é que, se mostrarmos isso, a altura das barras consecutivas será semelhante. Isso é o que queremos dizer com densidade suave (<em>smooth density</em>): não temos grandes saltos nas alturas de barras consecutivas. Aqui está um histograma hipotético com barras de tamanho 1:</p>
<p><img src="livro_files/figure-html/simulated-data-histogram-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Quanto menor o intervalo do compartimento das barras, mais suave o histograma se torna. Aqui estão os histogramas com larguras de compartimento de 1, 0,5 e 0,1:</p>
<p><img src="livro_files/figure-html/simulated-data-histogram-2-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>A densidade suave é basicamente a curva que atravessa a parte superior das barras do histograma quando os compartimentos são muito, muito pequenos. Para que a curva não dependa do tamanho hipotético da lista hipotética, calculamos a curva usando frequências em vez de contagens:</p>
<p><img src="livro_files/figure-html/simulated-density-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Agora, voltamos à realidade. Não temos milhões de medições. Em vez disso, temos 812 e não podemos fazer um histograma com compartimentos muito pequenos.</p>
<p>Portanto, fazemos um histograma usando tamanhos de compartimento apropriados para nossos dados e calculamos as frequências em vez de contagens. Além disso, desenhamos uma curva suave que passa pelo topo das barras do histograma. Os gráficos a seguir mostram as etapas que levam à construção das curvas de densidade suavizadas:</p>
<p><img src="livro_files/figure-html/smooth-density-2-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>No entanto, lembre-se de que <em>suave</em> é um termo relativo. De fato, podemos controlar a suavidade da curva alterando o número de pontos nos compartimentos. Aqui estão dois exemplos que usam diferentes níveis de suavidade no mesmo histograma:</p>
<p><img src="livro_files/figure-html/densities-different-smoothness-1.png" width="100%" style="display: block; margin: auto;" />
Precisamos tomar essa decisão com cuidado, pois as visualizações resultantes podem alterar nossa interpretação dos dados. Devemos selecionar um grau de suavidade que sejam representativos para os dados subjacentes. No caso da altura, realmente temos motivos para acreditar que a proporção de pessoas com alturas semelhantes deve ser a mesma. Por exemplo, a proporção de estudantes com 72 polegadas de altura deve ser mais próxima à proporção de estudantes com 71 do que com 78 ou 65 polegadas. Isso implica que a curva deve ser razoavelmente suave; isto é, a curva deve se parecer mais com o exemplo à direita do que com a esquerda.</p>
<p>Embora o histograma seja um resumo sem suposições, a densidade suavizada é baseada em algumas suposições.</p>
<div id="interpretando-o-eixo-y" class="section level3" number="8.6.1">
<h3><span class="header-section-number">8.6.1</span> Interpretando o eixo y</h3>
<p>Observe que a interpretação do eixo y de um gráfico de densidade suave não é óbvia. Ele é dimensionado para que a área sob a curva de densidade seja igual a 1. Se você imaginar que formamos um compartimento com uma base de 1 unidade de comprimento, o valor do eixo y indica a proporção de valores nesse compartimento. No entanto, isso é válido apenas para compartimentos de tamanho 1. Para intervalos de outro tamanho, a melhor maneira de determinar a proporção de dados nesse intervalo é calculando a proporção da área total contida no intervalo. Por exemplo, aqui vemos a proporção de valores entre 65 e 68:</p>
<p><img src="livro_files/figure-html/area-under-curve-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>A proporção dessa área é de aproximadamente
0.3,
o que significa que aproximadamente NaN% das alturas dos estudantes do sexo masculino estão entre 65 e 68 polegadas.</p>
<p>Ao entender isso, estamos prontos para usar as curvas de densidade como uma forma de sumarizar. Para esse conjunto de dados, nos sentimos confortáveis em assumir suavidade e, assim, compartilhar essa figura esteticamente agradável com o ET, que pode usá-la para entender nossos dados de altura masculina:</p>
<p><img src="livro_files/figure-html/example-of-smoothed-density-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="densidades-permitem-a-estratificação" class="section level3" number="8.6.2">
<h3><span class="header-section-number">8.6.2</span> Densidades permitem a estratificação</h3>
<p>Como nota final, observamos que uma vantagem das densidades suaves sobre os histogramas para propósitos de visualização é que as densidades facilitam a comparação entre duas distribuições. Isso se deve em grande parte às bordas irregulares do histograma, que geram confusão. Aqui está um exemplo comparando as alturas masculina e feminina:</p>
<p><img src="livro_files/figure-html/two-densities-one-plot-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Com o argumento correto, <code>ggplot</code> sombreia automaticamente a região de interseção com uma cor diferente. Mostraremos exemplos de códigos para densidades do <strong>ggplot2</strong> na Seção <a href="gapminder.html#gapminder">9</a> bem como na Seção <a href="distributions.html#other-geometries">8.16</a>.</p>
</div>
</div>
<div id="exercícios-16" class="section level2" number="8.7">
<h2><span class="header-section-number">8.7</span> Exercícios</h2>
<p>1. No conjunto de dados <code>murders</code> (assassinatos), a região é uma variável categórica e sua distribuição é a seguinte:</p>
<pre><code>#&gt; `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p><img src="livro_files/figure-html/barplot-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Arredondando para os 5% mais próximos, qual a proporção de estados na região “Centro-Norte” (<em>North Central</em>)?</p>
<p>2. Qual das seguintes opções é verdadeira?</p>
<ol style="list-style-type: lower-alpha">
<li>O gráfico acima é um histograma.</li>
<li>O gráfico acima mostra apenas quatro números com um gráfico de barras.</li>
<li>As categorias não são números, portanto, não faz sentido representar graficamente a distribuição.</li>
<li>As cores, e não a altura das barras, descrevem a distribuição.</li>
</ol>
<p>3. O gráfico a seguir mostra o FDAE para a altura dos homens:</p>
<p><img src="livro_files/figure-html/ecdf-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>De acordo com o gráfico, qual a porcentagem de homens com menos de 75 polegadas?</p>
<ol style="list-style-type: lower-alpha">
<li>100%</li>
<li>95%</li>
<li>80%</li>
<li>72 polegadas</li>
</ol>
<p>4. Considerando o valor em polegadas mais próximo, qual a altura <code>m</code> que separa a metade dos estudantes do sexo masculino maiores da outra metade?</p>
<ol style="list-style-type: lower-alpha">
<li>61 polegadas</li>
<li>64 polegadas</li>
<li>69 polegadas</li>
<li>74 polegadas</li>
</ol>
<p>5. Aqui está um FDAE das taxas de homicídio entre os estados:</p>
<p><img src="livro_files/figure-html/ecdf-exercise-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Sabendo que existem 51 estados (contando DC) e com base nesse gráfico, quantos estados têm taxas de homicídios superiores a 10 por 100.000 pessoas?</p>
<ol style="list-style-type: lower-alpha">
<li>1</li>
<li>5</li>
<li>10</li>
<li>50</li>
</ol>
<p>6. De acordo com o FDAE anterior, qual das seguintes afirmações é verdadeira?</p>
<ol style="list-style-type: lower-alpha">
<li>Cerca de metade dos estados têm taxas de homicídio acima de 7 por 100.000 e a outra metade abaixo.</li>
<li>A maioria dos estados tem taxas de homicídio inferiores a 2 por 100.000.</li>
<li>Todos os estados têm taxas de homicídio superiores a 2 por 100.000.</li>
<li>Com exceção de 4 estados, as taxas de homicídio são inferiores a 5 por 100.000.</li>
</ol>
<p>7. Abaixo é apresentado o histograma das alturas masculinas do conjunto de dados <code>heights</code>:</p>
<p><img src="livro_files/figure-html/height-histogram-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>De acordo com esse gráfico, quantos homens possuem entre 63,5 e 65,5 polegadas de altura?</p>
<ol style="list-style-type: lower-alpha">
<li>10</li>
<li>24</li>
<li>34</li>
<li>100</li>
</ol>
<p>8. Aproximadamente, qual <strong>porcentagem</strong> tem menos de 60 polegadas?</p>
<ol style="list-style-type: lower-alpha">
<li>1%</li>
<li>10%</li>
<li>25%</li>
<li>50%</li>
</ol>
<p>9. Com base no gráfico de densidade abaixo, qual a proporção aproximada de estados dos EUA tem populações com mais de 10 milhões de habitantes?</p>
<p><img src="livro_files/figure-html/density-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: lower-alpha">
<li>0,02</li>
<li>0,15</li>
<li>0,50</li>
<li>0,55</li>
</ol>
<p>10. Abaixo estão três gráficos de densidade. É possível que eles sejam do mesmo conjunto de dados?</p>
<p><img src="livro_files/figure-html/density-exercise-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Qual das seguintes afirmações é verdadeira?</p>
<ol style="list-style-type: lower-alpha">
<li>É impossível que eles sejam do mesmo conjunto de dados.</li>
<li>Eles são do mesmo conjunto de dados, mas os gráficos são diferentes devido a erros no código.</li>
<li>Eles são do mesmo conjunto de dados, mas o primeiro e o segundo gráficos aplica uma baixa suavização, enquanto o terceiro gráfico suaviza demais.</li>
<li>Eles são do mesmo conjunto de dados, mas o primeiro não está na escala logarítmica, o segundo suaviza pouco e o terceiro suaviza demais.</li>
</ol>
</div>
<div id="normal-distribution" class="section level2" number="8.8">
<h2><span class="header-section-number">8.8</span> Distribuição normal</h2>
<p>Histogramas e gráficos de densidade fornecem excelentes resumos de uma distribuição. Mas podemos resumi-los melhor? Muitas vezes vemos a média e o desvio padrão usados como um resumo estatístico: um resumo de dois números! Para entender o que são esses resumos e por que são tão usados, precisamos entender a distribuição normal.</p>
<p>A distribuição normal, também conhecida como curva de sino ou como distribuição Gaussiana, é um dos conceitos matemáticos mais famosos da história. Uma razão para isso é que distribuições aproximadamente normais ocorrem em muitas situações, incluindo em jogos de azar, alturas, pesos, pressão arterial, resultados de testes padronizados e erros de medição experimental. Existem explicações para isso e as descreveremos posteriormente. Aqui, focamos em como a distribuição normal nos ajuda a resumir os dados.</p>
<p>Em vez de usar dados, a distribuição normal é definida com uma fórmula matemática. Para qualquer intervalo <span class="math inline">\((a,b)\)</span>, a proporção de valores nesse intervalo pode ser calculada usando esta fórmula:</p>
<p><span class="math display">\[\mbox{Pr}(a &lt; x &lt; b) = \int_a^b \frac{1}{\sqrt{2\pi}s} e^{-\frac{1}{2}\left( \frac{x-m}{s} \right)^2} \, dx\]</span></p>
<p>Você não precisa memorizar ou entender os detalhes da fórmula. Entretanto, note que essa fórmula é completamente definida por apenas dois parâmetros: <span class="math inline">\(m\)</span> e <span class="math inline">\(s\)</span>. O restante dos símbolos na fórmula representa os extremos do intervalo que determinamos, <span class="math inline">\(a\)</span> e <span class="math inline">\(b\)</span>, além das constantes matemáticas conhecidas <span class="math inline">\(\pi\)</span> e <span class="math inline">\(e\)</span>. Esses dois parâmetros, <span class="math inline">\(m\)</span> e <span class="math inline">\(s\)</span>, são conhecidos como média (do inglês <em>average</em> ou <em>mean</em>) e desvio padrão (do inglês <em>standard deviation</em> ou SD) da distribuição, respectivamente.</p>
<p>A distribuição é simétrica, centrada na média, e a maioria dos valores (cerca de 95%) está dentro de 2 desvios padrão (DP) da média. É assim que a distribuição normal se parece quando a média é 0 e o DP é 1:</p>
<p><img src="livro_files/figure-html/normal-distribution-density-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>O fato de a distribuição ser definida por apenas dois parâmetros implica que, se a distribuição de um conjunto de dados puder ser aproximada por uma distribuição normal, todas as informações necessárias para descrever a distribuição poderão ser codificadas em apenas dois números: a média e o desvio padrão. Agora vamos definir esses valores para uma lista arbitrária de números.</p>
<p>Para uma lista de números contidos em um vetor <code>x</code>, a média é definida como:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="distributions.html#cb309-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">sum</span>(x)<span class="sc">/</span> <span class="fu">length</span>(x)</span></code></pre></div>
<p>e o DP é definido como:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="distributions.html#cb310-1" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">sum</span>((x<span class="sc">-</span>mu)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span> <span class="fu">length</span>(x))</span></code></pre></div>
<p>que pode ser interpretado como a distância média entre os valores e sua média.</p>
<p>Vamos calcular os valores para alturas de homens que armazenaremos no objeto <span class="math inline">\(x\)</span>:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="distributions.html#cb311-1" aria-hidden="true" tabindex="-1"></a>index <span class="ot">&lt;-</span> heights<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;Male&quot;</span></span>
<span id="cb311-2"><a href="distributions.html#cb311-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> heights<span class="sc">$</span>height[index]</span></code></pre></div>
<p>As funções predefinidas <code>mean</code> e <code>sd</code> podem ser usadas aqui (note que, por razões que serão explicadas na Seção <a href="#data-driven-model"><strong>??</strong></a>, <code>sd</code> é calculado dividindo por <code>length(x)-1</code> em vez de <code>length(x)</code>):</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="distributions.html#cb312-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb312-2"><a href="distributions.html#cb312-2" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">sd</span>(x)</span>
<span id="cb312-3"><a href="distributions.html#cb312-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">average =</span> m, <span class="at">sd =</span> s)</span>
<span id="cb312-4"><a href="distributions.html#cb312-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; average      sd </span></span>
<span id="cb312-5"><a href="distributions.html#cb312-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   69.31    3.61</span></span></code></pre></div>
<p>Aqui está um gráfico da densidade suave. A distribuição normal com média = 69.3 e DP = 3.6 foi plotada como uma linha preta com a curva de densidade suave da altura dos alunos em azul:</p>
<p><img src="livro_files/figure-html/data-and-normal-densities-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>A distribuição normal parece ser uma boa aproximação aqui. Veremos agora como essa aproximação funciona para prever a proporção de valores dentro dos intervalos.</p>
</div>
<div id="unidades-padrão" class="section level2" number="8.9">
<h2><span class="header-section-number">8.9</span> Unidades padrão</h2>
<p>Para dados que estão aproximadamente com distribuição normal, é conveniente pensar em termos de unidades padrão. A unidade padrão de um valor nos diz a quantos desvios padrão da média ele está. Especificamente, para um valor <code>x</code> de um vetor <code>X</code>, definimos o valor de <code>x</code> em unidades padrão como <code>z = (x - m)/s</code>, sendo <code>m</code> e <code>s</code> a média e desvio padrão de <code>X</code>, respectivamente. Por que é conveniente fazer isso?</p>
<p>Primeiro, olhe novamente a fórmula da distribuição normal e note que o que está sendo exposto é <span class="math inline">\(-z^2/2\)</span> com <span class="math inline">\(z\)</span> equivalente a <span class="math inline">\(x\)</span> em unidades padrão. Uma vez que o máximo de <span class="math inline">\(e^{-z^2/2}\)</span> é alcançado quando <span class="math inline">\(z=0\)</span>, isso explica por que o máximo da distribuição ocorre na média. Também explica a simetria, pois <span class="math inline">\(-z^2/2\)</span> é simétrico em torno de 0. Além disso, observe que, se convertermos dados normalmente distribuídos em unidades padrão, poderemos saber rapidamente, por exemplo, se uma pessoa está na média (<span class="math inline">\(z=0\)</span>), entre os maiores(<span class="math inline">\(z \approx 2\)</span>), entre os menores (<span class="math inline">\(z \approx -2\)</span>) ou apresenta uma ocorrência extremamente rara (<span class="math inline">\(z &gt; 3\)</span> ou <span class="math inline">\(z &lt; -3\)</span>). Lembre-se de que, independentemente das unidades originais, essas regras se aplicam a todos os dados que são aproximadamente normais.</p>
<p>Em R, podemos obter as unidades padrão usando a função <code>scale</code>:</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="distributions.html#cb313-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">scale</span>(x)</span></code></pre></div>
<p>Agora, para ver quantos homens estão dentro de 2 DP da média, simplesmente digitamos:</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="distributions.html#cb314-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">abs</span>(z) <span class="sc">&lt;</span> <span class="dv">2</span>)</span>
<span id="cb314-2"><a href="distributions.html#cb314-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.95</span></span></code></pre></div>
<p>A proporção é de aproximadamente 95%, que é o que a distribuição normal prevê! Para ter ainda mais confirmação de que a aproximação é precisa, podemos usar gráficos QQ (<em>quantile-quantile plots</em>).</p>
</div>
<div id="gráficos-qq" class="section level2" number="8.10">
<h2><span class="header-section-number">8.10</span> Gráficos QQ</h2>
<p>Uma maneira sistemática de avaliar quão bem a distribuição normal se ajusta aos dados é verificar se as proporções observadas e previstas correspondem. Em geral, essa é a abordagem do gráfico quantil-quantil (Gráfico QQ ou QQ-plot).</p>
<p>Primeiro, vamos definir os quantis teóricos para a distribuição normal. Nos livros de estatística, usamos o símbolo <span class="math inline">\(\Phi(x)\)</span> para definir a função que nos dá a probabilidade de que uma distribuição normal padrão seja menor que <span class="math inline">\(x\)</span>. Por exemplo, <span class="math inline">\(\Phi(-1.96) = 0.025\)</span> e <span class="math inline">\(\Phi(1.96) = 0.975\)</span>. Em R, podemos avaliar <span class="math inline">\(\Phi\)</span> usando a função <code>pnorm</code>:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="distributions.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pnorm</span>(<span class="sc">-</span><span class="fl">1.96</span>)</span>
<span id="cb315-2"><a href="distributions.html#cb315-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.025</span></span></code></pre></div>
<p>A função inversa <span class="math inline">\(\Phi^{-1}(x)\)</span> nos fornece os quantis teóricos da distribuição normal. Por exemplo, <span class="math inline">\(\Phi^{-1}(0.975) = 1.96\)</span>. Em R, podemos avaliar o inverso de <span class="math inline">\(\Phi\)</span> usando a função <code>qnorm</code>.</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="distributions.html#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qnorm</span>(<span class="fl">0.975</span>)</span>
<span id="cb316-2"><a href="distributions.html#cb316-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.96</span></span></code></pre></div>
<p>Note que esses cálculos são para a distribuição normal padrão (média = 0, desvio padrão = 1), mas também podemos defini-los para qualquer distribuição normal. Podemos fazer isso usando os argumentos <code>mean</code> e <code>sd</code> nas funções <code>pnorm</code> e <code>qnorm</code>. Por exemplo, podemos usar <code>qnorm</code> para determinar quantis de uma distribuição com média e desvio padrão específicos:</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="distributions.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qnorm</span>(<span class="fl">0.975</span>, <span class="at">mean =</span> <span class="dv">5</span>, <span class="at">sd =</span> <span class="dv">2</span>)</span>
<span id="cb317-2"><a href="distributions.html#cb317-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 8.92</span></span></code></pre></div>
<p>Para a distribuição normal, todos os cálculos relacionados aos quantis são executados sem dados, por isso recebem o nome de <em>quantis teóricos</em>. Mas quantis podem ser definidos para qualquer distribuição, mesmo empíricas. Então, se tivermos dados em um vetor <span class="math inline">\(x\)</span>, podemos definir o quantil associado a qualquer proporção <span class="math inline">\(p\)</span>, assim como o <span class="math inline">\(q\)</span> para os quais a proporção de valores abaixo de <span class="math inline">\(q\)</span> é <span class="math inline">\(p\)</span>. Usando o código R, podemos definir <code>q</code> como o valor pelo qual <code>mean(x &lt;= q) = p</code>. Note que nem todo <span class="math inline">\(p\)</span> tem um <span class="math inline">\(q\)</span> para o qual a proporção é exatamente <span class="math inline">\(p\)</span>. Existem várias maneiras de definir os melhores <span class="math inline">\(q\)</span> conforme discutido na página de ajuda da função <code>quantile</code>.</p>
<p>Como um exemplo rápido, para dados de altura masculina, vemos que:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="distributions.html#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x <span class="sc">&lt;=</span> <span class="fl">69.5</span>)</span>
<span id="cb318-2"><a href="distributions.html#cb318-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.515</span></span></code></pre></div>
<p>Portanto, cerca de 50% são menores ou iguais a 69 polegadas. Isso implica que se <span class="math inline">\(p=0.50\)</span>, então <span class="math inline">\(q=69.5\)</span>.</p>
<p>A ideia de um gráfico QQ é que, se seus dados forem bem aproximados pela distribuição normal, os quantis de seus dados deverão ser semelhantes aos quantis de uma distribuição normal. Para criar um gráfico QQ, fazemos o seguinte:</p>
<ol style="list-style-type: decimal">
<li>Definimos um vetor de <span class="math inline">\(m\)</span> dimensões <span class="math inline">\(p_1, p_2, \dots, p_m\)</span>.</li>
<li>Definimos um vetor de quantis <span class="math inline">\(q_1, \dots, q_m\)</span> para as proporções <span class="math inline">\(p_1, \dots, p_m\)</span> usando seus dados. Nos referimos a eles como <em>quantis de amostra</em>.</li>
<li>Definimos um vetor de quantis teóricos para as proporções <span class="math inline">\(p_1, \dots, p_m\)</span> para uma distribuição normal com a mesma média e desvio padrão dos dados.</li>
<li>Plotamos os quantis da amostra versus os quantis teóricos.</li>
</ol>
<p>Vamos construir um diagrama QQ usando um código em R. Comece definindo o vetor de proporções.</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="distributions.html#cb319-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.05</span>, <span class="fl">0.95</span>, <span class="fl">0.05</span>)</span></code></pre></div>
<p>Para obter os quantis dos dados, podemos usar a função <code>quantile</code> assim:</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="distributions.html#cb320-1" aria-hidden="true" tabindex="-1"></a>sample_quantiles <span class="ot">&lt;-</span> <span class="fu">quantile</span>(x, p)</span></code></pre></div>
<p>Para obter os quantis teóricos da distribuição normal com a média e o desvio padrão correspondentes, usamos a função <code>qnorm</code>:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="distributions.html#cb321-1" aria-hidden="true" tabindex="-1"></a>theoretical_quantiles <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(p, <span class="at">mean =</span> <span class="fu">mean</span>(x), <span class="at">sd =</span> <span class="fu">sd</span>(x))</span></code></pre></div>
<p>Para ver se eles correspondem ou não, nós os plotamos um contra o outro e desenhamos a linha de identidade:</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="distributions.html#cb322-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(theoretical_quantiles, sample_quantiles) <span class="sc">+</span> <span class="fu">geom_abline</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/qqplot-original-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Observe que esse código é muito mais limpo se usarmos unidades padrão:</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="distributions.html#cb323-1" aria-hidden="true" tabindex="-1"></a>sample_quantiles <span class="ot">&lt;-</span> <span class="fu">quantile</span>(z, p)</span>
<span id="cb323-2"><a href="distributions.html#cb323-2" aria-hidden="true" tabindex="-1"></a>theoretical_quantiles <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(p)</span>
<span id="cb323-3"><a href="distributions.html#cb323-3" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(theoretical_quantiles, sample_quantiles) <span class="sc">+</span> <span class="fu">geom_abline</span>()</span></code></pre></div>
<p>O código acima foi apresentado para ajudar a melhor descrever o conceito dos gráficos QQ. No entanto, na prática, é mais fácil usar as funções do <strong>ggplot2</strong>, descritos na Seção <a href="distributions.html#other-geometries">8.16</a>:</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="distributions.html#cb324-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;Male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb324-2"><a href="distributions.html#cb324-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">scale</span>(height))) <span class="sc">+</span></span>
<span id="cb324-3"><a href="distributions.html#cb324-3" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb324-4"><a href="distributions.html#cb324-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_abline</span>()</span></code></pre></div>
<p>Enquanto na ilustração anterior usamos 20 quantis, a função <code>geom_qq</code> usa, por padrão, a mesma quantidade de quantis que dados.</p>
</div>
<div id="percentis" class="section level2" number="8.11">
<h2><span class="header-section-number">8.11</span> Percentis</h2>
<p>Antes de continuar, vamos definir alguns termos que são comumente usados na análise exploratória de dados.</p>
<p>Percentis (<em>percentiles</em>) são formas de quantis comumente usadas. Percentis são quantis que podem ser obtidos ao definir <span class="math inline">\(p\)</span> como <span class="math inline">\(0.01, 0.02, ..., 0.99\)</span>. Por exemplo, <span class="math inline">\(p=0.25\)</span> é denominado como 25º percentil, pois fornece um número para o qual 25% dos dados estão abaixo. O percentil mais famoso é 50º, também conhecido como <em>mediana</em>.</p>
<p>Para a distribuição normal, a mediana e a média são as mesmas, mas geralmente não é o caso.</p>
<p>Outro caso especial que recebe um nome são os <em>quartis</em>, obtidos através da configuração <span class="math inline">\(p=0.25\)</span>, <span class="math inline">\(0.50\)</span> e <span class="math inline">\(0.75\)</span>.</p>
</div>
<div id="diagramas-de-caixas-boxplots" class="section level2" number="8.12">
<h2><span class="header-section-number">8.12</span> Diagramas de caixas (<em>boxplots</em>)</h2>
<p>Para apresentar os <em>boxplots</em> (diagramas de caixas), usaremos mais uma vez os dados de assassinatos nos EUA. Vamos supor que queremos sumarizar a distribuição da taxa de homicídios. Usando as técnicas de visualização de dados que aprendemos anteriormente, podemos ver que a aproximação normal não se aplica aqui:</p>
<p><img src="livro_files/figure-html/hist-qqplot-non-normal-data-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Nesse caso, o histograma acima ou um gráfico de densidade suave serviria como um resumo relativamente sucinto.</p>
<p>Agora, suponha que aqueles que estão acostumados a receber apenas dois números como resumos solicitem uma sumarização numérica mais compacta.</p>
<p>Aqui, Tukey ofereceu alguns conselhos. Primeiramente, ele sugeriu fornecer um resumo de cinco números compostos pelo intervalo, juntamente com os quartis (percentis 25, 50 e 75). Além disso, Tukey sugeriu ignorar <em>outliers</em> ao calcular o intervalo, sendo preferível plotá-los como pontos independentes. Ofereceremos uma explicação detalhada dos outliers mais adiante. Por fim, ele recomendou que representássemos graficamente esses números como uma “caixa” com “fios de bigode,” assim:</p>
<p><img src="livro_files/figure-html/first-boxplot-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>com a caixa definida pelos percentis 25% e 75% e os bigodes mostrando o intervalo. A distância entre esses dois é chamada de intervalo <em>interquartil</em>. Os dois pontos são representam valores discrepantes (<em>outliers</em>), conforme definido por Tukey. A mediana é mostrada com uma linha horizontal. Hoje, chamamos esse gráfico de <em>boxplot</em>.</p>
<p>A partir desse simples gráfico, sabemos que a mediana é de aproximadamente 2,5, que a distribuição não é simétrica e que o intervalo varia de 0 a 5 para a grande maioria dos estados, com duas exceções.</p>
<p>Discutimos como criar <em>boxplots</em> na Seção <a href="distributions.html#other-geometries">8.16</a>.</p>
</div>
<div id="stratification" class="section level2" number="8.13">
<h2><span class="header-section-number">8.13</span> Estratificação</h2>
<p>Na análise de dados, geralmente dividimos as observações em grupos com base nos valores de uma ou mais variáveis associadas a essas observações. Por exemplo, na próxima seção, dividiremos os valores de altura em grupos de acordo com uma variável de gênero: mulheres e homens. Chamamos esse procedimento de <em>estratificação</em> e nos referimos aos grupos resultantes como estratos (<em>strata</em>).</p>
<p>A estratificação é comum na visualização de dados, pois geralmente estamos interessados em saber como a distribuição de variáveis difere entre diferentes subgrupos. Veremos vários exemplos ao longo desta parte do livro. Além disso, revisaremos o conceito de estratificação quando aprendermos sobre regressão no Capítulo <a href="#regression"><strong>??</strong></a> e na parte de aprendizagem da máquina do livro.</p>
</div>
<div id="student-height-cont" class="section level2" number="8.14">
<h2><span class="header-section-number">8.14</span> Estudo de caso: descrevendo as alturas dos alunos (continuação)</h2>
<p>Usando histogramas, gráficos de densidade e gráficos QQ, ficamos convencidos de que os dados de altura masculina se aproximam muito de uma distribuição normal. Nesse caso, damos ao ET um resumo muito sucinto: as alturas masculinas seguem uma distribuição normal com uma média de 69.3 polegadas e um desvio padrão de 3.6 polegadas. Com essas informações, o ET terá uma boa ideia do que esperar quando conhecer nossos alunos do sexo masculino. No entanto, para fornecer uma visão geral, também devemos fornecer um resumo das alturas femininas.</p>
<p>Aprendemos que os boxplots são úteis quando queremos comparar rapidamente duas ou mais distribuições. Aqui vemos as alturas para homens e mulheres:</p>
<p><img src="livro_files/figure-html/female-male-boxplots-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>O diagrama mostra imediatamente que os homens são, em média, mais altos que as mulheres. Além disso, os desvios padrão parecem ser semelhantes. Entretnto, será que a aproximação normal também funciona para os dados de altura feminina coletados pela pesquisa? Esperamos que eles sigam uma distribuição normal, assim como os meninos. No entanto, gráficos exploratórios revelam que a aproximação não é tão útil:</p>
<p><img src="livro_files/figure-html/histogram-qqplot-female-heights-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Vemos algo que não vemos nos meninos: o gráfico de densidade tem uma segunda “protuberância.” Além disso, o gráfico QQ mostra que os pontos mais altos tendem a ser maiores do que o esperado pela distribuição normal. Também vemos cinco pontos no gráfico QQ que sugerem alturas inferiores às esperadas para uma distribuição normal. Ao reportar novamente ao ET, podemos precisar fornecer um histograma das alturas femininas, em vez de apenas a média e o desvio padrão.</p>
<p>No entanto, ao reler a citação de Tukey percebemos algo que não esperávamos ver. Se olharmos para outros conjuntos de dados de distribuição de alturas femininas, podemos descobrir que elas são bem aproximadas com uma distribuição normal. Então, por que nossas alunas são diferentes? Seria nossa classe composta por um time de basquete feminino? Será que há uma parte das mulheres dizendo ser mais altas do que realmente são? Uma outra explicação mais provável pode estar na forma em que os alunos entraram em suas alturas. <code>FEMALE</code> (feminino) era a opção de gênero padrão, logo alguns homens, ao inserirem suas alturas, podem ter esquecido de mudar essa opção. De qualquer forma, a visualização de dados ajudou a descobrir uma possível falha em nossos dados.</p>
<p>Em relação aos cinco menores valores, note que esses valores são:</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="distributions.html#cb325-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb325-2"><a href="distributions.html#cb325-2" aria-hidden="true" tabindex="-1"></a><span class="fu">top_n</span>(<span class="dv">5</span>, <span class="fu">desc</span>(height)) <span class="sc">%&gt;%</span></span>
<span id="cb325-3"><a href="distributions.html#cb325-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pull</span>(height)</span>
<span id="cb325-4"><a href="distributions.html#cb325-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 51 53 55 52 52</span></span></code></pre></div>
<p>Como essas as alturas são inseridas pelos próprios alunos, há uma possibilidade que eles desejavam dizer na verdade <code>5'1"</code>, <code>5'2"</code>, <code>5'3"</code> ou <code>5'5"</code> (medida em pés e polegadas).</p>
</div>
<div id="exercícios-17" class="section level2" number="8.15">
<h2><span class="header-section-number">8.15</span> Exercícios</h2>
<p>1. Defina variáveis contendo alturas de homens e mulheres desta maneira:</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="distributions.html#cb326-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb326-2"><a href="distributions.html#cb326-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(heights)</span>
<span id="cb326-3"><a href="distributions.html#cb326-3" aria-hidden="true" tabindex="-1"></a>male <span class="ot">&lt;-</span> heights<span class="sc">$</span>height[heights<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;Male&quot;</span>]</span>
<span id="cb326-4"><a href="distributions.html#cb326-4" aria-hidden="true" tabindex="-1"></a>female <span class="ot">&lt;-</span> heights<span class="sc">$</span>height[heights<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>]</span></code></pre></div>
<p>Quantas medições temos para cada uma delas?</p>
<p>2. Suponha que não possamos fazer um gráfico e queremos comparar as distribuições lado a lado. Não podemos simplesmente listar todos os números. Em vez disso, veremos os percentis. Crie uma tabela com cinco linhas mostrando os percentis 10, 30, 50, 70 e 90 para cada um dos sexos. Denomine as tabelas como <code>female_percentiles</code> para mulheres e <code>male_percentiles</code> para homens. Em seguida, crie um <em>data frame</em> inserindo cada tabela como uma coluna.</p>
<p>3. Analise os seguintes <em>boxplots</em> mostrando os tamanhos de população por país:</p>
<p><img src="livro_files/figure-html/boxplot-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Qual continente tem o país com o maior tamanho populacional?</p>
<p>4. Qual continente tem o maior tamanho médio de população?</p>
<p>5. Qual é o tamanho médio da população da África (arredonde para o valor mais próximo)?</p>
<p>6. Qual a proporção de países na Europa com populações inferiores a 14 milhões?</p>
<ol style="list-style-type: lower-alpha">
<li>0,99</li>
<li>0,75</li>
<li>0,50</li>
<li>0,25</li>
</ol>
<p>7. Se usarmos uma transformação logarítmica, qual dos continentes apresentados anteriormente apresenta o maior intervalo interquartil?</p>
<p>8. Carregue o conjunto de dados de alturas (<code>heights</code>) e crie um vetor <code>x</code> com apenas as alturas masculinas:</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="distributions.html#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb327-2"><a href="distributions.html#cb327-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(heights)</span>
<span id="cb327-3"><a href="distributions.html#cb327-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> heights<span class="sc">$</span>height[heights<span class="sc">$</span>sex<span class="sc">==</span><span class="st">&quot;Male&quot;</span>]</span></code></pre></div>
<p>Qual a proporção dos dados entre 69 e 72 polegadas (maior que 69, mas menor ou igual a 72)? Dica: use um operador lógico e a função <code>mean</code>.</p>
<p>9. Suponha que a única coisa que você saiba sobre os dados seja a média e o desvio padrão. Use a aproximação normal para estimar a proporção que você acabou de calcular. Dica: comece calculando a média e o desvio padrão. Então, use a função <code>pnorm</code> prever as proporções.</p>
<p>10. Observe que a aproximação calculada na pergunta nove está muito próxima do cálculo exato realizado na primeira questão. Agora faça a mesma tarefa para valores mais extremos. Compare o cálculo exato e a aproximação normal do intervalo (79,81]. Quantas vezes maior é a proporção real do que a aproximação?</p>
<p>11. Considere a distribuição de homens adultos no mundo como uma distribuição normal, com uma altura média de 69 polegadas e um desvio padrão de 3 polegadas. Usando essa aproximação, encontre a proporção de homens adultos com 7 pés de altura (equivalente a 84 polegadas ou 2,13 metros) ou mais, conhecidos como “<em>seven-footers</em>.” Dica: use a função <code>pnorm</code>.</p>
<p>12. Existem cerca de um bilhão de homens entre 18 e 40 anos no mundo. Use sua resposta à pergunta anterior para estimar quantos desses homens (18 a 40 anos) têm sete pés de altura (84" ou 2,13 m) ou mais no mundo.</p>
<p>13. Existem cerca de 10 jogadores da liga americana de basquete (NBA - <em>National Basketball Association</em>) com 7 pés de altura ou mais. Usando a resposta para as duas perguntas anteriores, qual a proporção de <em>seven-footers</em> do mundo, com idades entre 18 e 40 anos, na NBA?</p>
<p>14. Repita os cálculos feitos na pergunta anterior para a altura do jogador de basquete Lebron James: 6 pés e 8 polegadas (equivalente a 80" ou 2,03m). Existem cerca de 150 jogadores que são pelo menos tão altos.</p>
<p>15. Ao responder às perguntas anteriores, descobrimos que não é raro que algué com de sete pés de altura se torne jogador da NBA. Assim, qual das opções a seguir representa uma crítica justa aos nossos cálculos?</p>
<ol style="list-style-type: lower-alpha">
<li>Prática e talento são o que fazem um ótimo jogador de basquete, não a altura.</li>
<li>A aproximação normal não é apropriada para alturas.</li>
<li>Conforme observado na questão 10, a aproximação normal tende a subestimar valores discrepantes. É possível que existam mais <em>seven-footers</em> do que previmos.</li>
<li>Conforme observado na questão 10, a aproximação normal tende a superestimar valores discrepantes. É possível que existam menos <em>seven-footers</em> do que previmos.</li>
</ol>
</div>
<div id="other-geometries" class="section level2" number="8.16">
<h2><span class="header-section-number">8.16</span> Geometrias ggplot2</h2>
<p>No capítulo <a href="ggplot2.html#ggplot2">7</a> apresentamos o pacote <strong>ggplot2</strong> para visualização de dados. Aqui, demonstramos como gerar gráficos relacionados a distribuições, especificamente os gráficos mostrados anteriormente neste capítulo.</p>
<div id="gráficos-de-barra" class="section level3" number="8.16.1">
<h3><span class="header-section-number">8.16.1</span> Gráficos de barra</h3>
<p>Para gerar um gráfico de barras (<em>barplot</em> em inglês), podemos usar a geometria <code>geom_bar</code>. Por padrão, R conta o número de ocorrências em cada categoria e desenha uma barra. Aqui vemos o gráfico de barras para as regiões dos Estados Unidos.</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="distributions.html#cb328-1" aria-hidden="true" tabindex="-1"></a>murders <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(region)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/barplot-geom-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Muitas vezes, já temos uma tabela com a distribuição que queremos apresentar como um gráfico de barras. Como por exemplo:</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="distributions.html#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(murders)</span>
<span id="cb329-2"><a href="distributions.html#cb329-2" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> murders <span class="sc">%&gt;%</span></span>
<span id="cb329-3"><a href="distributions.html#cb329-3" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(region) <span class="sc">%&gt;%</span></span>
<span id="cb329-4"><a href="distributions.html#cb329-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">proportion =</span> n<span class="sc">/</span><span class="fu">sum</span>(n))</span>
<span id="cb329-5"><a href="distributions.html#cb329-5" aria-hidden="true" tabindex="-1"></a>tab</span>
<span id="cb329-6"><a href="distributions.html#cb329-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          region  n proportion</span></span>
<span id="cb329-7"><a href="distributions.html#cb329-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     Northeast  9      0.176</span></span>
<span id="cb329-8"><a href="distributions.html#cb329-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2         South 17      0.333</span></span>
<span id="cb329-9"><a href="distributions.html#cb329-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 North Central 12      0.235</span></span>
<span id="cb329-10"><a href="distributions.html#cb329-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          West 13      0.255</span></span></code></pre></div>
<p>Não queremos mais que <code>geom_bar</code> realize as contagens, mas que apenas represente graficamente uma barra para a altura fornecida pela variável <code>proportion</code>. Para isso, precisamos fornecer as categorias (<code>x</code>) e os valores (<code>y</code>), além de usar a opção <code>stat="identity"</code>.</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="distributions.html#cb330-1" aria-hidden="true" tabindex="-1"></a>tab <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(region, proportion)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/region-freq-barplot-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="histogramas-1" class="section level3" number="8.16.2">
<h3><span class="header-section-number">8.16.2</span> Histogramas</h3>
<p>Para gerar histogramas, podemos utilizar a função <code>geom_histogram</code>. Ao analisar a página de ajuda dessa função, vemos que o único argumento necessário é <code>x</code>, a variável para a qual construiremos um histograma. Neste caso, ele não será necessário declará-lo, pois sabemos que <code>x</code> é o primeiro argumento usado. O código fica assim:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="distributions.html#cb331-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span></span>
<span id="cb331-2"><a href="distributions.html#cb331-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb331-3"><a href="distributions.html#cb331-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(height)) <span class="sc">+</span></span>
<span id="cb331-4"><a href="distributions.html#cb331-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_histogram</span>()</span></code></pre></div>
<p>Se executarmos o código acima, ele retornará uma mensagem:</p>
<blockquote>
<p><code>stat_bin()</code> usando <code>bins = 30</code>. Escolha um valor melhor usando <code>binwidth</code>.</p>
</blockquote>
<p>Anteriormente, usamos um tamanho de compartimento de 1 polegada; portanto, o código ficará assim:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="distributions.html#cb332-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span></span>
<span id="cb332-2"><a href="distributions.html#cb332-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb332-3"><a href="distributions.html#cb332-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(height)) <span class="sc">+</span></span>
<span id="cb332-4"><a href="distributions.html#cb332-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>)</span></code></pre></div>
<p>Finalmente, se por razões estéticas quisermos adicionar cores, podemos usar os argumentos descritos na página de ajuda. Podemos ainda adicionar rótulos e um título:</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="distributions.html#cb333-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span></span>
<span id="cb333-2"><a href="distributions.html#cb333-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb333-3"><a href="distributions.html#cb333-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(height)) <span class="sc">+</span></span>
<span id="cb333-4"><a href="distributions.html#cb333-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb333-5"><a href="distributions.html#cb333-5" aria-hidden="true" tabindex="-1"></a><span class="fu">xlab</span>(<span class="st">&quot;Altura masculina em polegadas&quot;</span>) <span class="sc">+</span></span>
<span id="cb333-6"><a href="distributions.html#cb333-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggtitle</span>(<span class="st">&quot;Histograma&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/height-histogram-geom-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="gráficos-de-densidade" class="section level3" number="8.16.3">
<h3><span class="header-section-number">8.16.3</span> Gráficos de densidade</h3>
<p>Para criar um gráfico de densidade suave, usamos <code>geom_density</code>. Assim, para fazer um gráfico de densidade suave com os dados que visualizamos anteriormente como um histograma, podemos usar este código:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="distributions.html#cb334-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span></span>
<span id="cb334-2"><a href="distributions.html#cb334-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb334-3"><a href="distributions.html#cb334-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(height)) <span class="sc">+</span></span>
<span id="cb334-4"><a href="distributions.html#cb334-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_density</span>()</span></code></pre></div>
<p>Para preencher com cores, podemos usar o argumento <code>fill</code>.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="distributions.html#cb335-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span></span>
<span id="cb335-2"><a href="distributions.html#cb335-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb335-3"><a href="distributions.html#cb335-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(height)) <span class="sc">+</span></span>
<span id="cb335-4"><a href="distributions.html#cb335-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/ggplot-density-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Para alterar a suavidade da densidade, usamos o argumento <code>adjust</code> para multiplicar o valor padrão pelo ajuste. Por exemplo, se queremos que o parâmetro de suavização seja duas vezes maior, usamos:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="distributions.html#cb336-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span></span>
<span id="cb336-2"><a href="distributions.html#cb336-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>) <span class="sc">+</span></span>
<span id="cb336-3"><a href="distributions.html#cb336-3" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">&quot;blue&quot;</span>, <span class="at">adjust =</span> <span class="dv">2</span>)</span></code></pre></div>
</div>
<div id="boxplots" class="section level3" number="8.16.4">
<h3><span class="header-section-number">8.16.4</span> <em>Boxplots</em></h3>
<p>A geometria para a criação de gráficos de caixas é a <code>geom_boxplot</code>. Como já discutimos, os <em>boxplots</em> são úteis para comparar distribuições. Por exemplo, abaixo vemos as alturas mostradas anteriormente para as mulheres comparadas às alturas dos homens. Para essa geometria, precisamos dos argumentos <code>x</code> com as categorias e <code>y</code> com os valores:</p>
<p><img src="livro_files/figure-html/female-male-boxplots-geom-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="gráficos-qq-1" class="section level3" number="8.16.5">
<h3><span class="header-section-number">8.16.5</span> Gráficos QQ</h3>
<p>Para gráficos QQ, usamos a geometria <code>geom_qq</code>. Na página de ajuda, aprendemos que precisamos especificar o <code>sample</code> (aprenderemos sobre amostras em um capítulo posterior). Aqui está o gráfico QQ para as alturas masculinas:</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="distributions.html#cb337-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex<span class="sc">==</span><span class="st">&quot;Male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb337-2"><a href="distributions.html#cb337-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> height)) <span class="sc">+</span></span>
<span id="cb337-3"><a href="distributions.html#cb337-3" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_qq</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/ggplot-qq-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Por padrão, a variável de amostra é comparada a uma distribuição normal com uma média de 0 e um desvio padrão de 1. Para alterar isso, usamos o argumento <code>dparams</code> de acordo com a página de ajuda. Para adicionar uma linha de identidade, basta atribuir uma outra camada. Para linhas retas, usamos a função <code>geom_abline</code>. Por padrão, a linha de identidade tem inclinação = 1 (<em>slope = 1</em>) e interceptação = 0 (<em>intercept = 0</em>).</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="distributions.html#cb338-1" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> heights <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex<span class="sc">==</span><span class="st">&quot;Male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb338-2"><a href="distributions.html#cb338-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(height), <span class="at">sd =</span> <span class="fu">sd</span>(height))</span>
<span id="cb338-3"><a href="distributions.html#cb338-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-4"><a href="distributions.html#cb338-4" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex<span class="sc">==</span><span class="st">&quot;Male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb338-5"><a href="distributions.html#cb338-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> height)) <span class="sc">+</span></span>
<span id="cb338-6"><a href="distributions.html#cb338-6" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_qq</span>(<span class="at">dparams =</span> params) <span class="sc">+</span></span>
<span id="cb338-7"><a href="distributions.html#cb338-7" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_abline</span>()</span></code></pre></div>
<p>Outra opção aqui é dimensionar os dados primeiro e, em seguida, plotar o <em>QQplot</em> contra a distribuição normal padrão.</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="distributions.html#cb339-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span></span>
<span id="cb339-2"><a href="distributions.html#cb339-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sex<span class="sc">==</span><span class="st">&quot;Male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb339-3"><a href="distributions.html#cb339-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">scale</span>(height))) <span class="sc">+</span></span>
<span id="cb339-4"><a href="distributions.html#cb339-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb339-5"><a href="distributions.html#cb339-5" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_abline</span>()</span></code></pre></div>
</div>
<div id="imagens" class="section level3" number="8.16.6">
<h3><span class="header-section-number">8.16.6</span> Imagens</h3>
<p>Não tivemos que usar imagens para os conceitos descritos neste capítulo, mas as usaremos na Seção <a href="princípios-de-visualização-de-dados.html#vaccines">10.14</a>. Por isso, apresentaremos a seguir as duas geometrias usadas para criar imagens: <strong>geom_tile</strong> e <strong>geom_raster</strong>. Elas se comportam de maneira semelhante (para ver o que as difere, consulte a página de ajuda). Para criar uma imagem em <strong>ggplot2</strong>, precisamos de um <em>data frame</em> com as coordenadas x e y, além dos valores associados a cada uma delas. Aqui temos um <em>data frame</em>:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="distributions.html#cb340-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb340-2"><a href="distributions.html#cb340-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">z =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">120</span>)</span></code></pre></div>
<p>Note que esta é a versão organizada de uma matriz, <code>matrix(1:120, 12, 10)</code>. Para representar graficamente a imagem, usamos o seguinte código:</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="distributions.html#cb341-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y, <span class="at">fill =</span> z)) <span class="sc">+</span></span>
<span id="cb341-2"><a href="distributions.html#cb341-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_raster</span>()</span></code></pre></div>
<p>Para essas imagens, geralmente é necessário alterar a escala de cores. Isso pode ser feito através da camada <code>scale_fill_gradientn</code>.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="distributions.html#cb342-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y, <span class="at">fill =</span> z)) <span class="sc">+</span></span>
<span id="cb342-2"><a href="distributions.html#cb342-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_raster</span>() <span class="sc">+</span></span>
<span id="cb342-3"><a href="distributions.html#cb342-3" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_gradientn</span>(<span class="at">colors =</span> <span class="fu">terrain.colors</span>(<span class="dv">10</span>))</span></code></pre></div>
<p><img src="livro_files/figure-html/ggplot2-image-new-colors-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="gráficos-rápidos" class="section level3" number="8.16.7">
<h3><span class="header-section-number">8.16.7</span> Gráficos rápidos</h3>
<p>Na seção <a href="ggplot2.html#qplot">7.13</a>, introduzimos <code>qplot</code> como uma função útil quando precisamos fazer um rápido diagrama de dispersão. Também podemos usar <code>qplot</code> para criar histogramas, gráficos de densidade, <em>boxplots</em>, gráficos QQ e muito mais. Embora não forneça o nível de controle do <code>ggplot</code>, <code>qplot</code> é definitivamente útil, pois permite criar um gráfico com um pequeno trecho de código.</p>
<p>Suponha que tenhamos as alturas femininas em um objeto <code>x</code>:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="distributions.html#cb343-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> heights <span class="sc">%&gt;%</span></span>
<span id="cb343-2"><a href="distributions.html#cb343-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sex<span class="sc">==</span><span class="st">&quot;Male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb343-3"><a href="distributions.html#cb343-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pull</span>(height)</span></code></pre></div>
<p>Para fazer um histograma rápido, podemos usar:</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="distributions.html#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(x)</span></code></pre></div>
<p>A função supõe que queremos criar um histograma porque fornecemos apenas uma variável. Na seção <a href="ggplot2.html#qplot">7.13</a> vimos que, se fornecermos duas variáveis para <code>qplot</code>, ele cria automaticamente um diagrama de dispersão.</p>
<p>Para fazer um gráfico QQ rápido, você pode usar o argumento <code>sample</code>. Note que podemos adicionar camadas, como fazemos com <code>ggplot</code>.</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="distributions.html#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(<span class="at">sample =</span> <span class="fu">scale</span>(x)) <span class="sc">+</span> <span class="fu">geom_abline</span>()</span></code></pre></div>
<p>Se fornecermos um <em>factor</em> e um vetor numérico, obteremos um gráfico como o que veremos a seguir. Observe que no código estamos usando o argumento <code>data</code>. Como o <em>data frame</em> não é o primeiro argumento em <code>qplot</code>, temos que usar o operador de ponto.</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="distributions.html#cb346-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span> <span class="fu">qplot</span>(sex, height, <span class="at">data =</span> .)</span></code></pre></div>
<p>Também podemos selecionar uma geometria específica usando o argumento <code>geom</code>. Portanto, para converter o gráfico anterior em um <em>boxplot</em>, usamos o seguinte código:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="distributions.html#cb347-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span> <span class="fu">qplot</span>(sex, height, <span class="at">data =</span> ., <span class="at">geom =</span> <span class="st">&quot;boxplot&quot;</span>)</span></code></pre></div>
<p>Também podemos usar o argumento <code>geom</code> para gerar um gráfico de densidade em vez de um histograma:</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="distributions.html#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(x, <span class="at">geom =</span> <span class="st">&quot;density&quot;</span>)</span></code></pre></div>
<p>Embora não tanto quanto com <code>ggplot</code>, temos alguma flexibilidade para melhorar os resultados de <code>qplot</code>. Olhando a página de ajuda, vemos várias maneiras pelas quais podemos melhorar a aparência do histograma anterior. Por exemplo:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="distributions.html#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(x, <span class="at">bins=</span><span class="dv">15</span>, <span class="at">color =</span> <span class="fu">I</span>(<span class="st">&quot;black&quot;</span>), <span class="at">xlab =</span> <span class="st">&quot;Population&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/qplot-example-6-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><strong>Nota técnica</strong>: o motivo pelo qual usamos <code>I("black")</code> é porque nós queremos que <code>qplot</code> trate <code>"black"</code> como caracteres ao invés de um <em>factor</em>. Esse é o comportamento padrão dentro do <code>aes</code>, que é chamado internamente aqui. Em geral, a função <code>I</code> é usada no R para dizer “mantenha como está.”</p>
</div>
</div>
<div id="exercícios-18" class="section level2" number="8.17">
<h2><span class="header-section-number">8.17</span> Exercícios</h2>
<p>1. Agora vamos usar a função <code>geom_histogram</code> para fazer um histograma das alturas no conjunto de dados <code>height</code>. Lendo a documentação para essa função, vemos que ela requer apenas um mapeamento: os valores a serem usados para o histograma. Faça um histograma de todos os gráficos.</p>
<p>Qual é a variável que contém as alturas?</p>
<ol style="list-style-type: lower-alpha">
<li><code>sex</code></li>
<li><code>heights</code></li>
<li><code>height</code></li>
<li><code>heights$height</code></li>
</ol>
<p>2. Agora crie um objeto ggplot. Use o <em>pipe</em> para atribuir os dados de altura ao objeto ggplot. Atribua <code>height</code> para os valores de x através da função <code>aes</code>.</p>
<p>3. Agora, estamos prontos para adicionar uma camada para fazer o histograma. Use o objeto criado no exercício anterior e a função <code>geom_histogram</code> para fazer o histograma.</p>
<p>4. Quando executamos o código no exercício anterior, recebemos o aviso:
<code>stat_bin()</code> usando <code>bins = 30</code>. Escolha um valor melhor com <code>binwidth</code>.</p>
<p>Use o argumento <code>binwidth</code> para alterar o histograma criado no exercício anterior para usar compartimentos de 1 polegada.</p>
<p>5. Em vez de um histograma, vamos fazer um gráfico de densidade suave. Neste caso, não criaremos um objeto. Em vez disso, criaremos e exibiremos o gráfico com uma linha de código. Altere a geometria no código usado anteriormente para criar uma densidade suave em vez de um histograma.</p>
<p>6. Agora vamos fazer um gráfico de densidade para homens e mulheres separadamente. Podemos fazer isso usando o argumento <code>group</code>. Atribuímos grupos por meio de mapeamento estético, pois cada ponto precisa de um grupo antes de fazer os cálculos necessários para estimar uma densidade.</p>
<p>7. Também podemos atribuir grupos através do argumento <code>color</code>. Isso tem o benefício adicional de usar cores para distinguir grupos. Mude o código acima para usar cores.</p>
<p>8. Além disso, podemos atribuir grupos através do argumento <code>fill</code>. Esse argumento também permite usar cores para distinguir grupos, desta forma:</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="distributions.html#cb350-1" aria-hidden="true" tabindex="-1"></a>heights <span class="sc">%&gt;%</span></span>
<span id="cb350-2"><a href="distributions.html#cb350-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(height, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb350-3"><a href="distributions.html#cb350-3" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_density</span>()</span></code></pre></div>
<p>No entanto, aqui a segunda densidade é plotada em cima da primeira. Podemos tornar as curvas mais visíveis usando <em>alpha blending</em> para adicionar transparência. Defina o parâmetro <em>alpha</em> como 0,2 na função <code>geom_density</code> para fazer essa alteração.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ggplot2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="gapminder.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dslivro/edit/master/dataviz/distributions.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["livro.pdf", "livro.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
